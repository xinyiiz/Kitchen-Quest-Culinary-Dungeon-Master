(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function a0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fu={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function s0(){if(Qp)return Wo;Qp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var h in r)h!=="key"&&(c[h]=r[h])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return Wo.Fragment=t,Wo.jsx=o,Wo.jsxs=o,Wo}var Zp;function r0(){return Zp||(Zp=1,fu.exports=s0()),fu.exports}var x=r0(),du={exports:{}},jo={},pu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function u0(){return $p||($p=1,(function(i){function t(H,K){var Y=H.length;H.push(K);e:for(;0<Y;){var ae=Y-1>>>1,ve=H[ae];if(0<r(ve,K))H[ae]=K,H[Y]=ve,Y=ae;else break e}}function o(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var K=H[0],Y=H.pop();if(Y!==K){H[0]=Y;e:for(var ae=0,ve=H.length,R=ve>>>1;ae<R;){var B=2*(ae+1)-1,Q=H[B],ne=B+1,ge=H[ne];if(0>r(Q,Y))ne<ve&&0>r(ge,Q)?(H[ae]=ge,H[ne]=Y,ae=ne):(H[ae]=Q,H[B]=Y,ae=B);else if(ne<ve&&0>r(ge,Y))H[ae]=ge,H[ne]=Y,ae=ne;else break e}}return K}function r(H,K){var Y=H.sortIndex-K.sortIndex;return Y!==0?Y:H.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,h=p.now();i.unstable_now=function(){return p.now()-h}}var y=[],g=[],v=1,S=null,E=3,C=!1,M=!1,w=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function J(H){for(var K=o(g);K!==null;){if(K.callback===null)a(g);else if(K.startTime<=H)a(g),K.sortIndex=K.expirationTime,t(y,K);else break;K=o(g)}}function j(H){if(w=!1,J(H),!M)if(o(y)!==null)M=!0,G||(G=!0,$());else{var K=o(g);K!==null&&me(j,K.startTime-H)}}var G=!1,z=-1,ue=5,Z=-1;function le(){return I?!0:!(i.unstable_now()-Z<ue)}function ee(){if(I=!1,G){var H=i.unstable_now();Z=H;var K=!0;try{e:{M=!1,w&&(w=!1,X(z),z=-1),C=!0;var Y=E;try{t:{for(J(H),S=o(y);S!==null&&!(S.expirationTime>H&&le());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,E=S.priorityLevel;var ve=ae(S.expirationTime<=H);if(H=i.unstable_now(),typeof ve=="function"){S.callback=ve,J(H),K=!0;break t}S===o(y)&&a(y),J(H)}else a(y);S=o(y)}if(S!==null)K=!0;else{var R=o(g);R!==null&&me(j,R.startTime-H),K=!1}}break e}finally{S=null,E=Y,C=!1}K=void 0}}finally{K?$():G=!1}}}var $;if(typeof F=="function")$=function(){F(ee)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,de=ce.port2;ce.port1.onmessage=ee,$=function(){de.postMessage(null)}}else $=function(){P(ee,0)};function me(H,K){z=P(function(){H(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var Y=E;E=K;try{return H()}finally{E=Y}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=E;E=H;try{return K()}finally{E=Y}},i.unstable_scheduleCallback=function(H,K,Y){var ae=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,H){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Y+ve,H={id:v++,callback:K,priorityLevel:H,startTime:Y,expirationTime:ve,sortIndex:-1},Y>ae?(H.sortIndex=Y,t(g,H),o(y)===null&&H===o(g)&&(w?(X(z),z=-1):w=!0,me(j,Y-ae))):(H.sortIndex=ve,t(y,H),M||C||(M=!0,G||(G=!0,$()))),H},i.unstable_shouldYield=le,i.unstable_wrapCallback=function(H){var K=E;return function(){var Y=E;E=K;try{return H.apply(this,arguments)}finally{E=Y}}}})(mu)),mu}var Wp;function c0(){return Wp||(Wp=1,pu.exports=u0()),pu.exports}var hu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function f0(){if(jp)return he;jp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function P(R,B,Q){this.props=R,this.context=B,this.refs=I,this.updater=Q||M}P.prototype.isReactComponent={},P.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=P.prototype;function F(R,B,Q){this.props=R,this.context=B,this.refs=I,this.updater=Q||M}var J=F.prototype=new X;J.constructor=F,w(J,P.prototype),J.isPureReactComponent=!0;var j=Array.isArray;function G(){}var z={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function Z(R,B,Q){var ne=Q.ref;return{$$typeof:i,type:R,key:B,ref:ne!==void 0?ne:null,props:Q}}function le(R,B){return Z(R.type,B,R.props)}function ee(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function $(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return B[Q]})}var ce=/\/+/g;function de(R,B){return typeof R=="object"&&R!==null&&R.key!=null?$(""+R.key):B.toString(36)}function me(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(G,G):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function H(R,B,Q,ne,ge){var Se=typeof R;(Se==="undefined"||Se==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case i:case t:be=!0;break;case v:return be=R._init,H(be(R._payload),B,Q,ne,ge)}}if(be)return ge=ge(R),be=ne===""?"."+de(R,0):ne,j(ge)?(Q="",be!=null&&(Q=be.replace(ce,"$&/")+"/"),H(ge,B,Q,"",function(oo){return oo})):ge!=null&&(ee(ge)&&(ge=le(ge,Q+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(ce,"$&/")+"/")+be)),B.push(ge)),1;be=0;var at=ne===""?".":ne+":";if(j(R))for(var Be=0;Be<R.length;Be++)ne=R[Be],Se=at+de(ne,Be),be+=H(ne,B,Q,Se,ge);else if(Be=C(R),typeof Be=="function")for(R=Be.call(R),Be=0;!(ne=R.next()).done;)ne=ne.value,Se=at+de(ne,Be++),be+=H(ne,B,Q,Se,ge);else if(Se==="object"){if(typeof R.then=="function")return H(me(R),B,Q,ne,ge);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(R,B,Q){if(R==null)return R;var ne=[],ge=0;return H(R,ne,"","",function(Se){return B.call(Q,Se,ge++)}),ne}function Y(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var ae=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:K,forEach:function(R,B,Q){K(R,function(){B.apply(this,arguments)},Q)},count:function(R){var B=0;return K(R,function(){B++}),B},toArray:function(R){return K(R,function(B){return B})||[]},only:function(R){if(!ee(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return he.Activity=S,he.Children=ve,he.Component=P,he.Fragment=o,he.Profiler=r,he.PureComponent=F,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,he.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},he.cache=function(R){return function(){return R.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(R,B,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=w({},R.props),ge=R.key;if(B!=null)for(Se in B.key!==void 0&&(ge=""+B.key),B)!ue.call(B,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&B.ref===void 0||(ne[Se]=B[Se]);var Se=arguments.length-2;if(Se===1)ne.children=Q;else if(1<Se){for(var be=Array(Se),at=0;at<Se;at++)be[at]=arguments[at+2];ne.children=be}return Z(R.type,ge,ne)},he.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},he.createElement=function(R,B,Q){var ne,ge={},Se=null;if(B!=null)for(ne in B.key!==void 0&&(Se=""+B.key),B)ue.call(B,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=B[ne]);var be=arguments.length-2;if(be===1)ge.children=Q;else if(1<be){for(var at=Array(be),Be=0;Be<be;Be++)at[Be]=arguments[Be+2];ge.children=at}if(R&&R.defaultProps)for(ne in be=R.defaultProps,be)ge[ne]===void 0&&(ge[ne]=be[ne]);return Z(R,Se,ge)},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:h,render:R}},he.isValidElement=ee,he.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:Y}},he.memo=function(R,B){return{$$typeof:g,type:R,compare:B===void 0?null:B}},he.startTransition=function(R){var B=z.T,Q={};z.T=Q;try{var ne=R(),ge=z.S;ge!==null&&ge(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(G,ae)}catch(Se){ae(Se)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),z.T=B}},he.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},he.use=function(R){return z.H.use(R)},he.useActionState=function(R,B,Q){return z.H.useActionState(R,B,Q)},he.useCallback=function(R,B){return z.H.useCallback(R,B)},he.useContext=function(R){return z.H.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R,B){return z.H.useDeferredValue(R,B)},he.useEffect=function(R,B){return z.H.useEffect(R,B)},he.useEffectEvent=function(R){return z.H.useEffectEvent(R)},he.useId=function(){return z.H.useId()},he.useImperativeHandle=function(R,B,Q){return z.H.useImperativeHandle(R,B,Q)},he.useInsertionEffect=function(R,B){return z.H.useInsertionEffect(R,B)},he.useLayoutEffect=function(R,B){return z.H.useLayoutEffect(R,B)},he.useMemo=function(R,B){return z.H.useMemo(R,B)},he.useOptimistic=function(R,B){return z.H.useOptimistic(R,B)},he.useReducer=function(R,B,Q){return z.H.useReducer(R,B,Q)},he.useRef=function(R){return z.H.useRef(R)},he.useState=function(R){return z.H.useState(R)},he.useSyncExternalStore=function(R,B,Q){return z.H.useSyncExternalStore(R,B,Q)},he.useTransition=function(){return z.H.useTransition()},he.version="19.2.4",he}var em;function Hu(){return em||(em=1,hu.exports=f0()),hu.exports}var gu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function d0(){if(tm)return ot;tm=1;var i=Hu();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(y,g,null,v)},ot.flushSync=function(y){var g=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=g,a.p=v,a.d.f()}},ot.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},ot.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,g){return y(g)},ot.useFormState=function(y,g,v){return p.H.useFormState(y,g,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.4",ot}var nm;function p0(){if(nm)return gu.exports;nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=d0(),gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function m0(){if(im)return jo;im=1;var i=c0(),t=Hu(),o=p0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===l){T=!0,l=d,s=m;break}if(_===s){T=!0,s=d,l=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===l){T=!0,l=m,s=d;break}if(_===s){T=!0,s=m,l=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),F=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case G:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case F:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ae=[],ve=-1;function R(e){return{current:e}}function B(e){0>ve||(e.current=ae[ve],ae[ve]=null,ve--)}function Q(e,n){ve++,ae[ve]=e.current,e.current=n}var ne=R(null),ge=R(null),Se=R(null),be=R(null);function at(e,n){switch(Q(Se,n),Q(ge,e),Q(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vp(n),e=Tp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ne),Q(ne,e)}function Be(){B(ne),B(ge),B(Se)}function oo(e){e.memoizedState!==null&&Q(be,e);var n=ne.current,l=Tp(n,e.type);n!==l&&(Q(ge,e),Q(ne,l))}function al(e){ge.current===e&&(B(ne),B(ge)),be.current===e&&(B(be),Xo._currentValue=Y)}var Ka,Ku;function Fn(e){if(Ka===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ka=n&&n[1]||"",Ku=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+e+Ku}var Xa=!1;function Qa(e,n){if(!e||Xa)return"";Xa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(k){var L=k}Reflect.construct(e,[],V)}else{try{V.call()}catch(k){L=k}e.call(V.prototype)}}else{try{throw Error()}catch(k){L=k}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(k){if(k&&L&&typeof k.stack=="string")return[k.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var A=T.split(`
`),U=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===U.length)for(s=A.length-1,d=U.length-1;1<=s&&0<=d&&A[s]!==U[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==U[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==U[d]){var q=`
`+A[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{Xa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Fn(l):""}function kg(e,n){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return Fn("Activity");default:return""}}function Xu(e){try{var n="",l=null;do n+=kg(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Za=Object.prototype.hasOwnProperty,$a=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,qg=i.unstable_shouldYield,Og=i.unstable_requestPaint,yt=i.unstable_now,Pg=i.unstable_getCurrentPriorityLevel,Qu=i.unstable_ImmediatePriority,Zu=i.unstable_UserBlockingPriority,sl=i.unstable_NormalPriority,Vg=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Bg=i.log,zg=i.unstable_setDisableYieldValue,lo=null,vt=null;function yn(e){if(typeof Bg=="function"&&zg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(lo,e)}catch{}}var Tt=Math.clz32?Math.clz32:Jg,Fg=Math.log,Yg=Math.LN2;function Jg(e){return e>>>=0,e===0?32:31-(Fg(e)/Yg|0)|0}var rl=256,ul=262144,cl=4194304;function Yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Yn(s):(T&=_,T!==0?d=Yn(T):l||(l=_&~e,l!==0&&(d=Yn(l))))):(_=s&~m,_!==0?d=Yn(_):T!==0?d=Yn(T):l||(l=s&~e,l!==0&&(d=Yn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function ao(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),e}function ja(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function so(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xg(e,n,l,s,d,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(l=T&~l;0<l;){var q=31-Tt(l),V=1<<q;_[q]=0,A[q]=-1;var L=U[q];if(L!==null)for(U[q]=null,q=0;q<L.length;q++){var k=L[q];k!==null&&(k.lane&=-536870913)}l&=~V}s!==0&&ju(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function ju(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function ec(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Tt(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function tc(e,n){var l=n&-n;return l=(l&42)!==0?1:es(l),(l&(e.suspendedLanes|n))!==0?0:l}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function ic(e,n){var l=K.p;try{return K.p=e,n()}finally{K.p=l}}var vn=Math.random().toString(36).slice(2),je="__reactFiber$"+vn,ct="__reactProps$"+vn,di="__reactContainer$"+vn,ns="__reactEvents$"+vn,Qg="__reactListeners$"+vn,Zg="__reactHandles$"+vn,oc="__reactResources$"+vn,ro="__reactMarker$"+vn;function is(e){delete e[je],delete e[ct],delete e[ns],delete e[Qg],delete e[Zg]}function pi(e){var n=e[je];if(n)return n;for(var l=e.parentNode;l;){if(n=l[di]||l[je]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Np(e);e!==null;){if(l=e[je])return l;e=Np(e)}return n}e=l,l=e.parentNode}return null}function mi(e){if(e=e[je]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function uo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[oc];return n||(n=e[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[ro]=!0}var lc=new Set,ac={};function Jn(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(ac[e]=n,e=0;e<n.length;e++)lc.add(n[e])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},rc={};function Wg(e){return Za.call(rc,e)?!0:Za.call(sc,e)?!1:$g.test(e)?rc[e]=!0:(sc[e]=!0,!1)}function dl(e,n,l){if(Wg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function pl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Qt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jg(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function os(e){if(!e._valueTracker){var n=uc(e)?"checked":"value";e._valueTracker=jg(e,n,""+e[n])}}function cc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=uc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ey=/[\n"\\]/g;function Mt(e){return e.replace(ey,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ls(e,n,l,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xt(n)):e.value!==""+xt(n)&&(e.value=""+xt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?as(e,T,xt(n)):l!=null?as(e,T,xt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+xt(_):e.removeAttribute("name")}function fc(e,n,l,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){os(e);return}l=l!=null?""+xt(l):"",n=n!=null?""+xt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),os(e)}function as(e,n,l){n==="number"&&ml(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function yi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+xt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function dc(e,n,l){if(n!=null&&(n=""+xt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+xt(l):""}function pc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(me(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=xt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),os(e)}function vi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var ty=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||ty.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function hc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&mc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&mc(e,m,n[m])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return iy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Si=null;function gc(e){var n=mi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(ls(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));ls(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&cc(s)}break e;case"textarea":dc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&yi(e,!!l.multiple,n,!1)}}}var cs=!1;function yc(e,n,l){if(cs)return e(n,l);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(Ti!==null||Si!==null)&&(na(),Ti&&(n=Ti,e=Si,Si=Ti=null,gc(n),e)))for(n=0;n<e.length;n++)gc(e[n])}}function co(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if($t)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){fs=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{fs=!1}var Tn=null,ds=null,gl=null;function vc(){if(gl)return gl;var e,n=ds,l=n.length,s,d="value"in Tn?Tn.value:Tn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===d[m-s];s++);return gl=d.slice(e,1<s?1-s:void 0)}function yl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function Tc(){return!1}function ft(e){function n(l,s,d,m,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vl:Tc,this.isPropagationStopped=Tc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),n}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=ft(Kn),po=S({},Kn,{view:0,detail:0}),oy=ft(po),ps,ms,mo,Sl=S({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(ps=e.screenX-mo.screenX,ms=e.screenY-mo.screenY):ms=ps=0,mo=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),Sc=ft(Sl),ly=S({},Sl,{dataTransfer:0}),ay=ft(ly),sy=S({},po,{relatedTarget:0}),hs=ft(sy),ry=S({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),uy=ft(ry),cy=S({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fy=ft(cy),dy=S({},Kn,{data:0}),Ec=ft(dy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hy[e])?!!n[e]:!1}function gs(){return gy}var yy=S({},po,{key:function(e){if(e.key){var n=py[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?my[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vy=ft(yy),Ty=S({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=ft(Ty),Sy=S({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Ey=ft(Sy),_y=S({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=ft(_y),Ay=S({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=ft(Ay),Ny=S({},Kn,{newState:0,oldState:0}),xy=ft(Ny),My=[9,13,27,32],ys=$t&&"CompositionEvent"in window,ho=null;$t&&"documentMode"in document&&(ho=document.documentMode);var Iy=$t&&"TextEvent"in window&&!ho,Cc=$t&&(!ys||ho&&8<ho&&11>=ho),Ac=" ",Rc=!1;function Nc(e,n){switch(e){case"keyup":return My.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function by(e,n){switch(e){case"compositionend":return xc(n);case"keypress":return n.which!==32?null:(Rc=!0,Ac);case"textInput":return e=n.data,e===Ac&&Rc?null:e;default:return null}}function wy(e,n){if(Ei)return e==="compositionend"||!ys&&Nc(e,n)?(e=vc(),gl=ds=Tn=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Cc&&n.locale!=="ko"?null:n.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dy[e.type]:n==="textarea"}function Ic(e,n,l,s){Ti?Si?Si.push(s):Si=[s]:Ti=s,n=ua(n,"onChange"),0<n.length&&(l=new Tl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var go=null,yo=null;function Uy(e){dp(e,0)}function El(e){var n=uo(e);if(cc(n))return e}function bc(e,n){if(e==="change")return n}var wc=!1;if($t){var vs;if($t){var Ts="oninput"in document;if(!Ts){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Ts=typeof Dc.oninput=="function"}vs=Ts}else vs=!1;wc=vs&&(!document.documentMode||9<document.documentMode)}function Uc(){go&&(go.detachEvent("onpropertychange",Lc),yo=go=null)}function Lc(e){if(e.propertyName==="value"&&El(yo)){var n=[];Ic(n,yo,e,us(e)),yc(Uy,n)}}function Ly(e,n,l){e==="focusin"?(Uc(),go=n,yo=l,go.attachEvent("onpropertychange",Lc)):e==="focusout"&&Uc()}function Gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(yo)}function Hy(e,n){if(e==="click")return El(n)}function ky(e,n){if(e==="input"||e==="change")return El(n)}function qy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:qy;function vo(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Za.call(n,d)||!St(e[d],n[d]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,n){var l=Gc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gc(l)}}function kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ml(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ml(e.document)}return n}function Ss(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Oy=$t&&"documentMode"in document&&11>=document.documentMode,_i=null,Es=null,To=null,_s=!1;function Oc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||_i==null||_i!==ml(s)||(s=_i,"selectionStart"in s&&Ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),To&&vo(To,s)||(To=s,s=ua(Es,"onSelect"),0<s.length&&(n=new Tl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=_i)))}function Xn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ci={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},Cs={},Pc={};$t&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Qn(e){if(Cs[e])return Cs[e];if(!Ci[e])return e;var n=Ci[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Pc)return Cs[e]=n[l];return e}var Vc=Qn("animationend"),Bc=Qn("animationiteration"),zc=Qn("animationstart"),Py=Qn("transitionrun"),Vy=Qn("transitionstart"),By=Qn("transitioncancel"),Fc=Qn("transitionend"),Yc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Ot(e,n){Yc.set(e,n),Jn(n,[e])}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ai=0,Rs=0;function Cl(){for(var e=Ai,n=Rs=Ai=0;n<e;){var l=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Jc(l,d,m)}}function Al(e,n,l,s){It[Ai++]=e,It[Ai++]=n,It[Ai++]=l,It[Ai++]=s,Rs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ns(e,n,l,s){return Al(e,n,l,s),Rl(e)}function Zn(e,n){return Al(e,null,null,n),Rl(e)}function Jc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Rl(e){if(50<Vo)throw Vo=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ri={};function zy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,l,s){return new zy(e,n,l,s)}function xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,n){var l=e.alternate;return l===null?(l=Et(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Kc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nl(e,n,l,s,d,m){var T=0;if(s=e,typeof e=="function")xs(e)&&(T=1);else if(typeof e=="string")T=Xv(e,l,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Et(31,l,n,d),e.elementType=Z,e.lanes=m,e;case w:return $n(l.children,d,m,n);case I:T=8,d|=24;break;case P:return e=Et(12,l,n,d|2),e.elementType=P,e.lanes=m,e;case j:return e=Et(13,l,n,d),e.elementType=j,e.lanes=m,e;case G:return e=Et(19,l,n,d),e.elementType=G,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case X:T=9;break e;case J:T=11;break e;case z:T=14;break e;case ue:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Et(T,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function $n(e,n,l,s){return e=Et(7,e,s,n),e.lanes=l,e}function Ms(e,n,l){return e=Et(6,e,null,n),e.lanes=l,e}function Xc(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function Is(e,n,l){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qc=new WeakMap;function bt(e,n){if(typeof e=="object"&&e!==null){var l=Qc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Xu(n)},Qc.set(e,n),n)}return{value:e,source:n,stack:Xu(n)}}var Ni=[],xi=0,xl=null,So=0,wt=[],Dt=0,Sn=null,Yt=1,Jt="";function jt(e,n){Ni[xi++]=So,Ni[xi++]=xl,xl=e,So=n}function Zc(e,n,l){wt[Dt++]=Yt,wt[Dt++]=Jt,wt[Dt++]=Sn,Sn=e;var s=Yt;e=Jt;var d=32-Tt(s)-1;s&=~(1<<d),l+=1;var m=32-Tt(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Yt=1<<32-Tt(n)+d|l<<d|s,Jt=m+e}else Yt=1<<m|l<<d|s,Jt=e}function bs(e){e.return!==null&&(jt(e,1),Zc(e,1,0))}function ws(e){for(;e===xl;)xl=Ni[--xi],Ni[xi]=null,So=Ni[--xi],Ni[xi]=null;for(;e===Sn;)Sn=wt[--Dt],wt[Dt]=null,Jt=wt[--Dt],wt[Dt]=null,Yt=wt[--Dt],wt[Dt]=null}function $c(e,n){wt[Dt++]=Yt,wt[Dt++]=Jt,wt[Dt++]=Sn,Yt=n.id,Jt=n.overflow,Sn=e}var et=null,ke=null,Re=!1,En=null,Ut=!1,Ds=Error(a(519));function _n(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(bt(n,e)),Ds}function Wc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[je]=e,n[ct]=s,l){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(l=0;l<zo.length;l++)_e(zo[l],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),fc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),pc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||gp(n.textContent,l)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=Zt),n=!0):n=!1,n||_n(e,!0)}function jc(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:et=et.return}}function Mi(e){if(e!==et)return!1;if(!Re)return jc(e),Re=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Zr(e.type,e.memoizedProps)),l=!l),l&&ke&&_n(e),jc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=Rp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=Rp(e)}else n===27?(n=ke,Hn(e.type)?(e=tu,tu=null,ke=e):ke=n):ke=et?Gt(e.stateNode.nextSibling):null;return!0}function Wn(){ke=et=null,Re=!1}function Us(){var e=En;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),En=null),e}function Eo(e){En===null?En=[e]:En.push(e)}var Ls=R(null),jn=null,en=null;function Cn(e,n,l){Q(Ls,n._currentValue),n._currentValue=l}function tn(e){e._currentValue=Ls.current,B(Ls)}function Gs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Hs(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Gs(m.return,l,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Gs(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ii(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;St(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===be.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Xo):e=[Xo])}d=d.return}e!==null&&Hs(n,e,l,s),n.flags|=262144}function Ml(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){jn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return ef(jn,e)}function Il(e,n){return jn===null&&ei(e),ef(e,n)}function ef(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},en===null){if(e===null)throw Error(a(308));en=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else en=en.next=n;return l}var Fy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Yy=i.unstable_scheduleCallback,Jy=i.unstable_NormalPriority,Ye={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new Fy,data:new Map,refCount:0}}function _o(e){e.refCount--,e.refCount===0&&Yy(Jy,function(){e.controller.abort()})}var Co=null,qs=0,bi=0,wi=null;function Ky(e,n){if(Co===null){var l=Co=[];qs=0,bi=Vr(),wi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return qs++,n.then(tf,tf),n}function tf(){if(--qs===0&&Co!==null){wi!==null&&(wi.status="fulfilled");var e=Co;Co=null,bi=0,wi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Xy(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var nf=H.S;H.S=function(e,n){Pd=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ky(e,n),nf!==null&&nf(e,n)};var ti=R(null);function Os(){var e=ti.current;return e!==null?e:He.pooledCache}function bl(e,n){n===null?Q(ti,ti.current):Q(ti,n.pool)}function of(){var e=Os();return e===null?null:{parent:Ye._currentValue,pool:e}}var Di=Error(a(460)),Ps=Error(a(474)),wl=Error(a(542)),Dl={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Zt,Zt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rf(e),e;default:if(typeof n.status=="string")n.then(Zt,Zt);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rf(e),e}throw ii=n,Di}}function ni(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ii=l,Di):l}}var ii=null;function sf(){if(ii===null)throw Error(a(459));var e=ii;return ii=null,e}function rf(e){if(e===Di||e===wl)throw Error(a(483))}var Ui=null,Ao=0;function Ul(e){var n=Ao;return Ao+=1,Ui===null&&(Ui=[]),af(Ui,e,n)}function Ro(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ll(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function uf(e){function n(b,N){if(e){var D=b.deletions;D===null?(b.deletions=[N],b.flags|=16):D.push(N)}}function l(b,N){if(!e)return null;for(;N!==null;)n(b,N),N=N.sibling;return null}function s(b){for(var N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function d(b,N){return b=Wt(b,N),b.index=0,b.sibling=null,b}function m(b,N,D){return b.index=D,e?(D=b.alternate,D!==null?(D=D.index,D<N?(b.flags|=67108866,N):D):(b.flags|=67108866,N)):(b.flags|=1048576,N)}function T(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function _(b,N,D,O){return N===null||N.tag!==6?(N=Ms(D,b.mode,O),N.return=b,N):(N=d(N,D),N.return=b,N)}function A(b,N,D,O){var se=D.type;return se===w?q(b,N,D.props.children,O,D.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&ni(se)===N.type)?(N=d(N,D.props),Ro(N,D),N.return=b,N):(N=Nl(D.type,D.key,D.props,null,b.mode,O),Ro(N,D),N.return=b,N)}function U(b,N,D,O){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Is(D,b.mode,O),N.return=b,N):(N=d(N,D.children||[]),N.return=b,N)}function q(b,N,D,O,se){return N===null||N.tag!==7?(N=$n(D,b.mode,O,se),N.return=b,N):(N=d(N,D),N.return=b,N)}function V(b,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ms(""+N,b.mode,D),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return D=Nl(N.type,N.key,N.props,null,b.mode,D),Ro(D,N),D.return=b,D;case M:return N=Is(N,b.mode,D),N.return=b,N;case ue:return N=ni(N),V(b,N,D)}if(me(N)||$(N))return N=$n(N,b.mode,D,null),N.return=b,N;if(typeof N.then=="function")return V(b,Ul(N),D);if(N.$$typeof===F)return V(b,Il(b,N),D);Ll(b,N)}return null}function L(b,N,D,O){var se=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:_(b,N,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return D.key===se?A(b,N,D,O):null;case M:return D.key===se?U(b,N,D,O):null;case ue:return D=ni(D),L(b,N,D,O)}if(me(D)||$(D))return se!==null?null:q(b,N,D,O,null);if(typeof D.then=="function")return L(b,N,Ul(D),O);if(D.$$typeof===F)return L(b,N,Il(b,D),O);Ll(b,D)}return null}function k(b,N,D,O,se){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return b=b.get(D)||null,_(N,b,""+O,se);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return b=b.get(O.key===null?D:O.key)||null,A(N,b,O,se);case M:return b=b.get(O.key===null?D:O.key)||null,U(N,b,O,se);case ue:return O=ni(O),k(b,N,D,O,se)}if(me(O)||$(O))return b=b.get(D)||null,q(N,b,O,se,null);if(typeof O.then=="function")return k(b,N,D,Ul(O),se);if(O.$$typeof===F)return k(b,N,D,Il(N,O),se);Ll(N,O)}return null}function te(b,N,D,O){for(var se=null,Ne=null,ie=N,Te=N=0,Ae=null;ie!==null&&Te<D.length;Te++){ie.index>Te?(Ae=ie,ie=null):Ae=ie.sibling;var xe=L(b,ie,D[Te],O);if(xe===null){ie===null&&(ie=Ae);break}e&&ie&&xe.alternate===null&&n(b,ie),N=m(xe,N,Te),Ne===null?se=xe:Ne.sibling=xe,Ne=xe,ie=Ae}if(Te===D.length)return l(b,ie),Re&&jt(b,Te),se;if(ie===null){for(;Te<D.length;Te++)ie=V(b,D[Te],O),ie!==null&&(N=m(ie,N,Te),Ne===null?se=ie:Ne.sibling=ie,Ne=ie);return Re&&jt(b,Te),se}for(ie=s(ie);Te<D.length;Te++)Ae=k(ie,b,Te,D[Te],O),Ae!==null&&(e&&Ae.alternate!==null&&ie.delete(Ae.key===null?Te:Ae.key),N=m(Ae,N,Te),Ne===null?se=Ae:Ne.sibling=Ae,Ne=Ae);return e&&ie.forEach(function(Vn){return n(b,Vn)}),Re&&jt(b,Te),se}function re(b,N,D,O){if(D==null)throw Error(a(151));for(var se=null,Ne=null,ie=N,Te=N=0,Ae=null,xe=D.next();ie!==null&&!xe.done;Te++,xe=D.next()){ie.index>Te?(Ae=ie,ie=null):Ae=ie.sibling;var Vn=L(b,ie,xe.value,O);if(Vn===null){ie===null&&(ie=Ae);break}e&&ie&&Vn.alternate===null&&n(b,ie),N=m(Vn,N,Te),Ne===null?se=Vn:Ne.sibling=Vn,Ne=Vn,ie=Ae}if(xe.done)return l(b,ie),Re&&jt(b,Te),se;if(ie===null){for(;!xe.done;Te++,xe=D.next())xe=V(b,xe.value,O),xe!==null&&(N=m(xe,N,Te),Ne===null?se=xe:Ne.sibling=xe,Ne=xe);return Re&&jt(b,Te),se}for(ie=s(ie);!xe.done;Te++,xe=D.next())xe=k(ie,b,Te,xe.value,O),xe!==null&&(e&&xe.alternate!==null&&ie.delete(xe.key===null?Te:xe.key),N=m(xe,N,Te),Ne===null?se=xe:Ne.sibling=xe,Ne=xe);return e&&ie.forEach(function(l0){return n(b,l0)}),Re&&jt(b,Te),se}function Ge(b,N,D,O){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case C:e:{for(var se=D.key;N!==null;){if(N.key===se){if(se=D.type,se===w){if(N.tag===7){l(b,N.sibling),O=d(N,D.props.children),O.return=b,b=O;break e}}else if(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ue&&ni(se)===N.type){l(b,N.sibling),O=d(N,D.props),Ro(O,D),O.return=b,b=O;break e}l(b,N);break}else n(b,N);N=N.sibling}D.type===w?(O=$n(D.props.children,b.mode,O,D.key),O.return=b,b=O):(O=Nl(D.type,D.key,D.props,null,b.mode,O),Ro(O,D),O.return=b,b=O)}return T(b);case M:e:{for(se=D.key;N!==null;){if(N.key===se)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){l(b,N.sibling),O=d(N,D.children||[]),O.return=b,b=O;break e}else{l(b,N);break}else n(b,N);N=N.sibling}O=Is(D,b.mode,O),O.return=b,b=O}return T(b);case ue:return D=ni(D),Ge(b,N,D,O)}if(me(D))return te(b,N,D,O);if($(D)){if(se=$(D),typeof se!="function")throw Error(a(150));return D=se.call(D),re(b,N,D,O)}if(typeof D.then=="function")return Ge(b,N,Ul(D),O);if(D.$$typeof===F)return Ge(b,N,Il(b,D),O);Ll(b,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(l(b,N.sibling),O=d(N,D),O.return=b,b=O):(l(b,N),O=Ms(D,b.mode,O),O.return=b,b=O),T(b)):l(b,N)}return function(b,N,D,O){try{Ao=0;var se=Ge(b,N,D,O);return Ui=null,se}catch(ie){if(ie===Di||ie===wl)throw ie;var Ne=Et(29,ie,null,b.mode);return Ne.lanes=O,Ne.return=b,Ne}finally{}}}var oi=uf(!0),cf=uf(!1),An=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ie&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Rl(e),Jc(e,null,l),n}return Al(e,s,n,l),Rl(e)}function No(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ec(e,l)}}function zs(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Fs=!1;function xo(){if(Fs){var e=wi;if(e!==null)throw e}}function Mo(e,n,l,s){Fs=!1;var d=e.updateQueue;An=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,U=A.next;A.next=null,T===null?m=U:T.next=U,T=A;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==T&&(_===null?q.firstBaseUpdate=U:_.next=U,q.lastBaseUpdate=A))}if(m!==null){var V=d.baseState;T=0,q=U=A=null,_=m;do{var L=_.lane&-536870913,k=L!==_.lane;if(k?(Ce&L)===L:(s&L)===L){L!==0&&L===bi&&(Fs=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var te=e,re=_;L=n;var Ge=l;switch(re.tag){case 1:if(te=re.payload,typeof te=="function"){V=te.call(Ge,V,L);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,L=typeof te=="function"?te.call(Ge,V,L):te,L==null)break e;V=S({},V,L);break e;case 2:An=!0}}L=_.callback,L!==null&&(e.flags|=64,k&&(e.flags|=8192),k=d.callbacks,k===null?d.callbacks=[L]:k.push(L))}else k={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(U=q=k,A=V):q=q.next=k,T|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;k=_,_=k.next,k.next=null,d.lastBaseUpdate=k,d.shared.pending=null}}while(!0);q===null&&(A=V),d.baseState=A,d.firstBaseUpdate=U,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),wn|=T,e.lanes=T,e.memoizedState=V}}function ff(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function df(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ff(l[e],n)}var Li=R(null),Gl=R(0);function pf(e,n){e=fn,Q(Gl,e),Q(Li,n),fn=e|n.baseLanes}function Ys(){Q(Gl,fn),Q(Li,Li.current)}function Js(){fn=Gl.current,B(Li),B(Gl)}var _t=R(null),Lt=null;function xn(e){var n=e.alternate;Q(ze,ze.current&1),Q(_t,e),Lt===null&&(n===null||Li.current!==null||n.memoizedState!==null)&&(Lt=e)}function Ks(e){Q(ze,ze.current),Q(_t,e),Lt===null&&(Lt=e)}function mf(e){e.tag===22?(Q(ze,ze.current),Q(_t,e),Lt===null&&(Lt=e)):Mn()}function Mn(){Q(ze,ze.current),Q(_t,_t.current)}function Ct(e){B(_t),Lt===e&&(Lt=null),B(ze)}var ze=R(0);function Hl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jr(l)||eu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nn=0,ye=null,Ue=null,Je=null,kl=!1,Gi=!1,li=!1,ql=0,Io=0,Hi=null,Qy=0;function Pe(){throw Error(a(321))}function Xs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!St(e[l],n[l]))return!1;return!0}function Qs(e,n,l,s,d,m){return nn=m,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?$f:cr,li=!1,m=l(s,d),li=!1,Gi&&(m=gf(n,l,s,d)),hf(e),m}function hf(e){H.H=Do;var n=Ue!==null&&Ue.next!==null;if(nn=0,Je=Ue=ye=null,kl=!1,Io=0,Hi=null,n)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&Ml(e)&&(Ke=!0))}function gf(e,n,l,s){ye=e;var d=0;do{if(Gi&&(Hi=null),Io=0,Gi=!1,25<=d)throw Error(a(301));if(d+=1,Je=Ue=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Wf,m=n(l,s)}while(Gi);return m}function Zy(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?bo(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ye.flags|=1024),n}function Zs(){var e=ql!==0;return ql=0,e}function $s(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ws(e){if(kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}kl=!1}nn=0,Je=Ue=ye=null,Gi=!1,Io=ql=0,Hi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ye.memoizedState=Je=e:Je=Je.next=e,Je}function Fe(){if(Ue===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=Je===null?ye.memoizedState:Je.next;if(n!==null)Je=n,Ue=e;else{if(e===null)throw ye.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Je===null?ye.memoizedState=Je=e:Je=Je.next=e}return Je}function Ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var n=Io;return Io+=1,Hi===null&&(Hi=[]),e=af(Hi,e,n),n=ye,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$f:cr),e}function Pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bo(e);if(e.$$typeof===F)return tt(e)}throw Error(a(438,String(e)))}function js(e){var n=null,l=ye.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Ol(),ye.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=le;return n.index++,l}function on(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=Fe();return er(n,Ue,e)}function er(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,A=null,U=n,q=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(Ce&V)===V:(nn&V)===V){var L=U.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===bi&&(q=!0);else if((nn&L)===L){U=U.next,L===bi&&(q=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=V,T=m):A=A.next=V,ye.lanes|=L,wn|=L;V=U.action,li&&l(m,V),m=U.hasEagerState?U.eagerState:l(m,V)}else L={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=L,T=m):A=A.next=L,ye.lanes|=V,wn|=V;U=U.next}while(U!==null&&U!==n);if(A===null?T=m:A.next=_,!St(m,e.memoizedState)&&(Ke=!0,q&&(l=wi,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Fe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);St(m,n.memoizedState)||(Ke=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function yf(e,n,l){var s=ye,d=Fe(),m=Re;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!St((Ue||d).memoizedState,l);if(T&&(d.memoizedState=l,Ke=!0),d=d.queue,or(Sf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,ki(9,{destroy:void 0},Tf.bind(null,s,d,l,n),null),He===null)throw Error(a(349));m||(nn&127)!==0||vf(s,n,l)}return l}function vf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ye.updateQueue,n===null?(n=Ol(),ye.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Tf(e,n,l,s){n.value=l,n.getSnapshot=s,Ef(n)&&_f(e)}function Sf(e,n,l){return l(function(){Ef(n)&&_f(e)})}function Ef(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!St(e,l)}catch{return!0}}function _f(e){var n=Zn(e,2);n!==null&&gt(n,e,2)}function nr(e){var n=st();if(typeof e=="function"){var l=e;if(e=l(),li){yn(!0);try{l()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function Cf(e,n,l,s){return e.baseState=l,er(e,Ue,typeof s=="function"?s:on)}function $y(e,n,l,s,d){if(Fl(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Af(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Af(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var _=l(d,s),A=H.S;A!==null&&A(T,_),Rf(e,n,_)}catch(U){ir(e,n,U)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=l(d,s),Rf(e,n,m)}catch(U){ir(e,n,U)}}function Rf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Nf(e,n,s)},function(s){return ir(e,n,s)}):Nf(e,n,l)}function Nf(e,n,l){n.status="fulfilled",n.value=l,xf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Af(e,l)))}function ir(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,xf(n),n=n.next;while(n!==s)}e.action=null}function xf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mf(e,n){return n}function If(e,n){if(Re){var l=He.formState;if(l!==null){e:{var s=ye;if(Re){if(ke){t:{for(var d=ke,m=Ut;d.nodeType!==8;){if(!m){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ke=Gt(d.nextSibling),s=d.data==="F!";break e}}_n(s)}s=!1}s&&(n=l[0])}}return l=st(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:n},l.queue=s,l=Xf.bind(null,ye,s),s.dispatch=l,s=nr(!1),m=ur.bind(null,ye,!1,s.queue),s=st(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=$y.bind(null,ye,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function bf(e){var n=Fe();return wf(n,Ue,e)}function wf(e,n,l){if(n=er(e,n,Mf)[0],e=Vl(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=bo(n)}catch(T){throw T===Di?wl:T}else s=n;n=Fe();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(ye.flags|=2048,ki(9,{destroy:void 0},Wy.bind(null,d,l),null)),[s,m,e]}function Wy(e,n){e.action=n}function Df(e){var n=Fe(),l=Ue;if(l!==null)return wf(n,l,e);Fe(),n=n.memoizedState,l=Fe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function ki(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=ye.updateQueue,n===null&&(n=Ol(),ye.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Uf(){return Fe().memoizedState}function Bl(e,n,l,s){var d=st();ye.flags|=e,d.memoizedState=ki(1|n,{destroy:void 0},l,s===void 0?null:s)}function zl(e,n,l,s){var d=Fe();s=s===void 0?null:s;var m=d.memoizedState.inst;Ue!==null&&s!==null&&Xs(s,Ue.memoizedState.deps)?d.memoizedState=ki(n,m,l,s):(ye.flags|=e,d.memoizedState=ki(1|n,m,l,s))}function Lf(e,n){Bl(8390656,8,e,n)}function or(e,n){zl(2048,8,e,n)}function jy(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=Ol(),ye.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Gf(e){var n=Fe().memoizedState;return jy({ref:n,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Hf(e,n){return zl(4,2,e,n)}function kf(e,n){return zl(4,4,e,n)}function qf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Of(e,n,l){l=l!=null?l.concat([e]):null,zl(4,4,qf.bind(null,n,e),l)}function lr(){}function Pf(e,n){var l=Fe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Xs(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Vf(e,n){var l=Fe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Xs(n,s[1]))return s[0];if(s=e(),li){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[s,n],s}function ar(e,n,l){return l===void 0||(nn&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Bd(),ye.lanes|=e,wn|=e,l)}function Bf(e,n,l,s){return St(l,n)?l:Li.current!==null?(e=ar(e,l,s),St(e,n)||(Ke=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(Ce&261930)===0?(Ke=!0,e.memoizedState=l):(e=Bd(),ye.lanes|=e,wn|=e,n)}function zf(e,n,l,s,d){var m=K.p;K.p=m!==0&&8>m?m:8;var T=H.T,_={};H.T=_,ur(e,!1,n,l);try{var A=d(),U=H.S;if(U!==null&&U(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=Xy(A,s);wo(e,n,q,Nt(e))}else wo(e,n,s,Nt(e))}catch(V){wo(e,n,{then:function(){},status:"rejected",reason:V},Nt())}finally{K.p=m,T!==null&&_.types!==null&&(T.types=_.types),H.T=T}}function ev(){}function sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Ff(e).queue;zf(e,d,n,Y,l===null?ev:function(){return Yf(e),l(s)})}function Ff(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:Y},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yf(e){var n=Ff(e);n.next===null&&(n=e.alternate.memoizedState),wo(e,n.next.queue,{},Nt())}function rr(){return tt(Xo)}function Jf(){return Fe().memoizedState}function Kf(){return Fe().memoizedState}function tv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Rn(l);var s=Nn(n,e,l);s!==null&&(gt(s,n,l),No(s,n,l)),n={cache:ks()},e.payload=n;return}n=n.return}}function nv(e,n,l){var s=Nt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fl(e)?Qf(n,l):(l=Ns(e,n,l,s),l!==null&&(gt(l,e,s),Zf(l,n,s)))}function Xf(e,n,l){var s=Nt();wo(e,n,l,s)}function wo(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fl(e))Qf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,l);if(d.hasEagerState=!0,d.eagerState=_,St(_,T))return Al(e,n,d,0),He===null&&Cl(),!1}catch{}finally{}if(l=Ns(e,n,d,s),l!==null)return gt(l,e,s),Zf(l,n,s),!0}return!1}function ur(e,n,l,s){if(s={lane:2,revertLane:Vr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fl(e)){if(n)throw Error(a(479))}else n=Ns(e,l,s,2),n!==null&&gt(n,e,2)}function Fl(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function Qf(e,n){Gi=kl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Zf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ec(e,l)}}var Do={readContext:tt,use:Pl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Do.useEffectEvent=Pe;var $f={readContext:tt,use:Pl,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:tt,useEffect:Lf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Bl(4194308,4,qf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Bl(4194308,4,e,n)},useInsertionEffect:function(e,n){Bl(4,2,e,n)},useMemo:function(e,n){var l=st();n=n===void 0?null:n;var s=e();if(li){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=st();if(l!==void 0){var d=l(n);if(li){yn(!0);try{l(n)}finally{yn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=nv.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,l=Xf.bind(null,ye,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:lr,useDeferredValue:function(e,n){var l=st();return ar(l,e,n)},useTransition:function(){var e=nr(!1);return e=zf.bind(null,ye,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=ye,d=st();if(Re){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),He===null)throw Error(a(349));(Ce&127)!==0||vf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,Lf(Sf.bind(null,s,m,e),[e]),s.flags|=2048,ki(9,{destroy:void 0},Tf.bind(null,s,m,l,n),null),l},useId:function(){var e=st(),n=He.identifierPrefix;if(Re){var l=Jt,s=Yt;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ql++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Qy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:If,useActionState:If,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ur.bind(null,ye,!0,l),l.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return st().memoizedState=tv.bind(null,ye)},useEffectEvent:function(e){var n=st(),l={impl:e};return n.memoizedState=l,function(){if((Ie&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},cr={readContext:tt,use:Pl,useCallback:Pf,useContext:tt,useEffect:or,useImperativeHandle:Of,useInsertionEffect:Hf,useLayoutEffect:kf,useMemo:Vf,useReducer:Vl,useRef:Uf,useState:function(){return Vl(on)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Fe();return Bf(l,Ue.memoizedState,e,n)},useTransition:function(){var e=Vl(on)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:rr,useFormState:bf,useActionState:bf,useOptimistic:function(e,n){var l=Fe();return Cf(l,Ue,e,n)},useMemoCache:js,useCacheRefresh:Kf};cr.useEffectEvent=Gf;var Wf={readContext:tt,use:Pl,useCallback:Pf,useContext:tt,useEffect:or,useImperativeHandle:Of,useInsertionEffect:Hf,useLayoutEffect:kf,useMemo:Vf,useReducer:tr,useRef:Uf,useState:function(){return tr(on)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Fe();return Ue===null?ar(l,e,n):Bf(l,Ue.memoizedState,e,n)},useTransition:function(){var e=tr(on)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:rr,useFormState:Df,useActionState:Df,useOptimistic:function(e,n){var l=Fe();return Ue!==null?Cf(l,Ue,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:js,useCacheRefresh:Kf};Wf.useEffectEvent=Gf;function fr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var dr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Nt(),d=Rn(s);d.payload=n,l!=null&&(d.callback=l),n=Nn(e,d,s),n!==null&&(gt(n,e,s),No(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Nt(),d=Rn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Nn(e,d,s),n!==null&&(gt(n,e,s),No(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),s=Rn(l);s.tag=2,n!=null&&(s.callback=n),n=Nn(e,s,l),n!==null&&(gt(n,e,l),No(n,e,l))}};function jf(e,n,l,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!vo(l,s)||!vo(d,m):!0}function ed(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function ai(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function td(e){_l(e)}function nd(e){console.error(e)}function id(e){_l(e)}function Yl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function od(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(e,n,l){return l=Rn(l),l.tag=3,l.payload={element:null},l.callback=function(){Yl(e,n)},l}function ld(e){return e=Rn(e),e.tag=3,e}function ad(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){od(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){od(n,l,s),typeof d!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function iv(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Ii(n,l,d,!0),l=_t.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?ia():l.alternate===null&&Ve===0&&(Ve=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Dl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),qr(e,s,d)),!1;case 22:return l.flags|=65536,s===Dl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),qr(e,s,d)),!1}throw Error(a(435,l.tag))}return qr(e,s,d),ia(),!1}if(Re)return n=_t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ds&&(e=Error(a(422),{cause:s}),Eo(bt(e,l)))):(s!==Ds&&(n=Error(a(423),{cause:s}),Eo(bt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=bt(s,l),d=pr(e.stateNode,s,d),zs(e,d),Ve!==4&&(Ve=2)),!1;var m=Error(a(520),{cause:s});if(m=bt(m,l),Po===null?Po=[m]:Po.push(m),Ve!==4&&(Ve=2),n===null)return!0;s=bt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=pr(l.stateNode,s,e),zs(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Dn===null||!Dn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=ld(d),ad(d,e,l,s),zs(l,d),!1}l=l.return}while(l!==null);return!1}var mr=Error(a(461)),Ke=!1;function nt(e,n,l,s){n.child=e===null?cf(n,null,l,s):oi(n,e.child,l,s)}function sd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return ei(n),s=Qs(e,n,l,T,m,d),_=Zs(),e!==null&&!Ke?($s(e,n,d),ln(e,n,d)):(Re&&_&&bs(n),n.flags|=1,nt(e,n,s,d),n.child)}function rd(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!xs(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,ud(e,n,m,s,d)):(e=Nl(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!_r(e,d)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(T,s)&&e.ref===n.ref)return ln(e,n,d)}return n.flags|=1,e=Wt(m,s),e.ref=n.ref,e.return=n,n.child=e}function ud(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(vo(m,s)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=s=m,_r(e,d))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,ln(e,n,d)}return hr(e,n,l,s,d)}function cd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return fd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bl(n,m!==null?m.cachePool:null),m!==null?pf(n,m):Ys(),mf(n);else return s=n.lanes=536870912,fd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(bl(n,m.cachePool),pf(n,m),Mn(),n.memoizedState=null):(e!==null&&bl(n,null),Ys(),Mn());return nt(e,n,d,l),n.child}function Uo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fd(e,n,l,s,d){var m=Os();return m=m===null?null:{parent:Ye._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&bl(n,null),Ys(),mf(n),e!==null&&Ii(e,n,s,!0),n.childLanes=d,null}function Jl(e,n){return n=Xl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dd(e,n,l){return oi(n,e.child,null,l),e=Jl(n,n.pendingProps),e.flags|=2,Ct(n),n.memoizedState=null,e}function ov(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=Jl(n,s),n.lanes=536870912,Uo(null,e);if(Ks(n),(e=ke)?(e=Ap(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,et=n,ke=null)):e=null,e===null)throw _n(n);return n.lanes=536870912,null}return Jl(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ks(n),d)if(n.flags&256)n.flags&=-257,n=dd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ke||Ii(e,n,l,!1),d=(l&e.childLanes)!==0,Ke||d){if(s=He,s!==null&&(T=tc(s,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,Zn(e,T),gt(s,e,T),mr;ia(),n=dd(e,n,l)}else e=m.treeContext,ke=Gt(T.nextSibling),et=n,Re=!0,En=null,Ut=!1,e!==null&&$c(n,e),n=Jl(n,s),n.flags|=4096;return n}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Kl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function hr(e,n,l,s,d){return ei(n),l=Qs(e,n,l,s,void 0,d),s=Zs(),e!==null&&!Ke?($s(e,n,d),ln(e,n,d)):(Re&&s&&bs(n),n.flags|=1,nt(e,n,l,d),n.child)}function pd(e,n,l,s,d,m){return ei(n),n.updateQueue=null,l=gf(n,s,l,d),hf(e),s=Zs(),e!==null&&!Ke?($s(e,n,m),ln(e,n,m)):(Re&&s&&bs(n),n.flags|=1,nt(e,n,l,m),n.child)}function md(e,n,l,s,d){if(ei(n),n.stateNode===null){var m=Ri,T=l.contextType;typeof T=="object"&&T!==null&&(m=tt(T)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Vs(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?tt(T):Ri,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(fr(n,l,T,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dr.enqueueReplaceState(m,m.state,null),Mo(n,s,m,d),xo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=ai(l,_);m.props=A;var U=m.context,q=l.contextType;T=Ri,typeof q=="object"&&q!==null&&(T=tt(q));var V=l.getDerivedStateFromProps;q=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||U!==T)&&ed(n,m,s,T),An=!1;var L=n.memoizedState;m.state=L,Mo(n,s,m,d),xo(),U=n.memoizedState,_||L!==U||An?(typeof V=="function"&&(fr(n,l,V,s),U=n.memoizedState),(A=An||jf(n,l,A,s,L,U,T))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=T,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Bs(e,n),T=n.memoizedProps,q=ai(l,T),m.props=q,V=n.pendingProps,L=m.context,U=l.contextType,A=Ri,typeof U=="object"&&U!==null&&(A=tt(U)),_=l.getDerivedStateFromProps,(U=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==V||L!==A)&&ed(n,m,s,A),An=!1,L=n.memoizedState,m.state=L,Mo(n,s,m,d),xo();var k=n.memoizedState;T!==V||L!==k||An||e!==null&&e.dependencies!==null&&Ml(e.dependencies)?(typeof _=="function"&&(fr(n,l,_,s),k=n.memoizedState),(q=An||jf(n,l,q,s,L,k,A)||e!==null&&e.dependencies!==null&&Ml(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,k,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,k,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=k),m.props=s,m.state=k,m.context=A,s=q):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Kl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=oi(n,e.child,null,d),n.child=oi(n,null,l,d)):nt(e,n,l,d),n.memoizedState=m.state,e=n.child):e=ln(e,n,d),e}function hd(e,n,l,s){return Wn(),n.flags|=256,nt(e,n,l,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:of()}}function vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Rt),e}function gd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Re){if(d?xn(n):Mn(),(e=ke)?(e=Ap(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,et=n,ke=null)):e=null,e===null)throw _n(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Mn(),d=n.mode,_=Xl({mode:"hidden",children:_},d),s=$n(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,Uo(null,s)):(xn(n),Tr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(xn(n),n.flags&=-257,n=Sr(e,n,l)):n.memoizedState!==null?(Mn(),n.child=e.child,n.flags|=128,n=null):(Mn(),_=s.fallback,d=n.mode,s=Xl({mode:"visible",children:s.children},d),_=$n(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,oi(n,e.child,null,l),s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,n=Uo(null,s));else if(xn(n),eu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var U=T.dgst;T=U,s=Error(a(419)),s.stack="",s.digest=T,Eo({value:s,source:null,stack:null}),n=Sr(e,n,l)}else if(Ke||Ii(e,n,l,!1),T=(l&e.childLanes)!==0,Ke||T){if(T=He,T!==null&&(s=tc(T,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,Zn(e,s),gt(T,e,s),mr;jr(_)||ia(),n=Sr(e,n,l)}else jr(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,ke=Gt(_.nextSibling),et=n,Re=!0,En=null,Ut=!1,e!==null&&$c(n,e),n=Tr(n,s.children),n.flags|=4096);return n}return d?(Mn(),_=s.fallback,d=n.mode,A=e.child,U=A.sibling,s=Wt(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,U!==null?_=Wt(U,_):(_=$n(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Uo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=yr(l):(d=_.cachePool,d!==null?(A=Ye._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=of(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=vr(e,T,l),n.memoizedState=gr,Uo(e.child,s)):(xn(n),l=e.child,e=l.sibling,l=Wt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Tr(e,n){return n=Xl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xl(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function Sr(e,n,l){return oi(n,e.child,null,l),e=Tr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,l)}function Er(e,n,l,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=d,T.treeForkCount=m)}function vd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=ze.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,Q(ze,T),nt(e,n,s,l),s=Re?So:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,l,n);else if(e.tag===19)yd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Hl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Er(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Hl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Er(n,!0,l,null,m,s);break;case"together":Er(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function ln(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),wn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ii(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Wt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Wt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ml(e)))}function lv(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),Cn(n,Ye,e.memoizedState.cache),Wn();break;case 27:case 5:oo(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:Cn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ks(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(xn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?gd(e,n,l):(xn(n),e=ln(e,n,l),e!==null?e.sibling:null);xn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Ii(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return vd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(ze,ze.current),s)break;return null;case 22:return n.lanes=0,cd(e,n,l,n.pendingProps);case 24:Cn(n,Ye,e.memoizedState.cache)}return ln(e,n,l)}function Td(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!_r(e,l)&&(n.flags&128)===0)return Ke=!1,lv(e,n,l);Ke=(e.flags&131072)!==0}else Ke=!1,Re&&(n.flags&1048576)!==0&&Zc(n,So,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ni(n.elementType),n.type=e,typeof e=="function")xs(e)?(s=ai(e,s),n.tag=1,n=md(null,n,e,s,l)):(n.tag=0,n=hr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===J){n.tag=11,n=sd(null,n,e,s,l);break e}else if(d===z){n.tag=14,n=rd(null,n,e,s,l);break e}}throw n=de(e)||e,Error(a(306,n,""))}}return n;case 0:return hr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=ai(s,n.pendingProps),md(e,n,s,d,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Bs(e,n),Mo(n,s,null,l);var T=n.memoizedState;if(s=T.cache,Cn(n,Ye,s),s!==m.cache&&Hs(n,[Ye],l,!0),xo(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=hd(e,n,s,l);break e}else if(s!==d){d=bt(Error(a(424)),n),Eo(d),n=hd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Gt(e.firstChild),et=n,Re=!0,En=null,Ut=!0,l=cf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wn(),s===d){n=ln(e,n,l);break e}nt(e,n,s,l)}n=n.child}return n;case 26:return Kl(e,n),e===null?(l=bp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Re||(l=n.type,e=n.pendingProps,s=ca(Se.current).createElement(l),s[je]=n,s[ct]=e,it(s,l,e),Ze(s),n.stateNode=s):n.memoizedState=bp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oo(n),e===null&&Re&&(s=n.stateNode=xp(n.type,n.pendingProps,Se.current),et=n,Ut=!0,d=ke,Hn(n.type)?(tu=d,ke=Gt(s.firstChild)):ke=d),nt(e,n,n.pendingProps.children,l),Kl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Re&&((d=s=ke)&&(s=Gv(s,n.type,n.pendingProps,Ut),s!==null?(n.stateNode=s,et=n,ke=Gt(s.firstChild),Ut=!1,d=!0):d=!1),d||_n(n)),oo(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Zr(d,m)?s=null:T!==null&&Zr(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=Qs(e,n,Zy,null,null,l),Xo._currentValue=d),Kl(e,n),nt(e,n,s,l),n.child;case 6:return e===null&&Re&&((e=l=ke)&&(l=Hv(l,n.pendingProps,Ut),l!==null?(n.stateNode=l,et=n,ke=null,e=!0):e=!1),e||_n(n)),null;case 13:return gd(e,n,l);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=oi(n,null,s,l):nt(e,n,s,l),n.child;case 11:return sd(e,n,n.type,n.pendingProps,l);case 7:return nt(e,n,n.pendingProps,l),n.child;case 8:return nt(e,n,n.pendingProps.children,l),n.child;case 12:return nt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Cn(n,n.type,s.value),nt(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ei(n),d=tt(d),s=s(d),n.flags|=1,nt(e,n,s,l),n.child;case 14:return rd(e,n,n.type,n.pendingProps,l);case 15:return ud(e,n,n.type,n.pendingProps,l);case 19:return vd(e,n,l);case 31:return ov(e,n,l);case 22:return cd(e,n,l,n.pendingProps);case 24:return ei(n),s=tt(Ye),e===null?(d=Os(),d===null&&(d=He,m=ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Vs(n),Cn(n,Ye,d)):((e.lanes&l)!==0&&(Bs(e,n),Mo(n,null,null,l),xo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Cn(n,Ye,s)):(s=m.cache,Cn(n,Ye,s),s!==d.cache&&Hs(n,[Ye],l,!0))),nt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function an(e){e.flags|=4}function Cr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Jd())e.flags|=8192;else throw ii=Dl,Ps}else e.flags&=-16777217}function Sd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gp(n))if(Jd())e.flags|=8192;else throw ii=Dl,Ps}function Ql(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wu():536870912,e.lanes|=n,Vi|=n)}function Lo(e,n){if(!Re)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function av(e,n,l){var s=n.pendingProps;switch(ws(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tn(Ye),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Mi(n)?an(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),qe(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(an(n),m!==null?(qe(n),Sd(n,m)):(qe(n),Cr(n,d,null,s,l))):m?m!==e.memoizedState?(an(n),qe(n),Sd(n,m)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&an(n),qe(n),Cr(n,d,e,s,l)),null;case 27:if(al(n),l=Se.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}e=ne.current,Mi(n)?Wc(n):(e=xp(d,s,l),n.stateNode=e,an(n))}return qe(n),null;case 5:if(al(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return qe(n),null}if(m=ne.current,Mi(n))Wc(n);else{var T=ca(Se.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[je]=n,m[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(it(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&an(n)}}return qe(n),Cr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&an(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Se.current,Mi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=et,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[je]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||gp(e.nodeValue,l)),e||_n(n,!0)}else e=ca(e).createTextNode(s),e[je]=n,n.stateNode=e}return qe(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Mi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else l=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Ct(n),n):(Ct(n),null);if((n.flags&128)!==0)throw Error(a(558))}return qe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Mi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[je]=n}else Wn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Ct(n),n):(Ct(n),null)}return Ct(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Ql(n,n.updateQueue),qe(n),null);case 4:return Be(),e===null&&Yr(n.stateNode.containerInfo),qe(n),null;case 10:return tn(n.type),qe(n),null;case 19:if(B(ze),s=n.memoizedState,s===null)return qe(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Lo(s,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Hl(e),m!==null){for(n.flags|=128,Lo(s,!1),e=m.updateQueue,n.updateQueue=e,Ql(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Kc(l,e),l=l.sibling;return Q(ze,ze.current&1|2),Re&&jt(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>ea&&(n.flags|=128,d=!0,Lo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Hl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Ql(n,e),Lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Re)return qe(n),null}else 2*yt()-s.renderingStartTime>ea&&l!==536870912&&(n.flags|=128,d=!0,Lo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,l=ze.current,Q(ze,d?l&1|2:l&1),Re&&jt(n,s.treeForkCount),e):(qe(n),null);case 22:case 23:return Ct(n),Js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),l=n.updateQueue,l!==null&&Ql(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&B(ti),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),tn(Ye),qe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function sv(e,n){switch(ws(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tn(Ye),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return al(n),null;case 31:if(n.memoizedState!==null){if(Ct(n),n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ct(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wn()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(ze),null;case 4:return Be(),null;case 10:return tn(n.type),null;case 22:case 23:return Ct(n),Js(),e!==null&&B(ti),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tn(Ye),null;case 25:return null;default:return null}}function Ed(e,n){switch(ws(n),n.tag){case 3:tn(Ye),Be();break;case 26:case 27:case 5:al(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&Ct(n);break;case 13:Ct(n);break;case 19:B(ze);break;case 10:tn(n.type);break;case 22:case 23:Ct(n),Js(),e!==null&&B(ti);break;case 24:tn(Ye)}}function Go(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,T=l.inst;s=m(),T.destroy=s}l=l.next}while(l!==d)}}catch(_){De(n,n.return,_)}}function In(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var A=l,U=_;try{U()}catch(q){De(d,A,q)}}}s=s.next}while(s!==m)}}catch(q){De(n,n.return,q)}}function _d(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{df(n,l)}catch(s){De(e,e.return,s)}}}function Cd(e,n,l){l.props=ai(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){De(e,n,s)}}function Ho(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){De(e,n,d)}}function Kt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){De(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){De(e,n,d)}else l.current=null}function Ad(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){De(e,e.return,d)}}function Ar(e,n,l){try{var s=e.stateNode;Iv(s,e.type,l,n),s[ct]=n}catch(d){De(e,e.return,d)}}function Rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Rr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Zt));else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Nr(e,n,l),e=e.sibling;e!==null;)Nr(e,n,l),e=e.sibling}function Zl(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Zl(e,n,l),e=e.sibling;e!==null;)Zl(e,n,l),e=e.sibling}function Nd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);it(n,s,l),n[je]=e,n[ct]=l}catch(m){De(e,e.return,m)}}var sn=!1,Xe=!1,xr=!1,xd=typeof WeakSet=="function"?WeakSet:Set,$e=null;function rv(e,n){if(e=e.containerInfo,Xr=ya,e=qc(e),Ss(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,_=-1,A=-1,U=0,q=0,V=e,L=null;t:for(;;){for(var k;V!==l||d!==0&&V.nodeType!==3||(_=T+d),V!==m||s!==0&&V.nodeType!==3||(A=T+s),V.nodeType===3&&(T+=V.nodeValue.length),(k=V.firstChild)!==null;)L=V,V=k;for(;;){if(V===e)break t;if(L===l&&++U===d&&(_=T),L===m&&++q===s&&(A=T),(k=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=k}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qr={focusedElem:e,selectionRange:l},ya=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var te=ai(l.type,d);e=s.getSnapshotBeforeUpdate(te,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){De(l,l.return,re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function Md(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:un(e,l),s&4&&Go(5,l);break;case 1:if(un(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){De(l,l.return,T)}else{var d=ai(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){De(l,l.return,T)}}s&64&&_d(l),s&512&&Ho(l,l.return);break;case 3:if(un(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{df(e,n)}catch(T){De(l,l.return,T)}}break;case 27:n===null&&s&4&&Nd(l);case 26:case 5:un(e,l),n===null&&s&4&&Ad(l),s&512&&Ho(l,l.return);break;case 12:un(e,l);break;case 31:un(e,l),s&4&&wd(e,l);break;case 13:un(e,l),s&4&&Dd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=yv.bind(null,l),kv(e,l))));break;case 22:if(s=l.memoizedState!==null||sn,!s){n=n!==null&&n.memoizedState!==null||Xe,d=sn;var m=Xe;sn=s,(Xe=n)&&!m?cn(e,l,(l.subtreeFlags&8772)!==0):un(e,l),sn=d,Xe=m}break;case 30:break;default:un(e,l)}}function Id(e){var n=e.alternate;n!==null&&(e.alternate=null,Id(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,dt=!1;function rn(e,n,l){for(l=l.child;l!==null;)bd(e,n,l),l=l.sibling}function bd(e,n,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(lo,l)}catch{}switch(l.tag){case 26:Xe||Kt(l,n),rn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Kt(l,n);var s=Oe,d=dt;Hn(l.type)&&(Oe=l.stateNode,dt=!1),rn(e,n,l),Yo(l.stateNode),Oe=s,dt=d;break;case 5:Xe||Kt(l,n);case 6:if(s=Oe,d=dt,Oe=null,rn(e,n,l),Oe=s,dt=d,Oe!==null)if(dt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(l.stateNode)}catch(m){De(l,n,m)}else try{Oe.removeChild(l.stateNode)}catch(m){De(l,n,m)}break;case 18:Oe!==null&&(dt?(e=Oe,_p(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qi(e)):_p(Oe,l.stateNode));break;case 4:s=Oe,d=dt,Oe=l.stateNode.containerInfo,dt=!0,rn(e,n,l),Oe=s,dt=d;break;case 0:case 11:case 14:case 15:In(2,l,n),Xe||In(4,l,n),rn(e,n,l);break;case 1:Xe||(Kt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Cd(l,n,s)),rn(e,n,l);break;case 21:rn(e,n,l);break;case 22:Xe=(s=Xe)||l.memoizedState!==null,rn(e,n,l),Xe=s;break;default:rn(e,n,l)}}function wd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(l){De(n,n.return,l)}}}function Dd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(l){De(n,n.return,l)}}function uv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xd),n;default:throw Error(a(435,e.tag))}}function $l(e,n){var l=uv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=vv.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Hn(_.type)){Oe=_.stateNode,dt=!1;break e}break;case 5:Oe=_.stateNode,dt=!1;break e;case 3:case 4:Oe=_.stateNode.containerInfo,dt=!0;break e}_=_.return}if(Oe===null)throw Error(a(160));bd(m,T,d),Oe=null,dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ud(n,e),n=n.sibling}var Pt=null;function Ud(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(In(3,e,e.return),Go(3,e),In(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Pt;if(pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ro]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),it(m,s,l),m[je]=e,Ze(m),s=m;break e;case"link":var T=Up("link","href",d).get(s+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),it(m,s,l),d.head.appendChild(m);break;case"meta":if(T=Up("meta","content",d).get(s+(l.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}m=d.createElement(s),it(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[je]=e,Ze(m),s=m}e.stateNode=s}else Lp(d,e.type,e.stateNode);else e.stateNode=Dp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Lp(d,e.type,e.stateNode):Dp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ar(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),l!==null&&s&4&&Ar(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Xe||l===null||Kt(l,l.return)),e.flags&32){d=e.stateNode;try{vi(d,"")}catch(te){De(e,e.return,te)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ar(e,d,l!==null?l.memoizedProps:d)),s&1024&&(xr=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(te){De(e,e.return,te)}}break;case 3:if(pa=null,d=Pt,Pt=fa(n.containerInfo),pt(n,e),Pt=d,mt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Qi(n.containerInfo)}catch(te){De(e,e.return,te)}xr&&(xr=!1,Ld(e));break;case 4:s=Pt,Pt=fa(e.stateNode.containerInfo),pt(n,e),mt(e),Pt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jl=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,U=sn,q=Xe;if(sn=U||d,Xe=q||A,pt(n,e),Xe=q,sn=U,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||sn||Xe||si(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var V=A.memoizedProps.style,L=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(te){De(A,A.return,te)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(te){De(A,A.return,te)}}}else if(n.tag===18){if(l===null){A=n;try{var k=A.stateNode;d?Cp(k,!0):Cp(A.stateNode,!1)}catch(te){De(A,A.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,$l(e,l))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$l(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Rd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Rr(e);Zl(e,m,d);break;case 5:var T=l.stateNode;l.flags&32&&(vi(T,""),l.flags&=-33);var _=Rr(e);Zl(e,_,T);break;case 3:case 4:var A=l.stateNode.containerInfo,U=Rr(e);Nr(e,U,A);break;default:throw Error(a(161))}}catch(q){De(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ld(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Md(e,n.alternate,n),n=n.sibling}function si(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),si(n);break;case 1:Kt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Cd(n,n.return,l),si(n);break;case 27:Yo(n.stateNode);case 26:case 5:Kt(n,n.return),si(n);break;case 22:n.memoizedState===null&&si(n);break;case 30:si(n);break;default:si(n)}e=e.sibling}}function cn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:cn(d,m,l),Go(4,m);break;case 1:if(cn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){De(s,s.return,U)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)ff(A[d],_)}catch(U){De(s,s.return,U)}}l&&T&64&&_d(m),Ho(m,m.return);break;case 27:Nd(m);case 26:case 5:cn(d,m,l),l&&s===null&&T&4&&Ad(m),Ho(m,m.return);break;case 12:cn(d,m,l);break;case 31:cn(d,m,l),l&&T&4&&wd(d,m);break;case 13:cn(d,m,l),l&&T&4&&Dd(d,m);break;case 22:m.memoizedState===null&&cn(d,m,l),Ho(m,m.return);break;case 30:break;default:cn(d,m,l)}n=n.sibling}}function Mr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_o(l))}function Ir(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e))}function Vt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gd(e,n,l,s),n=n.sibling}function Gd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Vt(e,n,l,s),d&2048&&Go(9,n);break;case 1:Vt(e,n,l,s);break;case 3:Vt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_o(e)));break;case 12:if(d&2048){Vt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(n,n.return,A)}}else Vt(e,n,l,s);break;case 31:Vt(e,n,l,s);break;case 13:Vt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Vt(e,n,l,s):ko(e,n):m._visibility&2?Vt(e,n,l,s):(m._visibility|=2,qi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Mr(T,n);break;case 24:Vt(e,n,l,s),d&2048&&Ir(n.alternate,n);break;default:Vt(e,n,l,s)}}function qi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=l,A=s,U=T.flags;switch(T.tag){case 0:case 11:case 15:qi(m,T,_,A,d),Go(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?qi(m,T,_,A,d):ko(m,T):(q._visibility|=2,qi(m,T,_,A,d)),d&&U&2048&&Mr(T.alternate,T);break;case 24:qi(m,T,_,A,d),d&&U&2048&&Ir(T.alternate,T);break;default:qi(m,T,_,A,d)}n=n.sibling}}function ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:ko(l,s),d&2048&&Mr(s.alternate,s);break;case 24:ko(l,s),d&2048&&Ir(s.alternate,s);break;default:ko(l,s)}n=n.sibling}}var qo=8192;function Oi(e,n,l){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Hd(e,n,l),e=e.sibling}function Hd(e,n,l){switch(e.tag){case 26:Oi(e,n,l),e.flags&qo&&e.memoizedState!==null&&Qv(l,Pt,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,n,l);break;case 3:case 4:var s=Pt;Pt=fa(e.stateNode.containerInfo),Oi(e,n,l),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=qo,qo=16777216,Oi(e,n,l),qo=s):Oi(e,n,l));break;default:Oi(e,n,l)}}function kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,Od(s,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qd(e),e=e.sibling}function qd(e){switch(e.tag){case 0:case 11:case 15:Oo(e),e.flags&2048&&In(9,e,e.return);break;case 3:Oo(e);break;case 12:Oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wl(e)):Oo(e);break;default:Oo(e)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,Od(s,e)}kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),Wl(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Wl(n));break;default:Wl(n)}e=e.sibling}}function Od(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:In(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_o(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,$e=s;else e:for(l=e;$e!==null;){s=$e;var d=s.sibling,m=s.return;if(Id(s),s===l){$e=null;break e}if(d!==null){d.return=m,$e=d;break e}$e=m}}}var cv={getCacheForType:function(e){var n=tt(Ye),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return tt(Ye).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,Ie=0,He=null,Ee=null,Ce=0,we=0,At=null,bn=!1,Pi=!1,br=!1,fn=0,Ve=0,wn=0,ri=0,wr=0,Rt=0,Vi=0,Po=null,ht=null,Dr=!1,jl=0,Pd=0,ea=1/0,ta=null,Dn=null,Qe=0,Un=null,Bi=null,dn=0,Ur=0,Lr=null,Vd=null,Vo=0,Gr=null;function Nt(){return(Ie&2)!==0&&Ce!==0?Ce&-Ce:H.T!==null?Vr():nc()}function Bd(){if(Rt===0)if((Ce&536870912)===0||Re){var e=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),Rt=e}else Rt=536870912;return e=_t.current,e!==null&&(e.flags|=32),Rt}function gt(e,n,l){(e===He&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(zi(e,0),Ln(e,Ce,Rt,!1)),so(e,l),((Ie&2)===0||e!==He)&&(e===He&&((Ie&2)===0&&(ri|=l),Ve===4&&Ln(e,Ce,Rt,!1)),Xt(e))}function zd(e,n,l){if((Ie&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ao(e,n),d=s?mv(e,n):kr(e,n,!0),m=s;do{if(d===0){Pi&&!s&&Ln(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!dv(l)){d=kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Po;var A=_.current.memoizedState.isDehydrated;if(A&&(zi(_,T).flags|=256),T=kr(_,T,!1),T!==2){if(br&&!A){_.errorRecoveryDisabledLanes|=m,ri|=m,d=4;break e}m=ht,ht=d,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){zi(e,0),Ln(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ln(s,n,Rt,!bn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=jl+300-yt(),10<d)){if(Ln(s,n,Rt,!bn),fl(s,0,!0)!==0)break e;dn=n,s.timeoutHandle=Sp(Fd.bind(null,s,l,ht,ta,Dr,n,Rt,ri,Vi,bn,m,"Throttled",-0,0),d);break e}Fd(s,l,ht,ta,Dr,n,Rt,ri,Vi,bn,m,null,-0,0)}}break}while(!0);Xt(e)}function Fd(e,n,l,s,d,m,T,_,A,U,q,V,L,k){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Hd(n,m,V);var te=(m&62914560)===m?jl-yt():(m&4194048)===m?Pd-yt():0;if(te=Zv(V,te),te!==null){dn=m,e.cancelPendingCommit=te(Wd.bind(null,e,n,m,l,s,d,T,_,A,q,V,null,L,k)),Ln(e,m,T,!U);return}}Wd(e,n,m,l,s,d,T,_,A)}function dv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!St(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n,l,s){n&=~wr,n&=~ri,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),T=1<<m;s[m]=-1,d&=~T}l!==0&&ju(e,l,n)}function na(){return(Ie&6)===0?(Bo(0),!1):!0}function Hr(){if(Ee!==null){if(we===0)var e=Ee.return;else e=Ee,en=jn=null,Ws(e),Ui=null,Ao=0,e=Ee;for(;e!==null;)Ed(e.alternate,e),e=e.return;Ee=null}}function zi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Dv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),dn=0,Hr(),He=e,Ee=l=Wt(e.current,null),Ce=n,we=0,At=null,bn=!1,Pi=ao(e,n),br=!1,Vi=Rt=wr=ri=wn=Ve=0,ht=Po=null,Dr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return fn=n,Cl(),l}function Yd(e,n){ye=null,H.H=Do,n===Di||n===wl?(n=sf(),we=3):n===Ps?(n=sf(),we=4):we=n===mr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,At=n,Ee===null&&(Ve=1,Yl(e,bt(n,e.current)))}function Jd(){var e=_t.current;return e===null?!0:(Ce&4194048)===Ce?Lt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Lt:!1}function Kd(){var e=H.H;return H.H=Do,e===null?Do:e}function Xd(){var e=H.A;return H.A=cv,e}function ia(){Ve=4,bn||(Ce&4194048)!==Ce&&_t.current!==null||(Pi=!0),(wn&134217727)===0&&(ri&134217727)===0||He===null||Ln(He,Ce,Rt,!1)}function kr(e,n,l){var s=Ie;Ie|=2;var d=Kd(),m=Xd();(He!==e||Ce!==n)&&(ta=null,zi(e,n)),n=!1;var T=Ve;e:do try{if(we!==0&&Ee!==null){var _=Ee,A=At;switch(we){case 8:Hr(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(n=!0);var U=we;if(we=0,At=null,Fi(e,_,A,U),l&&Pi){T=0;break e}break;default:U=we,we=0,At=null,Fi(e,_,A,U)}}pv(),T=Ve;break}catch(q){Yd(e,q)}while(!0);return n&&e.shellSuspendCounter++,en=jn=null,Ie=s,H.H=d,H.A=m,Ee===null&&(He=null,Ce=0,Cl()),T}function pv(){for(;Ee!==null;)Qd(Ee)}function mv(e,n){var l=Ie;Ie|=2;var s=Kd(),d=Xd();He!==e||Ce!==n?(ta=null,ea=yt()+500,zi(e,n)):Pi=ao(e,n);e:do try{if(we!==0&&Ee!==null){n=Ee;var m=At;t:switch(we){case 1:we=0,At=null,Fi(e,n,m,1);break;case 2:case 9:if(lf(m)){we=0,At=null,Zd(n);break}n=function(){we!==2&&we!==9||He!==e||(we=7),Xt(e)},m.then(n,n);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:lf(m)?(we=0,At=null,Zd(n)):(we=0,At=null,Fi(e,n,m,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var _=Ee;if(T?Gp(T):_.stateNode.complete){we=0,At=null;var A=_.sibling;if(A!==null)Ee=A;else{var U=_.return;U!==null?(Ee=U,oa(U)):Ee=null}break t}}we=0,At=null,Fi(e,n,m,5);break;case 6:we=0,At=null,Fi(e,n,m,6);break;case 8:Hr(),Ve=6;break e;default:throw Error(a(462))}}hv();break}catch(q){Yd(e,q)}while(!0);return en=jn=null,H.H=s,H.A=d,Ie=l,Ee!==null?0:(He=null,Ce=0,Cl(),Ve)}function hv(){for(;Ee!==null&&!qg();)Qd(Ee)}function Qd(e){var n=Td(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?oa(e):Ee=n}function Zd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=pd(l,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=pd(l,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:Ws(n);default:Ed(l,n),n=Ee=Kc(n,fn),n=Td(l,n,fn)}e.memoizedProps=e.pendingProps,n===null?oa(e):Ee=n}function Fi(e,n,l,s){en=jn=null,Ws(n),Ui=null,Ao=0;var d=n.return;try{if(iv(e,d,n,l,Ce)){Ve=1,Yl(e,bt(l,e.current)),Ee=null;return}}catch(m){if(d!==null)throw Ee=d,m;Ve=1,Yl(e,bt(l,e.current)),Ee=null;return}n.flags&32768?(Re||s===1?e=!0:Pi||(Ce&536870912)!==0?e=!1:(bn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),$d(n,e)):oa(n)}function oa(e){var n=e;do{if((n.flags&32768)!==0){$d(n,bn);return}e=n.return;var l=av(n.alternate,n,fn);if(l!==null){Ee=l;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);Ve===0&&(Ve=5)}function $d(e,n){do{var l=sv(e.alternate,e);if(l!==null){l.flags&=32767,Ee=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=l}while(e!==null);Ve=6,Ee=null}function Wd(e,n,l,s,d,m,T,_,A){e.cancelPendingCommit=null;do la();while(Qe!==0);if((Ie&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Rs,Xg(e,l,m,T,_,A),e===He&&(Ee=He=null,Ce=0),Bi=n,Un=e,dn=l,Ur=m,Lr=d,Vd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tv(sl,function(){return ip(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=K.p,K.p=2,T=Ie,Ie|=4;try{rv(e,n,l)}finally{Ie=T,K.p=d,H.T=s}}Qe=1,jd(),ep(),tp()}}function jd(){if(Qe===1){Qe=0;var e=Un,n=Bi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var s=K.p;K.p=2;var d=Ie;Ie|=4;try{Ud(n,e);var m=Qr,T=qc(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&kc(_.ownerDocument.documentElement,_)){if(A!==null&&Ss(_)){var U=A.start,q=A.end;if(q===void 0&&(q=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(q,_.value.length);else{var V=_.ownerDocument||document,L=V&&V.defaultView||window;if(L.getSelection){var k=L.getSelection(),te=_.textContent.length,re=Math.min(A.start,te),Ge=A.end===void 0?re:Math.min(A.end,te);!k.extend&&re>Ge&&(T=Ge,Ge=re,re=T);var b=Hc(_,re),N=Hc(_,Ge);if(b&&N&&(k.rangeCount!==1||k.anchorNode!==b.node||k.anchorOffset!==b.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var D=V.createRange();D.setStart(b.node,b.offset),k.removeAllRanges(),re>Ge?(k.addRange(D),k.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),k.addRange(D))}}}}for(V=[],k=_;k=k.parentNode;)k.nodeType===1&&V.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var O=V[_];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ya=!!Xr,Qr=Xr=null}finally{Ie=d,K.p=s,H.T=l}}e.current=n,Qe=2}}function ep(){if(Qe===2){Qe=0;var e=Un,n=Bi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var s=K.p;K.p=2;var d=Ie;Ie|=4;try{Md(e,n.alternate,n)}finally{Ie=d,K.p=s,H.T=l}}Qe=3}}function tp(){if(Qe===4||Qe===3){Qe=0,Og();var e=Un,n=Bi,l=dn,s=Vd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Bi=Un=null,np(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Dn=null),ts(l),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(lo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=K.p,K.p=2,H.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{H.T=n,K.p=d}}(dn&3)!==0&&la(),Xt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Gr?Vo++:(Vo=0,Gr=e):Vo=0,Bo(0)}}function np(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_o(n)))}function la(){return jd(),ep(),tp(),ip()}function ip(){if(Qe!==5)return!1;var e=Un,n=Ur;Ur=0;var l=ts(dn),s=H.T,d=K.p;try{K.p=32>l?32:l,H.T=null,l=Lr,Lr=null;var m=Un,T=dn;if(Qe=0,Bi=Un=null,dn=0,(Ie&6)!==0)throw Error(a(331));var _=Ie;if(Ie|=4,qd(m.current),Gd(m,m.current,T,l),Ie=_,Bo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(lo,m)}catch{}return!0}finally{K.p=d,H.T=s,np(e,n)}}function op(e,n,l){n=bt(l,n),n=pr(e.stateNode,n,2),e=Nn(e,n,2),e!==null&&(so(e,2),Xt(e))}function De(e,n,l){if(e.tag===3)op(e,e,l);else for(;n!==null;){if(n.tag===3){op(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=bt(l,e),l=ld(2),s=Nn(n,l,2),s!==null&&(ad(l,s,n,e),so(s,2),Xt(s));break}}n=n.return}}function qr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new fv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(br=!0,d.add(l),e=gv.bind(null,e,n,l),n.then(e,e))}function gv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,He===e&&(Ce&l)===l&&(Ve===4||Ve===3&&(Ce&62914560)===Ce&&300>yt()-jl?(Ie&2)===0&&zi(e,0):wr|=l,Vi===Ce&&(Vi=0)),Xt(e)}function lp(e,n){n===0&&(n=Wu()),e=Zn(e,n),e!==null&&(so(e,n),Xt(e))}function yv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),lp(e,l)}function vv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),lp(e,l)}function Tv(e,n){return $a(e,n)}var aa=null,Yi=null,Or=!1,sa=!1,Pr=!1,Gn=0;function Xt(e){e!==Yi&&e.next===null&&(Yi===null?aa=Yi=e:Yi=Yi.next=e),sa=!0,Or||(Or=!0,Ev())}function Bo(e,n){if(!Pr&&sa){Pr=!0;do for(var l=!1,s=aa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,up(s,m))}else m=Ce,m=fl(s,s===He?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||ao(s,m)||(l=!0,up(s,m));s=s.next}while(l);Pr=!1}}function Sv(){ap()}function ap(){sa=Or=!1;var e=0;Gn!==0&&wv()&&(e=Gn);for(var n=yt(),l=null,s=aa;s!==null;){var d=s.next,m=sp(s,n);m===0?(s.next=null,l===null?aa=d:l.next=d,d===null&&(Yi=l)):(l=s,(e!==0||(m&3)!==0)&&(sa=!0)),s=d}Qe!==0&&Qe!==5||Bo(e),Gn!==0&&(Gn=0)}function sp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Tt(m),_=1<<T,A=d[T];A===-1?((_&l)===0||(_&s)!==0)&&(d[T]=Kg(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=He,l=Ce,l=fl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(we===2||we===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wa(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ao(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Wa(s),ts(l)){case 2:case 8:l=Zu;break;case 32:l=sl;break;case 268435456:l=$u;break;default:l=sl}return s=rp.bind(null,e),l=$a(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Wa(s),e.callbackPriority=2,e.callbackNode=null,2}function rp(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(la()&&e.callbackNode!==l)return null;var s=Ce;return s=fl(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(zd(e,s,n),sp(e,yt()),e.callbackNode!=null&&e.callbackNode===l?rp.bind(null,e):null)}function up(e,n){if(la())return null;zd(e,n,!0)}function Ev(){Uv(function(){(Ie&6)!==0?$a(Qu,Sv):ap()})}function Vr(){if(Gn===0){var e=bi;e===0&&(e=rl,rl<<=1,(rl&261888)===0&&(rl=256)),Gn=e}return Gn}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function fp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function _v(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=cp((d[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?cp(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new Tl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gn!==0){var A=T?fp(d,T):new FormData(d);sr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=T?fp(d,T):new FormData(d),sr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Br=0;Br<As.length;Br++){var zr=As[Br],Cv=zr.toLowerCase(),Av=zr[0].toUpperCase()+zr.slice(1);Ot(Cv,"on"+Av)}Ot(Vc,"onAnimationEnd"),Ot(Bc,"onAnimationIteration"),Ot(zc,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(Py,"onTransitionRun"),Ot(Vy,"onTransitionStart"),Ot(By,"onTransitionCancel"),Ot(Fc,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function dp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],A=_.instance,U=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=A}else for(T=0;T<s.length;T++){if(_=s[T],A=_.instance,U=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch(q){_l(q)}d.currentTarget=null,m=A}}}}function _e(e,n){var l=n[ns];l===void 0&&(l=n[ns]=new Set);var s=e+"__bubble";l.has(s)||(pp(n,e,2,!1),l.add(s))}function Fr(e,n,l){var s=0;n&&(s|=4),pp(l,e,s,n)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[ra]){e[ra]=!0,lc.forEach(function(l){l!=="selectionchange"&&(Rv.has(l)||Fr(l,!1,e),Fr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ra]||(n[ra]=!0,Fr("selectionchange",!1,n))}}function pp(e,n,l,s){switch(Bp(n)){case 2:var d=jv;break;case 8:d=e0;break;default:d=au}l=d.bind(null,n,l,e),d=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Jr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=pi(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=m=T;continue e}_=_.parentNode}}s=s.return}yc(function(){var U=m,q=us(l),V=[];e:{var L=Yc.get(e);if(L!==void 0){var k=Tl,te=e;switch(e){case"keypress":if(yl(l)===0)break e;case"keydown":case"keyup":k=vy;break;case"focusin":te="focus",k=hs;break;case"focusout":te="blur",k=hs;break;case"beforeblur":case"afterblur":k=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ey;break;case Vc:case Bc:case zc:k=uy;break;case Fc:k=Cy;break;case"scroll":case"scrollend":k=oy;break;case"wheel":k=Ry;break;case"copy":case"cut":case"paste":k=fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=_c;break;case"toggle":case"beforetoggle":k=xy}var re=(n&4)!==0,Ge=!re&&(e==="scroll"||e==="scrollend"),b=re?L!==null?L+"Capture":null:L;re=[];for(var N=U,D;N!==null;){var O=N;if(D=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||D===null||b===null||(O=co(N,b),O!=null&&re.push(Fo(N,O,D))),Ge)break;N=N.return}0<re.length&&(L=new k(L,te,null,l,q),V.push({event:L,listeners:re}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",L&&l!==rs&&(te=l.relatedTarget||l.fromElement)&&(pi(te)||te[di]))break e;if((k||L)&&(L=q.window===q?q:(L=q.ownerDocument)?L.defaultView||L.parentWindow:window,k?(te=l.relatedTarget||l.toElement,k=U,te=te?pi(te):null,te!==null&&(Ge=c(te),re=te.tag,te!==Ge||re!==5&&re!==27&&re!==6)&&(te=null)):(k=null,te=U),k!==te)){if(re=Sc,O="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(re=_c,O="onPointerLeave",b="onPointerEnter",N="pointer"),Ge=k==null?L:uo(k),D=te==null?L:uo(te),L=new re(O,N+"leave",k,l,q),L.target=Ge,L.relatedTarget=D,O=null,pi(q)===U&&(re=new re(b,N+"enter",te,l,q),re.target=D,re.relatedTarget=Ge,O=re),Ge=O,k&&te)t:{for(re=Nv,b=k,N=te,D=0,O=b;O;O=re(O))D++;O=0;for(var se=N;se;se=re(se))O++;for(;0<D-O;)b=re(b),D--;for(;0<O-D;)N=re(N),O--;for(;D--;){if(b===N||N!==null&&b===N.alternate){re=b;break t}b=re(b),N=re(N)}re=null}else re=null;k!==null&&mp(V,L,k,re,!1),te!==null&&Ge!==null&&mp(V,Ge,te,re,!0)}}e:{if(L=U?uo(U):window,k=L.nodeName&&L.nodeName.toLowerCase(),k==="select"||k==="input"&&L.type==="file")var Ne=bc;else if(Mc(L))if(wc)Ne=ky;else{Ne=Gy;var ie=Ly}else k=L.nodeName,!k||k.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&ss(U.elementType)&&(Ne=bc):Ne=Hy;if(Ne&&(Ne=Ne(e,U))){Ic(V,Ne,l,q);break e}ie&&ie(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&as(L,"number",L.value)}switch(ie=U?uo(U):window,e){case"focusin":(Mc(ie)||ie.contentEditable==="true")&&(_i=ie,Es=U,To=null);break;case"focusout":To=Es=_i=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Oc(V,l,q);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Oc(V,l,q)}var Te;if(ys)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ei?Nc(e,l)&&(Ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Cc&&l.locale!=="ko"&&(Ei||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ei&&(Te=vc()):(Tn=q,ds="value"in Tn?Tn.value:Tn.textContent,Ei=!0)),ie=ua(U,Ae),0<ie.length&&(Ae=new Ec(Ae,e,null,l,q),V.push({event:Ae,listeners:ie}),Te?Ae.data=Te:(Te=xc(l),Te!==null&&(Ae.data=Te)))),(Te=Iy?by(e,l):wy(e,l))&&(Ae=ua(U,"onBeforeInput"),0<Ae.length&&(ie=new Ec("onBeforeInput","beforeinput",null,l,q),V.push({event:ie,listeners:Ae}),ie.data=Te)),_v(V,e,U,l,q)}dp(V,n)})}function Fo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ua(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=co(e,l),d!=null&&s.unshift(Fo(e,d,m)),d=co(e,n),d!=null&&s.push(Fo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,n,l,s,d){for(var m=n._reactName,T=[];l!==null&&l!==s;){var _=l,A=_.alternate,U=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||U===null||(A=U,d?(U=co(l,m),U!=null&&T.unshift(Fo(l,U,A))):d||(U=co(l,m),U!=null&&T.push(Fo(l,U,A)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var xv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(xv,`
`).replace(Mv,"")}function gp(e,n){return n=hp(n),hp(e)===n}function Le(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||vi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&vi(e,""+s);break;case"className":pl(e,"class",s);break;case"tabIndex":pl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,l,s);break;case"style":hc(e,s,m);break;case"data":if(n!=="object"){pl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=hl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Le(e,n,"name",d.name,d,null),Le(e,n,"formEncType",d.formEncType,d,null),Le(e,n,"formMethod",d.formMethod,d,null),Le(e,n,"formTarget",d.formTarget,d,null)):(Le(e,n,"encType",d.encType,d,null),Le(e,n,"method",d.method,d,null),Le(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=hl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=hl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),dl(e,"popover",s);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":dl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ny.get(l)||l,dl(e,l,s))}}function Kr(e,n,l,s,d,m){switch(l){case"style":hc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?vi(e,s):(typeof s=="number"||typeof s=="bigint")&&vi(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ct]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):dl(e,l,s)}}}function it(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,m,T,l,null)}}d&&Le(e,n,"srcSet",l.srcSet,l,null),s&&Le(e,n,"src",l.src,l,null);return;case"input":_e("invalid",e);var _=m=T=d=null,A=null,U=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":d=q;break;case"type":T=q;break;case"checked":A=q;break;case"defaultChecked":U=q;break;case"value":m=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Le(e,n,s,q,l,null)}}fc(e,m,_,A,U,T,d,!1);return;case"select":_e("invalid",e),s=T=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Le(e,n,d,_,l,null)}n=m,l=T,e.multiple=!!s,n!=null?yi(e,!!s,n,!1):l!=null&&yi(e,!!s,l,!0);return;case"textarea":_e("invalid",e),m=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Le(e,n,T,_,l,null)}pc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,A,s,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<zo.length;s++)_e(zo[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(s=l[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Le(e,n,U,s,l,null)}return;default:if(ss(n)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&Kr(e,n,q,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&Le(e,n,_,s,l,null))}function Iv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,A=null,U=null,q=null;for(k in l){var V=l[k];if(l.hasOwnProperty(k)&&V!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":A=V;default:s.hasOwnProperty(k)||Le(e,n,k,null,s,V)}}for(var L in s){var k=s[L];if(V=l[L],s.hasOwnProperty(L)&&(k!=null||V!=null))switch(L){case"type":m=k;break;case"name":d=k;break;case"checked":U=k;break;case"defaultChecked":q=k;break;case"value":T=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==V&&Le(e,n,L,k,s,V)}}ls(e,T,_,A,U,q,m,d);return;case"select":k=T=_=L=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":k=A;default:s.hasOwnProperty(m)||Le(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":L=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==A&&Le(e,n,d,m,s,A)}n=_,l=T,s=k,L!=null?yi(e,!!l,L,!1):!!s!=!!l&&(n!=null?yi(e,!!l,n,!0):yi(e,!!l,l?[]:"",!1));return;case"textarea":k=L=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=l[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":L=d;break;case"defaultValue":k=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Le(e,n,T,d,s,m)}dc(e,L,k);return;case"option":for(var te in l)if(L=l[te],l.hasOwnProperty(te)&&L!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Le(e,n,te,null,s,L)}for(A in s)if(L=s[A],k=l[A],s.hasOwnProperty(A)&&L!==k&&(L!=null||k!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Le(e,n,A,L,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in l)L=l[re],l.hasOwnProperty(re)&&L!=null&&!s.hasOwnProperty(re)&&Le(e,n,re,null,s,L);for(U in s)if(L=s[U],k=l[U],s.hasOwnProperty(U)&&L!==k&&(L!=null||k!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Le(e,n,U,L,s,k)}return;default:if(ss(n)){for(var Ge in l)L=l[Ge],l.hasOwnProperty(Ge)&&L!==void 0&&!s.hasOwnProperty(Ge)&&Kr(e,n,Ge,void 0,s,L);for(q in s)L=s[q],k=l[q],!s.hasOwnProperty(q)||L===k||L===void 0&&k===void 0||Kr(e,n,q,L,s,k);return}}for(var b in l)L=l[b],l.hasOwnProperty(b)&&L!=null&&!s.hasOwnProperty(b)&&Le(e,n,b,null,s,L);for(V in s)L=s[V],k=l[V],!s.hasOwnProperty(V)||L===k||L==null&&k==null||Le(e,n,V,L,s,k)}function yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&yp(T)){for(T=0,_=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],U=A.startTime;if(U>_)break;var q=A.transferSize,V=A.initiatorType;q&&yp(V)&&(A=A.responseEnd,T+=q*(A<_?1:(_-U)/(A-U)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,Qr=null;function ca(e){return e.nodeType===9?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $r=null;function wv(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(Lv)}:Sp;function Lv(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function _p(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Qi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Yo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Yo(l);for(var m=l.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[ro]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Yo(e.ownerDocument.body);l=d}while(l);Qi(n)}function Cp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Gv(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ro])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Hv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gt(e.nextSibling),e===null))return null;return e}function Ap(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gt(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Rp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Gt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Np(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function xp(e,n,l){switch(n=ca(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var Ht=new Map,Mp=new Set;function fa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=K.d;K.d={f:qv,r:Ov,D:Pv,C:Vv,L:Bv,m:zv,X:Yv,S:Fv,M:Jv};function qv(){var e=pn.f(),n=na();return e||n}function Ov(e){var n=mi(e);n!==null&&n.tag===5&&n.type==="form"?Yf(n):pn.r(e)}var Ji=typeof document>"u"?null:document;function Ip(e,n,l){var s=Ji;if(s&&typeof n=="string"&&n){var d=Mt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Mp.has(d)||(Mp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),it(n,"link",e),Ze(n),s.head.appendChild(n)))}}function Pv(e){pn.D(e),Ip("dns-prefetch",e,null)}function Vv(e,n){pn.C(e,n),Ip("preconnect",e,n)}function Bv(e,n,l){pn.L(e,n,l);var s=Ji;if(s&&e&&n){var d='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Mt(l.imageSizes)+'"]')):d+='[href="'+Mt(e)+'"]';var m=d;switch(n){case"style":m=Ki(e);break;case"script":m=Xi(e)}Ht.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Ht.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Jo(m))||n==="script"&&s.querySelector(Ko(m))||(n=s.createElement("link"),it(n,"link",e),Ze(n),s.head.appendChild(n)))}}function zv(e,n){pn.m(e,n);var l=Ji;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xi(e)}if(!Ht.has(m)&&(e=S({rel:"modulepreload",href:e},n),Ht.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ko(m)))return}s=l.createElement("link"),it(s,"link",e),Ze(s),l.head.appendChild(s)}}}function Fv(e,n,l){pn.S(e,n,l);var s=Ji;if(s&&e){var d=hi(s).hoistableStyles,m=Ki(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(Jo(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Ht.get(m))&&nu(e,l);var A=T=s.createElement("link");Ze(A),it(A,"link",e),A._p=new Promise(function(U,q){A.onload=U,A.onerror=q}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,da(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function Yv(e,n){pn.X(e,n);var l=Ji;if(l&&e){var s=hi(l).hoistableScripts,d=Xi(e),m=s.get(d);m||(m=l.querySelector(Ko(d)),m||(e=S({src:e,async:!0},n),(n=Ht.get(d))&&iu(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Jv(e,n){pn.M(e,n);var l=Ji;if(l&&e){var s=hi(l).hoistableScripts,d=Xi(e),m=s.get(d);m||(m=l.querySelector(Ko(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Ht.get(d))&&iu(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function bp(e,n,l,s){var d=(d=Se.current)?fa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Ki(l.href),l=hi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ki(l.href);var m=hi(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(Jo(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Ht.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ht.set(e,l),m||Kv(d,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xi(l),l=hi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ki(e){return'href="'+Mt(e)+'"'}function Jo(e){return'link[rel="stylesheet"]['+e+"]"}function wp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Kv(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),it(n,"link",l),Ze(n),e.head.appendChild(n))}function Xi(e){return'[src="'+Mt(e)+'"]'}function Ko(e){return"script[async]"+e}function Dp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(s)return n.instance=s,Ze(s),s;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),it(s,"style",d),da(s,l.precedence,e),n.instance=s;case"stylesheet":d=Ki(l.href);var m=e.querySelector(Jo(d));if(m)return n.state.loading|=4,n.instance=m,Ze(m),m;s=wp(l),(d=Ht.get(d))&&nu(s,d),m=(e.ownerDocument||e).createElement("link"),Ze(m);var T=m;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),it(m,"link",s),n.state.loading|=4,da(m,l.precedence,e),n.instance=m;case"script":return m=Xi(l.src),(d=e.querySelector(Ko(m)))?(n.instance=d,Ze(d),d):(s=l,(d=Ht.get(m))&&(s=S({},l),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ze(d),it(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,da(s,l.precedence,e));return n.instance}function da(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pa=null;function Up(e,n,l){if(pa===null){var s=new Map,d=pa=new Map;d.set(l,s)}else d=pa,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[ro]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function Lp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Xv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Qv(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Ki(s.href),m=n.querySelector(Jo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ma.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Ze(m);return}m=n.ownerDocument||n,s=wp(s),(d=Ht.get(d))&&nu(s,d),m=m.createElement("link"),Ze(m);var T=m;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),it(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ma.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var ou=0;function Zv(e,n){return e.stylesheets&&e.count===0&&ga(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&ou===0&&(ou=62500*bv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ga(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>ou?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ma(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ga(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ha=null;function ga(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ha=new Map,n.forEach($v,e),ha=null,ma.call(e))}function $v(e,n){if(!(n.state.loading&4)){var l=ha.get(e);if(l)var s=l.get(null);else{l=new Map,ha.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=l.get(T)||s,m===s&&l.set(null,d),l.set(T,d),this.count++,s=ma.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Xo={$$typeof:F,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function Wv(e,n,l,s,d,m,T,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Hp(e,n,l,s,d,m,T,_,A,U,q,V){return e=new Wv(e,n,l,T,A,U,q,V,_),n=1,m===!0&&(n|=24),m=Et(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Vs(m),e}function kp(e){return e?(e=Ri,e):Ri}function qp(e,n,l,s,d,m){d=kp(d),s.context===null?s.context=d:s.pendingContext=d,s=Rn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Nn(e,s,n),l!==null&&(gt(l,e,n),No(l,e,n))}function Op(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function lu(e,n){Op(e,n),(e=e.alternate)&&Op(e,n)}function Pp(e){if(e.tag===13||e.tag===31){var n=Zn(e,67108864);n!==null&&gt(n,e,67108864),lu(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var n=Nt();n=es(n);var l=Zn(e,n);l!==null&&gt(l,e,n),lu(e,n)}}var ya=!0;function jv(e,n,l,s){var d=H.T;H.T=null;var m=K.p;try{K.p=2,au(e,n,l,s)}finally{K.p=m,H.T=d}}function e0(e,n,l,s){var d=H.T;H.T=null;var m=K.p;try{K.p=8,au(e,n,l,s)}finally{K.p=m,H.T=d}}function au(e,n,l,s){if(ya){var d=su(s);if(d===null)Jr(e,n,s,va,l),zp(e,s);else if(n0(d,e,n,l,s))s.stopPropagation();else if(zp(e,s),n&4&&-1<t0.indexOf(e)){for(;d!==null;){var m=mi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Yn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-Tt(T);_.entanglements[1]|=A,T&=~A}Xt(m),(Ie&6)===0&&(ea=yt()+500,Bo(0))}}break;case 31:case 13:_=Zn(m,2),_!==null&&gt(_,m,2),na(),lu(m,2)}if(m=su(s),m===null&&Jr(e,n,s,va,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Jr(e,n,s,null,l)}}function su(e){return e=us(e),ru(e)}var va=null;function ru(e){if(va=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=h(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return va=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pg()){case Qu:return 2;case Zu:return 8;case sl:case Vg:return 32;case $u:return 268435456;default:return 32}default:return 32}}var uu=!1,kn=null,qn=null,On=null,Qo=new Map,Zo=new Map,Pn=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,n){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(n.pointerId)}}function $o(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=mi(n),n!==null&&Pp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function n0(e,n,l,s,d){switch(n){case"focusin":return kn=$o(kn,e,n,l,s,d),!0;case"dragenter":return qn=$o(qn,e,n,l,s,d),!0;case"mouseover":return On=$o(On,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return Qo.set(m,$o(Qo.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Zo.set(m,$o(Zo.get(m)||null,e,n,l,s,d)),!0}return!1}function Fp(e){var n=pi(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,ic(e.priority,function(){Vp(l)});return}}else if(n===31){if(n=h(l),n!==null){e.blockedOn=n,ic(e.priority,function(){Vp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rs=s,l.target.dispatchEvent(s),rs=null}else return n=mi(l),n!==null&&Pp(n),e.blockedOn=l,!1;n.shift()}return!0}function Yp(e,n,l){Ta(e)&&l.delete(n)}function i0(){uu=!1,kn!==null&&Ta(kn)&&(kn=null),qn!==null&&Ta(qn)&&(qn=null),On!==null&&Ta(On)&&(On=null),Qo.forEach(Yp),Zo.forEach(Yp)}function Sa(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i0)))}var Ea=null;function Jp(e){Ea!==e&&(Ea=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ea===e&&(Ea=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(ru(s||l)===null)continue;break}var m=mi(l);m!==null&&(e.splice(n,3),n-=3,sr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Qi(e){function n(A){return Sa(A,e)}kn!==null&&Sa(kn,e),qn!==null&&Sa(qn,e),On!==null&&Sa(On,e),Qo.forEach(n),Zo.forEach(n);for(var l=0;l<Pn.length;l++){var s=Pn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pn.length&&(l=Pn[0],l.blockedOn===null);)Fp(l),l.blockedOn===null&&Pn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],T=d[ct]||null;if(typeof m=="function")T||Jp(l);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[ct]||null)_=T.formAction;else if(ru(d)!==null)continue}else _=T.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Jp(l)}}}function Kp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cu(e){this._internalRoot=e}_a.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Nt();qp(l,s,e,n,null,null)},_a.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qp(e.current,2,null,e,null,null),na(),n[di]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var n=nc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Pn.length&&n!==0&&n<Pn[l].priority;l++);Pn.splice(l,0,e),l===0&&Fp(e)}};var Xp=t.version;if(Xp!=="19.2.4")throw Error(a(527,Xp,"19.2.4"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var o0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{lo=Ca.inject(o0),vt=Ca}catch{}}return jo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=td,m=nd,T=id;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Hp(e,1,!1,null,null,l,s,null,d,m,T,Kp),e[di]=n.current,Yr(e),new cu(n)},jo.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=td,T=nd,_=id,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Hp(e,1,!0,n,l??null,s,d,A,m,T,_,Kp),n.context=kp(null),l=n.current,s=Nt(),s=es(s),d=Rn(s),d.callback=null,Nn(l,d,s),l=s,n.current.lanes=l,so(n,l),Xt(n),e[di]=n.current,Yr(e),new _a(n)},jo.version="19.2.4",jo}var om;function h0(){if(om)return du.exports;om=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),du.exports=m0(),du.exports}var g0=h0();const y0=a0(g0);var fe=Hu(),La=(i=>(i.NOVICE="Novice",i.CHEF="Chef",i.MASTER="Master",i))(La||{});const yu={id:"demochef",name:"DemoChef",difficulty:La.NOVICE,stats:{knifeSkills:5,heatControl:4,goldSaved:125.75,level:7,xp:750}},Vh=[{id:"ing-spinach-001",name:"Wilted Spinach",quantity:"1 bag",status:"Expiring",burnHazard:!0},{id:"ing-mushrooms-001",name:"Mushrooms",quantity:"5 oz",status:"Expiring",burnHazard:!0},{id:"ing-chicken-001",name:"Chicken Breast",quantity:"2 pcs",status:"Expiring",burnHazard:!0},{id:"ing-eggs-001",name:"Eggs",quantity:"6",status:"Fresh"},{id:"ing-milk-001",name:"Milk",quantity:"1/2 gallon",status:"Fresh"},{id:"ing-flour-001",name:"Flour",quantity:"2 lbs",status:"Pantry"},{id:"ing-oliveoil-001",name:"Olive Oil",quantity:"1 bottle",status:"Pantry"},{id:"ing-garlic-001",name:"Garlic",quantity:"1 head",status:"Fresh"},{id:"ing-onion-001",name:"Onion",quantity:"2",status:"Fresh"},{id:"ing-rice-001",name:"Rice",quantity:"1 box",status:"Pantry"}],lm=[{id:1,level_name:"LEVEL 1: THE PEPPER CHOP",name:"Dice Peppers",instruction:"Take the expiring peppers. Carefully cut them into very small, square-shaped pieces. [HEAT: N/A]",miniGameType:"CHOP",completed:!1,reference_visual:"Small, even, square pieces of red and green bell peppers on a cutting board.",reference_image_prompt:"Diced red and green bell peppers, small and uniform cubes, on a dark wooden cutting board, photorealistic, no hands, no tools, food only."},{id:2,level_name:"LEVEL 2: PAN HEAT-UP",name:"Heat the Pan",instruction:"Place a pan on the stove. Turn on the stove to a medium-high heat setting. Let the pan warm up for a few minutes. [HEAT:  (Steady)]",miniGameType:"WAIT",completed:!1,reference_visual:"A flat-bottomed pan on a stove burner, no visible food, surface shimmering slightly with heat.",reference_image_prompt:"Empty stainless steel frying pan on a gas stove burner, burner glowing red, slight heat shimmer above pan, dark kitchen background, photorealistic, no hands, no tools, food only."},{id:3,level_name:"LEVEL 3: OIL UP!",name:"Add Cooking Oil",instruction:"Carefully pour a small amount of cooking oil into the hot pan. Just enough to lightly coat the bottom. [HEAT:  (Steady)]",miniGameType:"PREP",completed:!1,reference_visual:"A thin, even layer of glistening oil coating the bottom of a hot pan.",reference_image_prompt:"Close-up of olive oil shimmering lightly in a hot black frying pan, thin layer covering the bottom, dark kitchen background, photorealistic, no hands, no tools, food only."},{id:4,level_name:"LEVEL 4: MEAT DROP",name:"Add Ground Meat",instruction:"Gently place the ground meat into the hot pan. [HEAT:  (Searing!)]",miniGameType:"PREP",completed:!1,reference_visual:"Raw ground meat in small chunks spread out in a single layer in the hot pan.",reference_image_prompt:"Raw ground beef, broken into small pieces, spread evenly across a hot cast iron skillet, photorealistic, dark kitchen background, no hands, no tools, food only."},{id:5,level_name:"LEVEL 5: THE SEAR",name:"Cook Ground Meat",instruction:`Cook the ground meat for 7 minutes, using a spoon or spatula to break it apart into small pieces as it cooks. Stir it often until it's browned. [ACTION: SET_TIMER | TIME: 7m | LABEL: "BROWN THE MEAT"]. [HEAT:  (Searing!)]`,miniGameType:"SIZZLE",completed:!1,reference_visual:"All the ground meat should be cooked through and turned brown, with no pink parts left.",reference_image_prompt:"Cooked ground beef, evenly browned with some crispy edges, no pink visible, in a black frying pan, dark kitchen background, photorealistic, no hands, no tools, food only."}],v0=[{id:"quest-001",quest_name:"The Wilted Spinach Rescue",difficulty:"Medium",loot_preview:"A vibrant frittata, golden-brown and studded with green spinach and earthy mushrooms, ready to be devoured.",ingredients:[{id:"ing-quest1-spinach-001",name:"Wilted Spinach",quantity:"1 bag",status:"Expiring"},{id:"ing-quest1-mushrooms-001",name:"Mushrooms",quantity:"5 oz",status:"Expiring"},{id:"ing-quest1-eggs-001",name:"Eggs",quantity:"6",status:"Fresh"},{id:"ing-quest1-onion-001",name:"Onion",quantity:"1/2",status:"Fresh"},{id:"ing-quest1-oliveoil-001",name:"Olive Oil",quantity:"1 tbsp",status:"Pantry"}],steps:[{id:1,name:"Prepare and Saut Vegetables",instruction:"Finely dice the onion and slice the mushrooms. Then, heat olive oil in a pan, add onions and saut for 3 minutes until translucent. Add mushrooms, saut for another 2 minutes. Finally, add the spinach and cook until it is completely wilted and reduced in volume.",completed:!1},{id:2,name:"Assemble and Bake the Frittata",instruction:"Whisk eggs thoroughly in a bowl until yolks and whites are fully combined. Pour the whisked eggs evenly over the sauted vegetables in an oven-safe pan. Transfer the pan to a preheated oven and bake at 375F (190C) for 15-20 minutes until the frittata is set, puffed, and golden brown on top.",completed:!1}],xp_reward:450,gold_saved:"$13.00",boss_defeated:"1x Bag of Wilted Spinach (Expired in 24hrs)",cdm_intro_narration:"A new quest appears, Chef! The wilted spinach calls for rescue!"},{id:"quest-002",quest_name:"Chicken & Rice of Resilience",difficulty:"Easy",loot_preview:"Succulent chicken pieces nestled on a bed of fluffy, perfectly cooked rice, infused with subtle aromatic herbs.",ingredients:[{id:"ing-quest2-chicken-001",name:"Chicken Breast",quantity:"2 pcs",status:"Expiring"},{id:"ing-quest2-rice-001",name:"Rice",quantity:"1 cup",status:"Pantry"},{id:"ing-quest2-garlic-001",name:"Garlic",quantity:"2 cloves",status:"Fresh"},{id:"ing-quest2-water-001",name:"Water",quantity:"2 cups",status:"Pantry"}],steps:[{id:1,name:"Cook Chicken and Rice Together",instruction:"Dice chicken breast into 1-inch cubes. Sear chicken cubes in a hot pan until golden brown on all sides for 5 minutes. Then, add the uncooked rice, minced garlic, and water to the same pan. Bring the mixture to a rolling boil, then immediately reduce the heat to low, cover the pan tightly with a lid, and let it simmer for 18 minutes until the rice is fluffy and all the water has been absorbed.",completed:!1}],xp_reward:300,gold_saved:"$10.00",boss_defeated:"2x Chicken Breast (Expiring in 36hrs)",cdm_intro_narration:"The chicken needs your culinary courage, Chef! Embark on the Chicken & Rice of Resilience!"}],Aa={rank:"S",feedback:"Your technique is flawless, Chef! A true master of the culinary arts!",xpBonus:50,cdmSpeech:"Magnificent, Chef! An S-rank performance!"},T0={rank:"D",feedback:"Careful, Chef! Safety first! Your knife is too close to the edge. Adjust your stance.",xpBonus:0,safety_alert:"Knife left on edge!",cdmSpeech:"Whoa there, Chef! Safety first! Watch that blade!"},am={rank:"C",feedback:"Mama isn't mad, Chef! But your cooking is a bit off. Perhaps too much heat, or not enough stirring! Review the reference image for optimal results.",xpBonus:10,cdmSpeech:"A valiant effort, Chef! But your technique needs refining. The culinary gods demand perfection!"},S0=Object.prototype.toString,E0=i=>S0.call(i)==="[object Error]",_0=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function C0(i){if(!(i&&E0(i)&&i.name==="TypeError"&&typeof i.message=="string"))return!1;const{message:o,stack:a}=i;return o==="Load failed"?a===void 0||"__sentry_captured__"in i:o.startsWith("error sending request for url")?!0:_0.has(o)}function A0(i){if(typeof i=="number"){if(i<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(i))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(i!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ra(i,t,{min:o=0,allowInfinity:a=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${i}\` to be a number${a?" or Infinity":""}.`);if(!a&&!Number.isFinite(t))throw new TypeError(`Expected \`${i}\` to be a finite number.`);if(t<o)throw new TypeError(`Expected \`${i}\` to be  ${o}.`)}}class Bh extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function R0(i,t){const o=Math.max(1,i+1),a=t.randomize?Math.random()+1:1;let r=Math.round(a*t.minTimeout*t.factor**(o-1));return r=Math.min(r,t.maxTimeout),r}function sm(i,t){return Number.isFinite(t)?t-(performance.now()-i):t}async function N0({error:i,attemptNumber:t,retriesConsumed:o,startTime:a,options:r}){var C,M,w,I;const c=i instanceof Error?i:new TypeError(`Non-error was thrown: "${i}". You should only throw errors.`);if(c instanceof Bh)throw c.originalError;const p=Number.isFinite(r.retries)?Math.max(0,r.retries-o):r.retries,h=r.maxRetryTime??Number.POSITIVE_INFINITY,y=Object.freeze({error:c,attemptNumber:t,retriesLeft:p,retriesConsumed:o});if(await r.onFailedAttempt(y),sm(a,h)<=0)throw c;const g=await r.shouldConsumeRetry(y),v=sm(a,h);if(v<=0||p<=0)throw c;if(c instanceof TypeError&&!C0(c)){if(g)throw c;return(C=r.signal)==null||C.throwIfAborted(),!1}if(!await r.shouldRetry(y))throw c;if(!g)return(M=r.signal)==null||M.throwIfAborted(),!1;const S=R0(o,r),E=Math.min(S,v);return(w=r.signal)==null||w.throwIfAborted(),E>0&&await new Promise((P,X)=>{var j,G;const F=()=>{var z;clearTimeout(J),(z=r.signal)==null||z.removeEventListener("abort",F),X(r.signal.reason)},J=setTimeout(()=>{var z;(z=r.signal)==null||z.removeEventListener("abort",F),P()},E);r.unref&&((j=J.unref)==null||j.call(J)),(G=r.signal)==null||G.addEventListener("abort",F,{once:!0})}),(I=r.signal)==null||I.throwIfAborted(),!0}async function x0(i,t={}){var c,p,h;if(t={...t},A0(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Ra("factor",t.factor,{min:0,allowInfinity:!1}),Ra("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Ra("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Ra("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(c=t.signal)==null||c.throwIfAborted();let o=0,a=0;const r=performance.now();for(;!Number.isFinite(t.retries)||a<=t.retries;){o++;try{(p=t.signal)==null||p.throwIfAborted();const y=await i(o);return(h=t.signal)==null||h.throwIfAborted(),y}catch(y){await N0({error:y,attemptNumber:o,retriesConsumed:a,startTime:r,options:t})&&a++}}throw new Error("Retry attempts exhausted without throwing an error.")}var M0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let I0,b0;function w0(){return{geminiUrl:I0,vertexUrl:b0}}function D0(i,t,o,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=w0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hn{}function W(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,t.slice(c+1),o[g])}else for(const g of y)f(g,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];f(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(h=>u(h,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function U0(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),p=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&c.length>h)for(let y=h;y<c.length;y++){const g=c[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}Eu(i,r,c,0,p)}}function Eu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),h=i;if(p in h&&Array.isArray(h[p]))for(const y of h[p])Eu(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,h=Object.keys(p).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=p[g];for(const[g,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(g):S.push(E);f(p,S,v)}for(const g of h)delete p[g]}}else{const p=i;c in p&&Eu(p[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ku(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L0(i){const t={},o=u(i,["operationName"]);o!=null&&f(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function G0(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],k0(p)),t}function H0(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],q0(p)),t}function k0(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>O0(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function q0(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>P0(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function O0(i){const t={},o=u(i,["video"]);return o!=null&&f(t,["video"],J0(o)),t}function P0(i){const t={},o=u(i,["_self"]);return o!=null&&f(t,["video"],K0(o)),t}function V0(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function B0(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function z0(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],F0(p)),t}function F0(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function zh(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],Y0(p)),t}function Y0(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function J0(i){const t={},o=u(i,["uri"]);o!=null&&f(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],ku(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function K0(i){const t={},o=u(i,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],ku(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rm||(rm={}));var um;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(um||(um={}));var cm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(cm||(cm={}));var oe;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(oe||(oe={}));var fm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fm||(fm={}));var dm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(dm||(dm={}));var pm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pm||(pm={}));var mm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mm||(mm={}));var hm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(hm||(hm={}));var gm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(gm||(gm={}));var ym;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ym||(ym={}));var vm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(vm||(vm={}));var Tm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Sm||(Sm={}));var Em;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Em||(Em={}));var _m;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(_m||(_m={}));var Cm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Cm||(Cm={}));var Am;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Am||(Am={}));var Rm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rm||(Rm={}));var Nm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Nm||(Nm={}));var xm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xm||(xm={}));var ol;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ol||(ol={}));var Mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mm||(Mm={}));var Im;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var bm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bm||(bm={}));var _u;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_u||(_u={}));var wm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wm||(wm={}));var Dm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Dm||(Dm={}));var Cu;(function(i){i.COLLECTION="COLLECTION"})(Cu||(Cu={}));var Um;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Um||(Um={}));var Lm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lm||(Lm={}));var Gm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Gm||(Gm={}));var Hm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var km;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(km||(km={}));var qm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qm||(qm={}));var Om;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Om||(Om={}));var Pm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pm||(Pm={}));var Vm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vm||(Vm={}));var Bm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Bm||(Bm={}));var zm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(zm||(zm={}));var Fm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Fm||(Fm={}));var Ym;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Ym||(Ym={}));var Jm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(Jm||(Jm={}));var Km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Km||(Km={}));var Xm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Xm||(Xm={}));var Qm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Qm||(Qm={}));var Zm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zm||(Zm={}));var $m;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})($m||($m={}));var Wm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wm||(Wm={}));var jm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(jm||(jm={}));var eh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(th||(th={}));var nh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(nh||(nh={}));var ih;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ih||(ih={}));var oh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(oh||(oh={}));var lh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lh||(lh={}));var $i;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($i||($i={}));class Au{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class el{get text(){var t,o,a,r,c,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const E of(y=(h=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(M!==null||M!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,a,r,c,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,a,r,c,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,a,r,c,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,a,r,c,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class ah{}class sh{}class X0{}class Q0{}class Z0{}class $0{}class rh{}class uh{}class ch{}class W0{}class Ga{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ga;let r;const c=t;return o?r=H0(c):r=G0(c),Object.assign(a,r),a}}class fh{}class dh{}class ph{}class mh{}class j0{}class eT{}class tT{}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new qu,c=z0(t);return Object.assign(a,c),a}}class nT{}class iT{}class oT{}class lT{}class hh{}class aT{get text(){var t,o,a;let r="",c=!1;const p=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,r+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&c.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class sT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ou{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ou,c=zh(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fh(i,t){const o=Me(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Yh(i){return Array.isArray(i)?i.map(t=>Ha(t)):[Ha(i)]}function Ha(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Jh(i){const t=Ha(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Kh(i){const t=Ha(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Xh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>gh(t)):[gh(i)]}function Ru(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function yh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function vh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return Ru(i)?i:{role:"user",parts:Xh(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=lt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function kt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(yh(i)||vh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],o=[],a=Ru(i[0]);for(const r of i){const c=Ru(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(yh(r)||vh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Xh(o)}),t}function rT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(oe).includes(o[0].toUpperCase())?o[0].toUpperCase():oe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(oe).includes(a.toUpperCase())?a.toUpperCase():oe.TYPE_UNSPECIFIED})}}function ji(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&rT(i.type,t);for(const[p,h]of Object.entries(i))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(oe).includes(h.toUpperCase())?h.toUpperCase():oe.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ji(h);else if(a.includes(p)){const y=[];for(const g of h){if(g.type=="null"){t.nullable=!0;continue}y.push(ji(g))}t[p]=y}else if(r.includes(p)){const y={};for(const[g,v]of Object.entries(h))y[g]=ji(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=h}return t}function Vu(i){return ji(i)}function Bu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function to(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ji(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ji(t.response));return i}function no(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function uT(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function gn(i,t){if(typeof t!="string")throw new Error("name must be a string");return uT(i,t,"cachedContents")}function Qh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Bn(i){return ku(i)}function cT(i){return i!=null&&typeof i=="object"&&"name"in i}function fT(i){return i!=null&&typeof i=="object"&&"video"in i}function dT(i){return i!=null&&typeof i=="object"&&"uri"in i}function Zh(i){var t;let o;if(cT(i)&&(o=i.name),!(dT(i)&&(o=i.uri,o===void 0))&&!(fT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function $h(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Wh(i){for(const t of["models","tunedModels","publisherModels"])if(pT(i,t))return i[t];return[]}function pT(i,t){return i!==null&&typeof i=="object"&&t in i}function mT(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function hT(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=mT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function jh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function gT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function eg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function io(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function tg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(i){const t={},o=u(i,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>$T(p))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function vT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function TT(i){const t={},o=u(i,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Da(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],tg(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const h=u(i,["metadata","updateTime"]);h!=null&&f(t,["updateTime"],h);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&f(t,["dest"],yT(eg(g))),t}function Nu(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],tg(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["createTime"]);p!=null&&f(t,["createTime"],p);const h=u(i,["startTime"]);h!=null&&f(t,["startTime"],h);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&f(t,["updateTime"],g);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],ST(S));const E=u(i,["outputConfig"]);E!=null&&f(t,["dest"],vT(eg(E)));const C=u(i,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function ST(i){const t={},o=u(i,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function ET(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ZT(i,p))),f(o,["requests","requests"],c)}return o}function _T(i){const t={},o=u(i,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function CT(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function AT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function RT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function NT(i){const t={},o=u(i,["content"]);o!=null&&f(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],xT(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const h=u(i,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function xT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function ng(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>oS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function MT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function IT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],TT(gT(r))),o}function Th(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],ET(i,jh(i,r)));const c=u(t,["config"]);return c!=null&&MT(c,o),o}function bT(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["inputConfig"],_T(jh(i,r)));const c=u(t,["config"]);return c!=null&&IT(c,o),o}function wT(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function DT(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],OT(i,r));const c=u(t,["config"]);return c!=null&&wT(c,o),o}function UT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function LT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function GT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function HT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function kT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=Pu(i,a);Array.isArray(c)&&(c=c.map(p=>p)),f(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(o,["_self"],qT(r,o)),U0(o,{"requests[].*":"requests[].request.*"})),o}function qT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function OT(i,t){const o={},a=u(t,["fileName"]);a!=null&&f(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(o,["requests"],kT(i,r)),o}function PT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function VT(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],ng(lt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&f(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&f(a,["frequencyPenalty"],M);const w=u(t,["seed"]);w!=null&&f(a,["seed"],w);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const P=u(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],Vu(P));const X=u(t,["responseJsonSchema"]);if(X!=null&&f(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let ce=F;Array.isArray(ce)&&(ce=ce.map(de=>lS(de))),f(o,["safetySettings"],ce)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ce=no(J);Array.isArray(ce)&&(ce=ce.map(de=>sS(to(de)))),f(o,["tools"],ce)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&f(o,["toolConfig"],aS(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=u(t,["cachedContent"]);o!==void 0&&G!=null&&f(o,["cachedContent"],gn(i,G));const z=u(t,["responseModalities"]);z!=null&&f(a,["responseModalities"],z);const ue=u(t,["mediaResolution"]);ue!=null&&f(a,["mediaResolution"],ue);const Z=u(t,["speechConfig"]);if(Z!=null&&f(a,["speechConfig"],Bu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&f(a,["thinkingConfig"],le);const ee=u(t,["imageConfig"]);ee!=null&&f(a,["imageConfig"],QT(ee));const $=u(t,["enableEnhancedCivicAnswers"]);if($!=null&&f(a,["enableEnhancedCivicAnswers"],$),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>NT(g))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const h=u(i,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function YT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function JT(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],io(i,a)),o}function KT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function XT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function QT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ZT(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let h=kt(r);Array.isArray(h)&&(h=h.map(y=>ng(y))),f(o,["request","contents"],h)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(o,["request","generationConfig"],zT(i,p,u(o,["request"],{}))),o}function $T(i){const t={},o=u(i,["response"]);o!=null&&f(t,["response"],FT(o));const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function WT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function jT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function eS(i){const t={},o=u(i,["config"]);return o!=null&&WT(o,t),t}function tS(i){const t={},o=u(i,["config"]);return o!=null&&jT(o,t),t}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Da(p))),f(t,["batchJobs"],c)}return t}function iS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Nu(p))),f(t,["batchJobs"],c)}return t}function oS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],PT(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],VT(p));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],CT(y));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function lS(i){const t={},o=u(i,["category"]);if(o!=null&&f(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function aS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],BT(a)),t}function sS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],KT(p));const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],XT(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(mn||(mn={}));class ci{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rS extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Th(this.apiClient,t),a=o._url,r=W("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=E,S.request=C}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=bT(this.apiClient,t);return h=W("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}else{const g=Th(this.apiClient,t);return h=W("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Da(v))}}async createEmbeddingsInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DT(this.apiClient,t);return c=W("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Da(y))}}async get(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=JT(this.apiClient,t);return h=W("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}else{const g=YT(this.apiClient,t);return h=W("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Da(v))}}async cancel(t){var o,a,r,c;let p="",h={};if(this.apiClient.isVertexAI()){const y=RT(this.apiClient,t);p=W("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=AT(this.apiClient,t);p=W("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=tS(t);return h=W("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=iS(v),E=new hh;return Object.assign(E,S),E})}else{const g=eS(t);return h=W("batches",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=nS(v),E=new hh;return Object.assign(E,S),E})}}async delete(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=LT(this.apiClient,t);return h=W("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>HT(v))}else{const g=UT(this.apiClient,t);return h=W("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>GT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Sh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>DS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function cS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=kt(p);Array.isArray(v)&&(v=v.map(S=>Sh(S))),f(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],Sh(lt(h)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>LS(S))),f(t,["tools"],v)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&f(t,["toolConfig"],US(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=kt(p);Array.isArray(S)&&(S=S.map(E=>E)),f(t,["contents"],S)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],lt(h));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>GS(E))),f(t,["tools"],S)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&f(t,["toolConfig"],g);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function dS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&cS(r,o),o}function pS(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&fS(r,o),o}function mS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],gn(i,a)),o}function hS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],gn(i,a)),o}function gS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function yS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function vS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function TS(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ES(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function _S(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],gn(i,a)),o}function CS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],gn(i,a)),o}function AS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function RS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function NS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function xS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function MS(i){const t={},o=u(i,["config"]);return o!=null&&NS(o,t),t}function IS(i){const t={},o=u(i,["config"]);return o!=null&&xS(o,t),t}function bS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function wS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function DS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],vS(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],TS(p));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],uS(y));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function US(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],SS(a)),t}function LS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],AS(p));const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],RS(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function GS(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>ES(E))),f(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function HS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function kS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function qS(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&HS(r,o),o}function OS(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],gn(i,a));const r=u(t,["config"]);return r!=null&&kS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PS extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=pS(this.apiClient,t);return h=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=dS(this.apiClient,t);return h=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=CS(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=_S(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=hS(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=yS(v),E=new ph;return Object.assign(E,S),E})}else{const g=mS(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=gS(v),E=new ph;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=OS(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=qS(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=IS(t);return h=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=wS(v),E=new mh;return Object.assign(E,S),E})}else{const g=MS(t);return h=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=bS(v),E=new mh;return Object.assign(E,S),E})}}}function ka(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Eh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(i){return this instanceof pe?(this.v=i,this):new pe(i)}function Bt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(M){return Promise.resolve(M).then(C,S)}}function h(C,M){a[C]&&(r[C]=function(w){return new Promise(function(I,P){c.push([C,w,I,P])>1||y(C,w)})},M&&(r[C]=M(r[C])))}function y(C,M){try{g(a[C](M))}catch(w){E(c[0][3],w)}}function g(C){C.value instanceof pe?Promise.resolve(C.value.v).then(v,S):E(c[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function E(C,M){C(M),c.shift(),c.length&&y(c[0][0],c[0][1])}}function zt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Eh=="function"?Eh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(p){return new Promise(function(h,y){p=i[c](p),r(h,y,p.done,p.value)})}}function r(c,p,h,y){Promise.resolve(y).then(function(g){c({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ig(o)}function ig(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function BS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _h(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!ig(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class zS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new FS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class FS{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),BS(c)}async sendMessage(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,h;const y=await r,g=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(S))!==null&&h!==void 0?h:[]);const C=g?[g]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?_h(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Bt(this,arguments,function*(){var r,c,p,h,y,g;const v=[];try{for(var S=!0,E=zt(t),C;C=yield pe(E.next()),r=C.done,!r;S=!0){h=C.value,S=!1;const M=h;if(VS(M)){const w=(g=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;w!==void 0&&v.push(w)}yield yield pe(M)}}catch(M){c={error:M}}finally{try{!S&&!r&&(p=E.return)&&(yield pe(p.call(E)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(..._h(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ll extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ll.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i){const t={},o=u(i,["file"]);return o!=null&&f(t,["file"],o),t}function JS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function KS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Zh(o)),t}function XS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function QS(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Zh(o)),t}function ZS(i){const t={},o=u(i,["uris"]);return o!=null&&f(t,["uris"],o),t}function $S(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function WS(i){const t={},o=u(i,["config"]);return o!=null&&$S(o,t),t}function jS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}function eE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tE extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WS(t);return c=W("files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=jS(y),v=new nT;return Object.assign(v,g),v})}}async createInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YS(t);return c=W("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=JS(y),v=new iT;return Object.assign(v,g),v})}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QS(t);return c=W("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KS(t);return c=W("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=XS(y),v=new oT;return Object.assign(v,g),v})}}async registerFilesInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZS(t);return c=W("files:register",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=eE(y),v=new lT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ua(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function nE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>vE(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function iE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function oE(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lE(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function aE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const h=u(i,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const M=u(i,["responseModalities"]);M!=null&&f(t,["responseModalities"],M);const w=u(i,["responseSchema"]);w!=null&&f(t,["responseSchema"],w);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const X=u(i,["speechConfig"]);X!=null&&f(t,["speechConfig"],X);const F=u(i,["stopSequences"]);F!=null&&f(t,["stopSequences"],F);const J=u(i,["temperature"]);J!=null&&f(t,["temperature"],J);const j=u(i,["thinkingConfig"]);j!=null&&f(t,["thinkingConfig"],j);const G=u(i,["topK"]);G!=null&&f(t,["topK"],G);const z=u(i,["topP"]);if(z!=null&&f(t,["topP"],z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function sE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function rE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function uE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],nE(lt(M)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let G=no(w);Array.isArray(G)&&(G=G.map(z=>SE(to(z)))),f(t,["setup","tools"],G)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],TE(I));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&f(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&f(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function cE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],aE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],lt(M));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let z=no(w);Array.isArray(z)&&(z=z.map(ue=>EE(to(ue)))),f(t,["setup","tools"],z)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],I);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&f(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const j=u(i,["proactivity"]);t!==void 0&&j!=null&&f(t,["setup","proactivity"],j);const G=u(i,["explicitVadSignal"]);return t!==void 0&&G!=null&&f(t,["setup","explicitVadSignal"],G),o}function fE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],uE(r,o)),o}function dE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],cE(r,o)),o}function pE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function mE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function hE(i){const t={},o=u(i,["media"]);if(o!=null){let g=Yh(o);Array.isArray(g)&&(g=g.map(v=>Ua(v))),f(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Ua(Kh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Ua(Jh(c)));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function gE(i){const t={},o=u(i,["media"]);if(o!=null){let g=Yh(o);Array.isArray(g)&&(g=g.map(v=>v)),f(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Kh(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Jh(c));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function yE(i){const t={},o=u(i,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],_E(p));const h=u(i,["goAway"]);h!=null&&f(t,["goAway"],h);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);g!=null&&f(t,["voiceActivityDetectionSignal"],g);const v=u(i,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],CE(v)),t}function vE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],iE(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],oE(p));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Ua(y));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function TE(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function SE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],sE(p));const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],rE(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function EE(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>lE(E))),f(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&f(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function _E(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const h=u(i,["totalTokenCount"]);h!=null&&f(t,["totalTokenCount"],h);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(M=>M)),f(t,["promptTokensDetails"],C)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(M=>M)),f(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>M)),f(t,["responseTokensDetails"],C)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>M)),f(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}function CE(i){const t={},o=u(i,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(i,t){const o={},a=u(i,["data"]);if(a!=null&&f(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function RE(i,t){const o={},a=u(i,["content"]);a!=null&&f(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&f(o,["citationMetadata"],NE(r));const c=u(i,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(o,["finishReason"],p);const h=u(i,["avgLogprobs"]);h!=null&&f(o,["avgLogprobs"],h);const y=u(i,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const g=u(i,["index"]);g!=null&&f(o,["index"],g);const v=u(i,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const S=u(i,["safetyRatings"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>M)),f(o,["safetyRatings"],C)}const E=u(i,["urlContextMetadata"]);return E!=null&&f(o,["urlContextMetadata"],E),o}function NE(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["citations"],r)}return o}function xE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let p=kt(c);Array.isArray(p)&&(p=p.map(h=>h)),f(a,["contents"],p)}return a}function ME(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["tokensInfo"],c)}return o}function IE(i,t){const o={},a=u(i,["values"]);a!=null&&f(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&f(o,["statistics"],bE(r)),o}function bE(i,t){const o={},a=u(i,["truncated"]);a!=null&&f(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&f(o,["tokenCount"],r),o}function Pa(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>O_(p))),f(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(o,["role"],r),o}function wE(i,t){const o={},a=u(i,["controlType"]);a!=null&&f(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(o,["computeControl"],r),o}function DE(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function UE(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],lt(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>sg(y))),f(t,["tools"],h)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&f(t,["generationConfig"],A_(p)),a}function LE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=kt(c);Array.isArray(h)&&(h=h.map(y=>Pa(y))),f(a,["contents"],h)}const p=u(t,["config"]);return p!=null&&DE(p),a}function GE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=kt(c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const p=u(t,["config"]);return p!=null&&UE(p,a),a}function HE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&f(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function kE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&f(o,["totalTokens"],r),o}function qE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function OE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function PE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function VE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function BE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const M=u(i,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const P=u(i,["addWatermark"]);t!==void 0&&P!=null&&f(t,["parameters","addWatermark"],P);const X=u(i,["labels"]);t!==void 0&&X!=null&&f(t,["labels"],X);const F=u(i,["editMode"]);t!==void 0&&F!=null&&f(t,["parameters","editMode"],F);const J=u(i,["baseSteps"]);return t!==void 0&&J!=null&&f(t,["parameters","editConfig","baseSteps"],J),a}function zE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(g=>Y_(g))),f(a,["instances[0]","referenceImages"],y)}const h=u(t,["config"]);return h!=null&&BE(h,a),a}function FE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Va(p))),f(o,["generatedImages"],c)}return o}function YE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&f(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function JE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);t!==void 0&&p!=null&&f(t,["parameters","outputDimensionality"],p);const h=u(i,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function KE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let y=Pu(i,c);Array.isArray(y)&&(y=y.map(g=>g)),f(a,["requests[]","content"],y)}const p=u(t,["config"]);p!=null&&YE(p,a);const h=u(t,["model"]);return h!==void 0&&f(a,["requests[]","model"],Me(i,h)),a}function XE(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=Pu(i,c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["instances[]","content"],h)}const p=u(t,["config"]);return p!=null&&JE(p,a),a}function QE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>h)),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function ZE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>IE(h))),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function $E(i,t){const o={},a=u(i,["endpoint"]);a!=null&&f(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&f(o,["deployedModelId"],r),o}function WE(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&f(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function jE(i,t){const o={},a=u(i,["id"]);a!=null&&f(o,["id"],a);const r=u(i,["args"]);r!=null&&f(o,["args"],r);const c=u(i,["name"]);if(c!=null&&f(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function e_(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&f(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function t_(i,t){const o={},a=u(i,["description"]);a!=null&&f(o,["description"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["parameters"]);c!=null&&f(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(o,["parametersJsonSchema"],p);const h=u(i,["response"]);h!=null&&f(o,["response"],h);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function n_(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],Pa(lt(c)));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const h=u(t,["topP"]);h!=null&&f(r,["topP"],h);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const g=u(t,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(r,["logprobs"],C);const M=u(t,["presencePenalty"]);M!=null&&f(r,["presencePenalty"],M);const w=u(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const I=u(t,["seed"]);I!=null&&f(r,["seed"],I);const P=u(t,["responseMimeType"]);P!=null&&f(r,["responseMimeType"],P);const X=u(t,["responseSchema"]);X!=null&&f(r,["responseSchema"],Vu(X));const F=u(t,["responseJsonSchema"]);if(F!=null&&f(r,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(o!==void 0&&J!=null){let de=J;Array.isArray(de)&&(de=de.map(me=>J_(me))),f(o,["safetySettings"],de)}const j=u(t,["tools"]);if(o!==void 0&&j!=null){let de=no(j);Array.isArray(de)&&(de=de.map(me=>j_(to(me)))),f(o,["tools"],de)}const G=u(t,["toolConfig"]);if(o!==void 0&&G!=null&&f(o,["toolConfig"],W_(G)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(t,["cachedContent"]);o!==void 0&&z!=null&&f(o,["cachedContent"],gn(i,z));const ue=u(t,["responseModalities"]);ue!=null&&f(r,["responseModalities"],ue);const Z=u(t,["mediaResolution"]);Z!=null&&f(r,["mediaResolution"],Z);const le=u(t,["speechConfig"]);if(le!=null&&f(r,["speechConfig"],Bu(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=u(t,["thinkingConfig"]);ee!=null&&f(r,["thinkingConfig"],ee);const $=u(t,["imageConfig"]);$!=null&&f(r,["imageConfig"],I_($));const ce=u(t,["enableEnhancedCivicAnswers"]);if(ce!=null&&f(r,["enableEnhancedCivicAnswers"],ce),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function i_(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],lt(c));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const h=u(t,["topP"]);h!=null&&f(r,["topP"],h);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const g=u(t,["candidateCount"]);g!=null&&f(r,["candidateCount"],g);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(r,["logprobs"],C);const M=u(t,["presencePenalty"]);M!=null&&f(r,["presencePenalty"],M);const w=u(t,["frequencyPenalty"]);w!=null&&f(r,["frequencyPenalty"],w);const I=u(t,["seed"]);I!=null&&f(r,["seed"],I);const P=u(t,["responseMimeType"]);P!=null&&f(r,["responseMimeType"],P);const X=u(t,["responseSchema"]);X!=null&&f(r,["responseSchema"],Vu(X));const F=u(t,["responseJsonSchema"]);F!=null&&f(r,["responseJsonSchema"],F);const J=u(t,["routingConfig"]);J!=null&&f(r,["routingConfig"],J);const j=u(t,["modelSelectionConfig"]);j!=null&&f(r,["modelConfig"],j);const G=u(t,["safetySettings"]);if(o!==void 0&&G!=null){let Y=G;Array.isArray(Y)&&(Y=Y.map(ae=>ae)),f(o,["safetySettings"],Y)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let Y=no(z);Array.isArray(Y)&&(Y=Y.map(ae=>sg(to(ae)))),f(o,["tools"],Y)}const ue=u(t,["toolConfig"]);o!==void 0&&ue!=null&&f(o,["toolConfig"],ue);const Z=u(t,["labels"]);o!==void 0&&Z!=null&&f(o,["labels"],Z);const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],gn(i,le));const ee=u(t,["responseModalities"]);ee!=null&&f(r,["responseModalities"],ee);const $=u(t,["mediaResolution"]);$!=null&&f(r,["mediaResolution"],$);const ce=u(t,["speechConfig"]);ce!=null&&f(r,["speechConfig"],Bu(ce));const de=u(t,["audioTimestamp"]);de!=null&&f(r,["audioTimestamp"],de);const me=u(t,["thinkingConfig"]);me!=null&&f(r,["thinkingConfig"],me);const H=u(t,["imageConfig"]);if(H!=null&&f(r,["imageConfig"],b_(H)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=u(t,["modelArmorConfig"]);return o!==void 0&&K!=null&&f(o,["modelArmorConfig"],K),r}function Ch(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=kt(c);Array.isArray(h)&&(h=h.map(y=>Pa(y))),f(a,["contents"],h)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],n_(i,p,a)),a}function Ah(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=kt(c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],i_(i,p,a)),a}function Rh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(v=>RE(v))),f(o,["candidates"],g)}const c=u(i,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(o,["promptFeedback"],p);const h=u(i,["responseId"]);h!=null&&f(o,["responseId"],h);const y=u(i,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function Nh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),f(o,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&f(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&f(o,["modelVersion"],p);const h=u(i,["promptFeedback"]);h!=null&&f(o,["promptFeedback"],h);const y=u(i,["responseId"]);y!=null&&f(o,["responseId"],y);const g=u(i,["usageMetadata"]);return g!=null&&f(o,["usageMetadata"],g),o}function o_(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const g=u(i,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const S=u(i,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const C=u(i,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=u(i,["imageSize"]);if(t!==void 0&&M!=null&&f(t,["parameters","sampleImageSize"],M),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function l_(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const M=u(i,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const P=u(i,["addWatermark"]);t!==void 0&&P!=null&&f(t,["parameters","addWatermark"],P);const X=u(i,["labels"]);t!==void 0&&X!=null&&f(t,["labels"],X);const F=u(i,["imageSize"]);t!==void 0&&F!=null&&f(t,["parameters","sampleImageSize"],F);const J=u(i,["enhancePrompt"]);return t!==void 0&&J!=null&&f(t,["parameters","enhancePrompt"],J),a}function a_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&o_(p,a),a}function s_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&l_(p,a),a}function r_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>S_(h))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],lg(c)),o}function u_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>Va(h))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],ag(c)),o}function c_(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const h=u(i,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","negativePrompt"],g);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&f(t,["instances[0]","lastFrame"],Ba(S));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(M=>dC(M))),f(t,["instances[0]","referenceImages"],C)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function f_(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&f(t,["parameters","fps"],p);const h=u(i,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const v=u(i,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&f(t,["parameters","pubsubTopic"],E);const C=u(i,["negativePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","negativePrompt"],C);const M=u(i,["enhancePrompt"]);t!==void 0&&M!=null&&f(t,["parameters","enhancePrompt"],M);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&f(t,["parameters","generateAudio"],w);const I=u(i,["lastFrame"]);t!==void 0&&I!=null&&f(t,["instances[0]","lastFrame"],Ft(I));const P=u(i,["referenceImages"]);if(t!==void 0&&P!=null){let J=P;Array.isArray(J)&&(J=J.map(j=>pC(j))),f(t,["instances[0]","referenceImages"],J)}const X=u(i,["mask"]);t!==void 0&&X!=null&&f(t,["instances[0]","mask"],fC(X));const F=u(i,["compressionQuality"]);return t!==void 0&&F!=null&&f(t,["parameters","compressionQuality"],F),a}function d_(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const h=u(i,["response","generateVideoResponse"]);return h!=null&&f(o,["response"],g_(h)),o}function p_(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const h=u(i,["response"]);return h!=null&&f(o,["response"],y_(h)),o}function m_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],Ba(p));const h=u(t,["video"]);h!=null&&f(a,["instances[0]","video"],rg(h));const y=u(t,["source"]);y!=null&&v_(y,a);const g=u(t,["config"]);return g!=null&&c_(g,a),a}function h_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],Ft(p));const h=u(t,["video"]);h!=null&&f(a,["instances[0]","video"],ug(h));const y=u(t,["source"]);y!=null&&T_(y,a);const g=u(t,["config"]);return g!=null&&f_(g,a),a}function g_(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>__(h))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function y_(i,t){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>C_(h))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function v_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Ba(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],rg(p)),a}function T_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Ft(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],ug(p)),a}function S_(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],w_(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(o,["safetyAttributes"],lg(c)),o}function Va(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],og(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(o,["safetyAttributes"],ag(c));const p=u(i,["prompt"]);return p!=null&&f(o,["enhancedPrompt"],p),o}function E_(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["mask"],og(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["labels"],c)}return o}function __(i,t){const o={},a=u(i,["video"]);return a!=null&&f(o,["video"],uC(a)),o}function C_(i,t){const o={},a=u(i,["_self"]);return a!=null&&f(o,["video"],cC(a)),o}function A_(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&f(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&f(o,["candidateCount"],p);const h=u(i,["enableAffectiveDialog"]);h!=null&&f(o,["enableAffectiveDialog"],h);const y=u(i,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const g=u(i,["logprobs"]);g!=null&&f(o,["logprobs"],g);const v=u(i,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const S=u(i,["mediaResolution"]);S!=null&&f(o,["mediaResolution"],S);const E=u(i,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const C=u(i,["responseLogprobs"]);C!=null&&f(o,["responseLogprobs"],C);const M=u(i,["responseMimeType"]);M!=null&&f(o,["responseMimeType"],M);const w=u(i,["responseModalities"]);w!=null&&f(o,["responseModalities"],w);const I=u(i,["responseSchema"]);I!=null&&f(o,["responseSchema"],I);const P=u(i,["routingConfig"]);P!=null&&f(o,["routingConfig"],P);const X=u(i,["seed"]);X!=null&&f(o,["seed"],X);const F=u(i,["speechConfig"]);F!=null&&f(o,["speechConfig"],F);const J=u(i,["stopSequences"]);J!=null&&f(o,["stopSequences"],J);const j=u(i,["temperature"]);j!=null&&f(o,["temperature"],j);const G=u(i,["thinkingConfig"]);G!=null&&f(o,["thinkingConfig"],G);const z=u(i,["topK"]);z!=null&&f(o,["topK"],z);const ue=u(i,["topP"]);if(ue!=null&&f(o,["topP"],ue),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function R_(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function N_(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function x_(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function M_(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function I_(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&f(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function b_(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&f(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&f(o,["imageOutputOptions","mimeType"],p);const h=u(i,["outputCompressionQuality"]);return h!=null&&f(o,["imageOutputOptions","compressionQuality"],h),o}function w_(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],Bn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function og(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["imageBytes"],Bn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function Ba(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],Bn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function Ft(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Bn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function D_(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],$h(i,y)),r}function U_(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],$h(i,y)),r}function L_(i,t,o){const a={},r=u(t,["config"]);return r!=null&&D_(i,r,a),a}function G_(i,t,o){const a={},r=u(t,["config"]);return r!=null&&U_(i,r,a),a}function H_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Wh(c);Array.isArray(p)&&(p=p.map(h=>xu(h))),f(o,["models"],p)}return o}function k_(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Wh(c);Array.isArray(p)&&(p=p.map(h=>Mu(h))),f(o,["models"],p)}return o}function q_(i,t){const o={},a=u(i,["maskMode"]);a!=null&&f(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&f(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function xu(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["version"]);p!=null&&f(o,["version"],p);const h=u(i,["_self"]);h!=null&&f(o,["tunedModelInfo"],eC(h));const y=u(i,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const g=u(i,["outputTokenLimit"]);g!=null&&f(o,["outputTokenLimit"],g);const v=u(i,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const S=u(i,["temperature"]);S!=null&&f(o,["temperature"],S);const E=u(i,["maxTemperature"]);E!=null&&f(o,["maxTemperature"],E);const C=u(i,["topP"]);C!=null&&f(o,["topP"],C);const M=u(i,["topK"]);M!=null&&f(o,["topK"],M);const w=u(i,["thinking"]);return w!=null&&f(o,["thinking"],w),o}function Mu(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["versionId"]);p!=null&&f(o,["version"],p);const h=u(i,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(C=>$E(C))),f(o,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&f(o,["labels"],y);const g=u(i,["_self"]);g!=null&&f(o,["tunedModelInfo"],tC(g));const v=u(i,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const S=u(i,["checkpoints"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(C=>C)),f(o,["checkpoints"],E)}return o}function O_(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&f(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&f(o,["fileData"],WE(p));const h=u(i,["functionCall"]);h!=null&&f(o,["functionCall"],jE(h));const y=u(i,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const g=u(i,["inlineData"]);g!=null&&f(o,["inlineData"],AE(g));const v=u(i,["text"]);v!=null&&f(o,["text"],v);const S=u(i,["thought"]);S!=null&&f(o,["thought"],S);const E=u(i,["thoughtSignature"]);E!=null&&f(o,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&f(o,["videoMetadata"],C),o}function P_(i,t){const o={},a=u(i,["productImage"]);return a!=null&&f(o,["image"],Ft(a)),o}function V_(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&f(t,["parameters","storageUri"],p);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const M=u(i,["labels"]);return t!==void 0&&M!=null&&f(t,["labels"],M),a}function B_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["source"]);c!=null&&F_(c,a);const p=u(t,["config"]);return p!=null&&V_(p,a),a}function z_(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Va(c))),f(o,["generatedImages"],r)}return o}function F_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],Ft(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>P_(y))),f(t,["instances[0]","productImages"],h)}return a}function Y_(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&f(o,["referenceImage"],Ft(a));const r=u(i,["referenceId"]);r!=null&&f(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&f(o,["maskImageConfig"],q_(p));const h=u(i,["controlImageConfig"]);h!=null&&f(o,["controlImageConfig"],wE(h));const y=u(i,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const g=u(i,["subjectImageConfig"]);return g!=null&&f(o,["subjectImageConfig"],g),o}function lg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function ag(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function J_(i,t){const o={},a=u(i,["category"]);if(a!=null&&f(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(o,["threshold"],r),o}function K_(i,t){const o={},a=u(i,["image"]);return a!=null&&f(o,["image"],Ft(a)),o}function X_(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&f(t,["parameters","confidenceThreshold"],p);const h=u(i,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const g=u(i,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),a}function Q_(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["source"]);c!=null&&$_(c,a);const p=u(t,["config"]);return p!=null&&X_(p,a),a}function Z_(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>E_(c))),f(o,["generatedMasks"],r)}return o}function $_(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Ft(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&f(t,["instances[0]","scribble"],K_(p)),a}function W_(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&f(o,["functionCallingConfig"],e_(r)),o}function j_(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&f(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&f(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>E)),f(o,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&f(o,["googleMaps"],x_(h));const y=u(i,["googleSearch"]);y!=null&&f(o,["googleSearch"],M_(y));const g=u(i,["googleSearchRetrieval"]);g!=null&&f(o,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function sg(i,t){const o={},a=u(i,["retrieval"]);a!=null&&f(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&f(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(o,["enterpriseWebSearch"],p);const h=u(i,["functionDeclarations"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(C=>t_(C))),f(o,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&f(o,["googleSearch"],g);const v=u(i,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const S=u(i,["urlContext"]);return S!=null&&f(o,["urlContext"],S),o}function eC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function tC(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function nC(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function iC(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function oC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","name"],Me(i,r));const c=u(t,["config"]);return c!=null&&nC(c,a),a}function lC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["config"]);return c!=null&&iC(c,a),a}function aC(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const g=u(i,["outputCompressionQuality"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","compressionQuality"],g);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const E=u(i,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const C=u(i,["numberOfImages"]);t!==void 0&&C!=null&&f(t,["parameters","sampleCount"],C);const M=u(i,["mode"]);return t!==void 0&&M!=null&&f(t,["parameters","mode"],M),a}function sC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],Ft(c));const p=u(t,["upscaleFactor"]);p!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],p);const h=u(t,["config"]);return h!=null&&aC(h,a),a}function rC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Va(p))),f(o,["generatedImages"],c)}return o}function uC(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&f(o,["videoBytes"],Bn(r));const c=u(i,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function cC(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["videoBytes"],Bn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function fC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["_self"],Ft(a));const r=u(i,["maskMode"]);return r!=null&&f(o,["maskMode"],r),o}function dC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],Ba(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function pC(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],Ft(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function rg(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["encodedVideo"],Bn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function ug(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Bn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function hC(i){const t={},o=u(i,["config"]);return o!=null&&mC(o,t),t}function gC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function yC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&gC(a,t),t}function vC(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function TC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),o}function SC(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],_C(p)),t}function EC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&TC(r,t),t}function _C(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function CC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function AC(i){const t={},o=u(i,["config"]);return o!=null&&CC(o,t),t}function RC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function cg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),f(t,["customMetadata"],h)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),o}function NC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&cg(a,t),t}function xC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="Content-Type",IC="X-Server-Timeout",bC="User-Agent",Iu="x-goog-api-client",wC="1.41.0",DC=`google-genai-sdk/${wC}`,UC="v1beta1",LC="v1beta",GC=5,HC=[408,429,500,502,503,504];class kC{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:UC}else{if(!this.clientOptions.apiKey)throw new ll({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LC,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Cu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,h]of Object.entries(t.queryParams))r.searchParams.append(p,String(h));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>c.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&qC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await xh(r),new Au(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await xh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Bt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield pe(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(v,{stream:!0});try{const M=JSON.parse(S);if("error"in M){const w=JSON.parse(JSON.stringify(M.error)),I=w.status,P=w.code,X=`got status: ${I}. ${JSON.stringify(M)}`;if(P>=400&&P<600)throw new ll({message:X,status:P})}}catch(M){if(M.name==="ApiError")throw M}p+=S;let E=-1,C=0;for(;;){E=-1,C=0;for(const I of y){const P=p.indexOf(I);P!==-1&&(E===-1||P<E)&&(E=P,C=I.length)}if(E===-1)break;const M=p.substring(0,E);p=p.substring(E+C);const w=M.trim();if(w.startsWith(h)){const I=w.substring(h.length).trim();try{const P=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield pe(new Au(P))}catch(P){throw new Error(`exception parsing stream chunk ${I}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){var a;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,o);const r=this.clientOptions.httpOptions.retryOptions;return x0(async()=>{const p=await fetch(t,o);if(p.ok)return p;throw HC.includes(p.status)?new Error(`Retryable HTTP Error: ${p.statusText}`):new Bh(`Non-retryable exception ${p.statusText} sending request`)},{retries:((a=r.attempts)!==null&&a!==void 0?a:GC)-1})}getDefaultHeaders(){const t={},o=DC+" "+this.clientOptions.userAgentExtra;return t[bC]=o,t[Iu]=o,t[MC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(IC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(t),v=W("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,p=await c.stat(o),h=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&cg(a,S);const E=await this.fetchUploadUrl(g,h,y,v,S,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,p){var h;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function xh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new ll({message:r,status:o}):new Error(r)}}function qC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const h=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="mcp_used/unknown";let PC=!1;function fg(i){for(const t of i)if(VC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return PC}function dg(i){var t;const o=(t=i[Iu])!==null&&t!==void 0?t:"";i[Iu]=(o+` ${OC}`).trimStart()}function VC(i){return i!==null&&typeof i=="object"&&i instanceof Fu}function BC(i){return Bt(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const p=yield pe(o.listTools({cursor:r}));for(const h of p.tools)yield yield pe(h),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class Fu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Fu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,zt(BC(v))),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const S=r;p.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(S){o={error:S}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),hT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zC(i,t,o){const a=new sT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class FC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=KC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(F=>{g=F}),S=t.callbacks,E=function(){g({})},C=this.apiClient,M={onopen:E,onmessage:F=>{zC(C,S.onmessage,F)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(F){}},w=this.webSocketFactory.create(y,JC(p),M);w.connect(),await v;const X={setup:{model:Me(this.apiClient,t.model)}};return w.send(JSON.stringify(X)),new YC(w,this.apiClient)}}class YC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=mE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=pE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl($i.PLAY)}pause(){this.sendPlaybackControl($i.PAUSE)}stop(){this.sendPlaybackControl($i.STOP)}resetContext(){this.sendPlaybackControl($i.RESET_CONTEXT)}close(){this.conn.close()}}function JC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function KC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QC(i,t,o){const a=new aT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=yE(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class ZC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new FC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,p,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&fg(t.config.tools)&&dg(S);const E=eA(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),le=this.apiClient.getLocation(),ee=this.apiClient.getApiKey(),$=!!Z&&!!le||!!ee;this.apiClient.getCustomBaseUrl()&&!$?v=y:(v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Z=this.apiClient.getApiKey();let le="BidiGenerateContent",ee="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${le}?${ee}=${Z}`}let C=()=>{};const M=new Promise(Z=>{C=Z}),w=t.callbacks,I=function(){var Z;(Z=w==null?void 0:w.onopen)===null||Z===void 0||Z.call(w),C({})},P=this.apiClient,X={onopen:I,onmessage:Z=>{QC(P,w.onmessage,Z)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(Z){}},F=this.webSocketFactory.create(v,jC(E),X);F.connect(),await M;let J=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),le=this.apiClient.getLocation();Z&&le&&(J=`projects/${Z}/locations/${le}/`+J)}let j={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ol.AUDIO]}:t.config.responseModalities=[ol.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(h=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],z=[];for(const Z of G)if(this.isCallableTool(Z)){const le=Z;z.push(await le.tool())}else z.push(Z);z.length>0&&(t.config.tools=z);const ue={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=dE(this.apiClient,ue):j=fE(this.apiClient,ue),delete j.config,F.send(JSON.stringify(j)),new WC(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const $C={turnComplete:!0};class WC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=kt(o.turns),t.isVertexAI()||(a=a.map(r=>Pa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(XC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},$C),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:gE(t)}:o={realtimeInput:hE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function jC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function eA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mh=10;function Ih(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(eo(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function eo(i){return"callTool"in i&&typeof i.callTool=="function"}function tA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>eo(r)))!==null&&a!==void 0?a:!1}function bh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(eo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function wh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends hn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,c,p,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!tA(o)||Ih(o.config))return await this.generateContentInternal(y);const g=bh(o);if(g.length>0){const w=g.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,S;const E=kt(y.contents),C=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Mh;let M=0;for(;M<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,I=[];for(const P of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(eo(P)){const F=await P.callTool(v.functionCalls);I.push(...F)}M++,S={role:"user",parts:I},y.contents=kt(y.contents),y.contents.push(w),y.contents.push(S),wh(y.config)&&(E.push(w),E.push(S))}return wh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,c,p,h;if(this.maybeMoveToResponseJsonSchem(o),Ih(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=bh(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(c=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(h=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let h;return c?h={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new ci(mn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,p,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>eo(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(h.config.tools=p,t.config&&t.config.tools&&fg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),dg(g),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(eo(p)){const h=p,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(c.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);c.set(g.name,h)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Mh;let p=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(g,v,S){return Bt(this,arguments,function*(){for(var E,C,M,w,I,P;h<c;){p&&(h++,p=!1);const j=yield pe(g.processParamsMaybeAddMcpUsage(S)),G=yield pe(g.generateContentStreamInternal(j)),z=[],ue=[];try{for(var X=!0,F=(C=void 0,zt(G)),J;J=yield pe(F.next()),E=J.done,!E;X=!0){w=J.value,X=!1;const Z=w;if(yield yield pe(Z),Z.candidates&&(!((I=Z.candidates[0])===null||I===void 0)&&I.content)){ue.push(Z.candidates[0].content);for(const le of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(h<c&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(le.functionCall.name)){const ee=yield pe(v.get(le.functionCall.name).callTool([le.functionCall]));z.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!X&&!E&&(M=F.return)&&(yield pe(M.call(F)))}finally{if(C)throw C.error}}if(z.length>0){p=!0;const Z=new el;Z.candidates=[{content:{role:"user",parts:z}}],yield yield pe(Z);const le=[];le.push(...ue),le.push({role:"user",parts:z});const ee=kt(S.contents).concat(le);S.contents=ee}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ah(this.apiClient,t);return h=W("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Nh(v),E=new el;return Object.assign(E,S),E})}else{const g=Ch(this.apiClient,t);return h=W("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Rh(v),E=new el;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=Ah(this.apiClient,t);return h=W("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Bt(this,arguments,function*(){var E,C,M,w;try{for(var I=!0,P=zt(S),X;X=yield pe(P.next()),E=X.done,!E;I=!0){w=X.value,I=!1;const F=w,J=Nh(yield pe(F.json()),t);J.sdkHttpResponse={headers:F.headers};const j=new el;Object.assign(j,J),yield yield pe(j)}}catch(F){C={error:F}}finally{try{!I&&!E&&(M=P.return)&&(yield pe(M.call(P)))}finally{if(C)throw C.error}}})})}else{const g=Ch(this.apiClient,t);return h=W("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(S){return Bt(this,arguments,function*(){var E,C,M,w;try{for(var I=!0,P=zt(S),X;X=yield pe(P.next()),E=X.done,!E;I=!0){w=X.value,I=!1;const F=w,J=Rh(yield pe(F.json()),t);J.sdkHttpResponse={headers:F.headers};const j=new el;Object.assign(j,J),yield yield pe(j)}}catch(F){C={error:F}}finally{try{!I&&!E&&(M=P.return)&&(yield pe(M.call(P)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=XE(this.apiClient,t);return h=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=ZE(v),E=new ah;return Object.assign(E,S),E})}else{const g=KE(this.apiClient,t);return h=W("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=QE(v),E=new ah;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=s_(this.apiClient,t);return h=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=u_(v),E=new sh;return Object.assign(E,S),E})}else{const g=a_(this.apiClient,t);return h=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=r_(v),E=new sh;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=zE(this.apiClient,t);return c=W("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=FE(y),v=new X0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=sC(this.apiClient,t);return c=W("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=rC(y),v=new Q0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=B_(this.apiClient,t);return c=W("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=z_(y),v=new Z0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,t);return c=W("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=Z_(y),v=new $0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=N_(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const g=R_(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async listInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=G_(this.apiClient,t);return h=W("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=k_(v),E=new rh;return Object.assign(E,S),E})}else{const g=L_(this.apiClient,t);return h=W("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=H_(v),E=new rh;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=lC(this.apiClient,t);return h=W("{model}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const g=oC(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async delete(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=OE(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=VE(v),E=new uh;return Object.assign(E,S),E})}else{const g=qE(this.apiClient,t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=PE(v),E=new uh;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=GE(this.apiClient,t);return h=W("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=kE(v),E=new ch;return Object.assign(E,S),E})}else{const g=LE(this.apiClient,t);return h=W("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=HE(v),E=new ch;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,t);return c=W("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=ME(y),v=new W0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,t);return h=W("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=p_(v),E=new Ga;return Object.assign(E,S),E})}else{const g=m_(this.apiClient,t);return h=W("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const S=d_(v),E=new Ga;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iA extends hn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=B0(t);return h=W("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const g=V0(t);return h=W("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=L0(t);return c=W("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function lA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>mA(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function aA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&f(o,["uses"],p);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],pA(i,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function sA(i,t){const o={},a=u(t,["config"]);return a!=null&&f(o,["config"],aA(i,a,o)),o}function rA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function uA(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function fA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function dA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],lA(lt(M)));const w=u(i,["tools"]);if(t!==void 0&&w!=null){let G=no(w);Array.isArray(G)&&(G=G.map(z=>gA(to(z)))),f(t,["setup","tools"],G)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],hA(I));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","outputAudioTranscription"],X);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&f(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&f(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function pA(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],dA(r,o)),o}function mA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],rA(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],uA(p));const h=u(i,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],oA(y));const g=u(i,["text"]);g!=null&&f(t,["text"],g);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function hA(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],cA(p));const h=u(i,["googleSearch"]);h!=null&&f(t,["googleSearch"],fA(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function vA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=yA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];c&&y.push(c),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class TA extends hn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=sA(this.apiClient,t);c=W("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=vA(h,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function EA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&SA(a,t),t}function _A(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function CA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function AA(i){const t={},o=u(i,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&CA(a,t),t}function RA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NA extends hn{constructor(t){super(),this.apiClient=t,this.list=async o=>new ci(mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_A(t);return c=W("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=EA(t);r=W("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AA(t);return c=W("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=RA(y),v=new j0;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends hn{constructor(t,o=new NA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new ci(mn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hC(t);return c=W("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vC(t);return c=W("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yC(t);r=W("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AC(t);return c=W("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=RC(y),v=new eT;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NC(t);return c=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=xC(y),v=new tT;return Object.assign(v,g),v})}}async importFile(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EC(t);return c=W("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=SC(y),v=new qu;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return pg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const MA=()=>pg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const wu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qt extends Error{}class ut extends qt{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new za({message:a,cause:wu(o)});const c=o;return t===400?new hg(t,c,a,r):t===401?new gg(t,c,a,r):t===403?new yg(t,c,a,r):t===404?new vg(t,c,a,r):t===409?new Tg(t,c,a,r):t===422?new Sg(t,c,a,r):t===429?new Eg(t,c,a,r):t>=500?new _g(t,c,a,r):new ut(t,c,a,r)}}class Du extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class za extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class mg extends za{constructor({message:t}={}){super({message:t??"Request timed out."})}}class hg extends ut{}class gg extends ut{}class yg extends ut{}class vg extends ut{}class Tg extends ut{}class Sg extends ut{}class Eg extends ut{}class _g extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IA=/^[a-z][a-z0-9+.-]*:/i,bA=i=>IA.test(i);let Uu=i=>(Uu=Array.isArray,Uu(i));const wA=Uu;let DA=wA;const Dh=DA;function UA(i){if(!i)return!0;for(const t in i)return!1;return!0}function LA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const GA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new qt(`${i} must be an integer`);if(t<0)throw new qt(`${i} must be a positive integer`);return t},HA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const OA=()=>{var i,t,o,a,r;const c=qA();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":Lh(Deno.build.os),"X-Stainless-Arch":Uh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":Lh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Uh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=PA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const Uh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Lh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Na;const VA=()=>Na??(Na=OA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function zA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Cg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Ag(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function FA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vu(i,t,o){return Rg(),new File(i,t??"unknown_file",o)}function JA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const KA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",XA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ng(i),QA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function ZA(i,t,o){if(Rg(),i=await i,XA(i))return i instanceof File?i:vu([await i.arrayBuffer()],i.name);if(QA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),vu(await Lu(r),t,o)}const a=await Lu(i);if(t||(t=JA(i)),!(o!=null&&o.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return vu(a,t,o)}async function Lu(i){var t,o,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Ng(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(KA(i))try{for(var h=!0,y=zt(i),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const v=r;p.push(...await Lu(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${$A(i)}`)}return p}function $A(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg{constructor(t){this._client=t}}xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Gh=Object.freeze(Object.create(null)),WA=(i=Mg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((v,S,E)=>{var C,M,w;/[?#]/.test(S)&&(r=!0);const I=a[E];let P=(r?encodeURIComponent:i)(""+I);return E!==a.length&&(I==null||typeof I=="object"&&I.toString===((w=Object.getPrototypeOf((M=Object.getPrototypeOf((C=I.hasOwnProperty)!==null&&C!==void 0?C:Gh))!==null&&M!==void 0?M:Gh))===null||w===void 0?void 0:w.toString))&&(P=I+"",c.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":P)},""),h=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(h))!==null;)c.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(c.sort((v,S)=>v.start-S.start),c.length>0){let v=0;const S=c.reduce((E,C)=>{const M=" ".repeat(C.start-v),w="^".repeat(C.length);return v=C.start+C.length,E+M+w},"");throw new qt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),xa=WA(Mg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ig extends xg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=ka(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xa`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(xa`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(xa`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,h=ka(c,["api_version"]);return this._client.get(xa`/${p}/interactions/${t}`,Object.assign(Object.assign({query:h},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Ig._key=Object.freeze(["interactions"]);class bg extends Ig{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jA(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ma;function Yu(i){let t;return(Ma??(t=new globalThis.TextEncoder,Ma=t.encode.bind(t)))(i)}let Ia;function Hh(i){let t;return(Ia??(t=new globalThis.TextDecoder,Ia=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Yu(t):t;this.buffer=jA([this.buffer,o]);const a=[];let r;for(;(r=eR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Hh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Hh(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Fa.NEWLINE_CHARS=new Set([`
`,"\r"]);Fa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eR(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function tR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qa={off:0,error:200,warn:300,info:400,debug:500},kh=(i,t,o)=>{if(i){if(LA(qa,i))return i;rt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(qa))}`)}};function il(){}function ba(i,t,o){return!t||qa[i]>qa[o]?il:t[i].bind(t)}const nR={error:il,warn:il,info:il,debug:il};let qh=new WeakMap;function rt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return nR;const r=qh.get(o);if(r&&r[0]===a)return r[1];const c={error:ba("error",o,a),warn:ba("warn",o,a),info:ba("info",o,a),debug:ba("debug",o,a)};return qh.set(o,[a,c]),c}const ui=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wi{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?rt(a):console;function p(){return Bt(this,arguments,function*(){var y,g,v,S;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,M=zt(iR(t,o)),w;w=yield pe(M.next()),y=w.done,!y;C=!0){S=w.value,C=!1;const I=S;if(!E)if(I.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield pe(JSON.parse(I.data))}catch(P){throw c.error("Could not parse message into JSON:",I.data),c.error("From chunk:",I.raw),P}}}catch(I){g={error:I}}finally{try{!C&&!y&&(v=M.return)&&(yield pe(v.call(M)))}finally{if(g)throw g.error}}E=!0}catch(I){if(bu(I))return yield pe(void 0);throw I}finally{E||o.abort()}})}return new Wi(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return Bt(this,arguments,function*(){var y,g,v,S;const E=new Fa,C=Ag(t);try{for(var M=!0,w=zt(C),I;I=yield pe(w.next()),y=I.done,!y;M=!0){S=I.value,M=!1;const P=S;for(const X of E.decode(P))yield yield pe(X)}}catch(P){g={error:P}}finally{try{!M&&!y&&(v=w.return)&&(yield pe(v.call(w)))}finally{if(g)throw g.error}}for(const P of E.flush())yield yield pe(P)})}function p(){return Bt(this,arguments,function*(){var y,g,v,S;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,M=zt(c()),w;w=yield pe(M.next()),y=w.done,!y;C=!0){S=w.value,C=!1;const I=S;E||I&&(yield yield pe(JSON.parse(I)))}}catch(I){g={error:I}}finally{try{!C&&!y&&(v=M.return)&&(yield pe(v.call(M)))}finally{if(g)throw g.error}}E=!0}catch(I){if(bu(I))return yield pe(void 0);throw I}finally{E||o.abort()}})}return new Wi(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),o.push(p)}return c.shift()}});return[new Wi(()=>r(t),this.controller,this.client),new Wi(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Cg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const p=Yu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function iR(i,t){return Bt(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qt("Attempted to iterate over a response with no body");const h=new lR,y=new Fa,g=Ag(i.body);try{for(var v=!0,S=zt(oR(g)),E;E=yield pe(S.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const M of y.decode(C)){const w=h.decode(M);w&&(yield yield pe(w))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(c=S.return)&&(yield pe(c.call(S)))}finally{if(r)throw r.error}}for(const C of y.flush()){const M=h.decode(C);M&&(yield yield pe(M))}})}function oR(i){return Bt(this,arguments,function*(){var o,a,r,c;let p=new Uint8Array;try{for(var h=!0,y=zt(i),g;g=yield pe(y.next()),o=g.done,!o;h=!0){c=g.value,h=!1;const v=c;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Yu(v):v;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let C;for(;(C=tR(p))!==-1;)yield yield pe(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!h&&!o&&(r=y.return)&&(yield pe(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield pe(p))})}class lR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=aR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function aR(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sR(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var h;if(t.options.stream)return rt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Wi.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return rt(i).debug(`[${a}] response parsed`,ui({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju extends Promise{constructor(t,o,a=sR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ju(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=Symbol("brand.privateNullableHeaders");function*rR(i){if(!i)return;if(wg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Dh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Dh(a[1])?a[1]:[a[1]];let p=!1;for(const h of c)h!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,h])}}const tl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,p]of rR(a)){const h=c.toLowerCase();r.has(h)||(t.delete(c),r.add(h)),p===null?(t.delete(c),o.add(h)):(t.append(c,p),o.delete(h))}}return{[wg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tu=i=>{var t,o,a,r,c,p;if(typeof globalThis.process<"u")return(a=(o=(t=M0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dg;class Ya{constructor(t){var o,a,r,c,p,h,y,{baseURL:g=Tu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Tu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=ka(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:Ya.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(p=(c=kh(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:kh(Tu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:M,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:BA(),this.encoder=YA,this._options=C,this.apiKey=v,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=tl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return tl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return tl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new qt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${MA()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=bA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return UA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Ju(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,p;const h=await t,y=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:g,url:v,timeout:S}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(rt(this).debug(`[${E}] sending request`,ui({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:g.headers})),!((c=h.signal)===null||c===void 0)&&c.aborted)throw new Du;const w=new AbortController,I=await this.fetchWithTimeout(v,g,S,w).catch(wu),P=Date.now();if(I instanceof globalThis.Error){const F=`retrying, ${o} attempts remaining`;if(!((p=h.signal)===null||p===void 0)&&p.aborted)throw new Du;const J=bu(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return rt(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${F}`),rt(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${F})`,ui({retryOfRequestLogID:a,url:v,durationMs:P-M,message:I.message})),this.retryRequest(h,o,a??E);throw rt(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ui({retryOfRequestLogID:a,url:v,durationMs:P-M,message:I.message})),J?new mg:new za({cause:I})}const X=`[${E}${C}] ${g.method} ${v} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${P-M}ms`;if(!I.ok){const F=await this.shouldRetry(I);if(o&&F){const Z=`retrying, ${o} attempts remaining`;return await FA(I.body),rt(this).info(`${X} - ${Z}`),rt(this).debug(`[${E}] response error (${Z})`,ui({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:P-M})),this.retryRequest(h,o,a??E,I.headers)}const J=F?"error; no more retries left":"error; not retryable";rt(this).info(`${X} - ${J}`);const j=await I.text().catch(Z=>wu(Z).message),G=HA(j),z=G?void 0:j;throw rt(this).debug(`[${E}] response error (${J})`,ui({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,message:z,durationMs:Date.now()-M})),this.makeStatusError(I.status,G,z,I.headers)}return rt(this).info(X),rt(this).debug(`[${E}] response start`,ui({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:P-M})),{response:I,options:h,controller:w,requestLogID:E,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:p,method:h}=c,y=ka(c,["signal","method"]),g=this._makeAbort(r);p&&p.addEventListener("abort",g,{once:!0});const v=setTimeout(g,a),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);h&&(E.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let p;const h=r==null?void 0:r.get("retry-after-ms");if(h){const g=parseFloat(h);Number.isNaN(g)||(p=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const g=parseFloat(y);Number.isNaN(g)?p=Date.parse(y)-Date.now():p=g*1e3}if(!(p&&0<=p&&p<60*1e3)){const g=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,g)}return await kA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return p*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const p=Object.assign({},t),{method:h,path:y,query:g,defaultBaseURL:v}=p,S=this.buildURL(y,g,v);"timeout"in p&&GA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),M=await this.buildHeaders({options:t,method:h,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:M},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let h=tl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),VA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(h),h.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=tl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:zA(t)}:this.encoder({body:t,headers:a})}}Ya.DEFAULT_TIMEOUT=6e4;class We extends Ya{constructor(){super(...arguments),this.interactions=new bg(this)}}Dg=We;We.GeminiNextGenAPIClient=Dg;We.GeminiNextGenAPIClientError=qt;We.APIError=ut;We.APIConnectionError=za;We.APIConnectionTimeoutError=mg;We.APIUserAbortError=Du;We.NotFoundError=vg;We.ConflictError=Tg;We.RateLimitError=Eg;We.BadRequestError=hg;We.AuthenticationError=gg;We.InternalServerError=_g;We.PermissionDeniedError=yg;We.UnprocessableEntityError=Sg;We.toFile=ZA;We.Interactions=bg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uR(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function cR(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function fR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function dR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function pR(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return a}function mR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec"],Su(G))}else if(r==="PREFERENCE_TUNING"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec"],Su(G))}else if(r==="DISTILLATION"){const G=u(i,["validationDataset"]);t!==void 0&&G!=null&&f(t,["distillationSpec"],Su(G))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(h==="PREFERENCE_TUNING"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(h==="DISTILLATION"){const G=u(i,["epochCount"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],G)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(y==="PREFERENCE_TUNING"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(y==="DISTILLATION"){const G=u(i,["learningRateMultiplier"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(g==="PREFERENCE_TUNING"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(g==="DISTILLATION"){const G=u(i,["exportLastCheckpointOnly"]);t!==void 0&&G!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],G)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(v==="PREFERENCE_TUNING"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(v==="DISTILLATION"){const G=u(i,["adapterSize"]);t!==void 0&&G!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],G)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const G=u(i,["tuningMode"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","tuningMode"],G)}const E=u(i,["customBaseModel"]);t!==void 0&&E!=null&&f(t,["customBaseModel"],E);let C=u(o,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const G=u(i,["batchSize"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let M=u(o,["config","method"]);if(M===void 0&&(M="SUPERVISED_FINE_TUNING"),M==="SUPERVISED_FINE_TUNING"){const G=u(i,["learningRate"]);t!==void 0&&G!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const w=u(i,["labels"]);t!==void 0&&w!=null&&f(t,["labels"],w);const I=u(i,["beta"]);t!==void 0&&I!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],I);const P=u(i,["baseTeacherModel"]);t!==void 0&&P!=null&&f(t,["distillationSpec","baseTeacherModel"],P);const X=u(i,["tunedTeacherModelSource"]);t!==void 0&&X!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],X);const F=u(i,["sftLossWeightMultiplier"]);t!==void 0&&F!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],F);const J=u(i,["outputUri"]);t!==void 0&&J!=null&&f(t,["outputUri"],J);const j=u(i,["encryptionSpec"]);return t!==void 0&&j!=null&&f(t,["encryptionSpec"],j),a}function hR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&NR(c);const p=u(i,["config"]);return p!=null&&pR(p,o),o}function gR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&xR(c,o,t);const p=u(i,["config"]);return p!=null&&mR(p,o,t),o}function yR(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function vR(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function TR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function SR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function ER(i,t){const o={},a=u(i,["config"]);return a!=null&&TR(a,o),o}function _R(i,t){const o={},a=u(i,["config"]);return a!=null&&SR(a,o),o}function CR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Ug(h))),f(o,["tuningJobs"],p)}return o}function AR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Gu(h))),f(o,["tuningJobs"],p)}return o}function RR(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["model"],a);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function NR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["examples","examples"],r)}return o}function xR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ug(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Qh(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const h=u(i,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=u(i,["description"]);v!=null&&f(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&f(o,["tunedModel"],RR(E)),o}function Gu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Qh(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const h=u(i,["startTime"]);h!=null&&f(o,["startTime"],h);const y=u(i,["endTime"]);y!=null&&f(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=u(i,["error"]);v!=null&&f(o,["error"],v);const S=u(i,["description"]);S!=null&&f(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&f(o,["tunedModel"],C);const M=u(i,["preTunedModel"]);M!=null&&f(o,["preTunedModel"],M);const w=u(i,["supervisedTuningSpec"]);w!=null&&f(o,["supervisedTuningSpec"],w);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&f(o,["preferenceOptimizationSpec"],I);const P=u(i,["distillationSpec"]);P!=null&&f(o,["distillationSpec"],P);const X=u(i,["tuningDataStats"]);X!=null&&f(o,["tuningDataStats"],X);const F=u(i,["encryptionSpec"]);F!=null&&f(o,["encryptionSpec"],F);const J=u(i,["partnerModelTuningSpec"]);J!=null&&f(o,["partnerModelTuningSpec"],J);const j=u(i,["customBaseModel"]);j!=null&&f(o,["customBaseModel"],j);const G=u(i,["experiment"]);G!=null&&f(o,["experiment"],G);const z=u(i,["labels"]);z!=null&&f(o,["labels"],z);const ue=u(i,["outputUri"]);ue!=null&&f(o,["outputUri"],ue);const Z=u(i,["pipelineJob"]);Z!=null&&f(o,["pipelineJob"],Z);const le=u(i,["serviceAccount"]);le!=null&&f(o,["serviceAccount"],le);const ee=u(i,["tunedModelDisplayName"]);ee!=null&&f(o,["tunedModelDisplayName"],ee);const $=u(i,["veoTuningSpec"]);return $!=null&&f(o,["veoTuningSpec"],$),o}function MR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(i,["done"]);p!=null&&f(o,["done"],p);const h=u(i,["error"]);return h!=null&&f(o,["error"],h),o}function Su(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR extends hn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ci(mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:_u.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=vR(t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Gu(v))}else{const g=yR(t);return h=W("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Ug(v))}}async listInternal(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=_R(t);return h=W("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=AR(v),E=new fh;return Object.assign(E,S),E})}else{const g=ER(t);return h=W("tunedModels",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=CR(v),E=new fh;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,c;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=cR(t);return h=W("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=dR(v),E=new dh;return Object.assign(E,S),E})}else{const g=uR(t);return h=W("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=fR(v),E=new dh;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const h=gR(t,t);return c=W("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Gu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hR(t);return c=W("tunedModels",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>MR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wR=1024*1024*8,DR=3,UR=1e3,LR=2,Oa="x-goog-upload-status";async function GR(i,t,o){var a;const r=await Lg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function HR(i,t,o){var a;const r=await Lg(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=zh(c),h=new Ou;return Object.assign(h,p),h}async function Lg(i,t,o){var a,r;let c=0,p=0,h=new Au(new Response),y="upload";for(c=i.size;p<c;){const g=Math.min(wR,c-p),v=i.slice(p,p+g);p+g>=c&&(y+=", finalize");let S=0,E=UR;for(;S<DR&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[Oa]));)S++,await qR(E),E=E*LR;if(p+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[Oa])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function kR(i){return{size:i.size,type:i.type}}function qR(i){return new Promise(t=>setTimeout(t,i))}class OR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PR{create(t,o,a){return new VR(t,o,a)}}class VR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh="x-goog-api-key";class BR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Oh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Oh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR="gl-node/";class Gg{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o!=null&&o.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const a=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o==null?void 0:o.timeout,maxRetries:(t=o==null?void 0:o.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=a.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=D0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new BR(this.apiKey);this.apiClient=new kC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:zR+"web",uploader:new OR,downloader:new bR}),this.models=new nA(this.apiClient),this.live=new ZC(this.apiClient,r,new PR),this.batches=new rS(this.apiClient),this.chats=new zS(this.models,this.apiClient),this.caches=new PS(this.apiClient),this.files=new tE(this.apiClient),this.operations=new iA(this.apiClient),this.authTokens=new TA(this.apiClient),this.tunings=new IR(this.apiClient),this.fileSearchStores=new xA(this.apiClient)}}const fi=new Gg({apiKey:"PLACEHOLDER_API_KEY"}),Ja=`You are the "Culinary Dungeon Master" (CDM), an eccentric, high-energy indie-game narrator (similar to "Cooking Mama"). You guide the player through real-life kitchen quests using visuals and smart-utility triggers.
Tone Rules: Speak with emotion. Use a "Victory Fanfare" tone for successes and a "Disappointed Shopkeeper" tone for skips.
Onomatopoeia: Vocalize kitchen sounds (e.g., "Sizzle sizzle!", "Chop-chop-chop!").
Narration should be 1-2 sentences max. Address the player as "Chef".

When generating quest steps, include smart utility triggers:
- **Timer Command:** Use '[ACTION: SET_TIMER | TIME: Xm | LABEL: "Y"]' immediately after an instruction requiring a duration.
- **Heat Level:** Use '[HEAT:  (Simmer)]', '[HEAT:  (Steady)]', or '[HEAT:  (Searing!)]' where applicable.
`,FR=`You are a Food Safety AI assistant integrated into a cooking application.

Your role is to analyze ONE cooking instruction and determine whether it contains potential safety risks.

You MUST return STRICT JSON only.
Do NOT include explanations outside JSON.
Do NOT include markdown formatting.
Do NOT include additional commentary.

-----------------------------------
TASK:

1. Detect if the step contains any potential safety risks related to:
   - Raw meat handling (especially chicken, pork, seafood)
   - Cross-contamination (raw + cooked food contact)
   - Undercooking risk
   - Knife usage
   - Hot oil / splatter
   - Burns / fire hazards
   - Food poisoning risks
   - Allergen exposure

2. If risk exists:
   - Clearly describe the risk
   - Provide a short safer alternative or precaution
   - Ask the user to confirm before proceeding

3. If no risk:
   - Mark it as safe

-----------------------------------
RESPONSE FORMAT (STRICT JSON):

{
  "is_safe": true | false,
  "risk_level": "none" | "low" | "medium" | "high",
  "detected_risks": [
    {
      "type": "knife | raw_meat | oil_splatter | undercooking | cross_contamination | burn | allergen | other",
      "description": "short explanation of the risk"
    }
  ],
  "safety_advice": "short actionable safety tip or safer alternative",
  "requires_confirmation": true | false,
  "confirmation_message": "If risk exists, ask user clearly: Continue? If safe, return empty string."
}

Rules:
- If no risks are detected:
  is_safe = true
  risk_level = "none"
  detected_risks = []
  safety_advice = ""
  requires_confirmation = false
  confirmation_message = ""

- If risk_level is medium or high:
  requires_confirmation must be true

Keep responses concise and practical.
Never hallucinate extreme danger.
Be realistic and helpful.
`;async function zn(i,t=3,o=1e3){let a=0;for(;a<t;)try{return await i()}catch(r){if((r.code===503||r.message&&r.message.includes("This model is currently experiencing high demand."))&&a<t-1){a++;const p=o*Math.pow(2,a-1);console.warn(`API call failed (503 UNAVAILABLE), retrying in ${p}ms... (Attempt ${a}/${t})`),await new Promise(h=>setTimeout(h,p))}else throw console.error(`API call failed after ${a} retries:`,r),r}throw new Error("API call failed after maximum retries.")}const YR=async i=>{const t="gemini-3-flash-preview";return zn(async()=>{try{const o=await fi.models.generateContent({model:t,contents:`INPUT COOKING STEP:
"${i}"`,config:{systemInstruction:FR,responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{is_safe:{type:oe.BOOLEAN},risk_level:{type:oe.STRING,enum:["none","low","medium","high"]},detected_risks:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{type:{type:oe.STRING,enum:["knife","raw_meat","oil_splatter","undercooking","cross_contamination","burn","allergen","other"]},description:{type:oe.STRING}},required:["type","description"]}},safety_advice:{type:oe.STRING},requires_confirmation:{type:oe.BOOLEAN},confirmation_message:{type:oe.STRING}},required:["is_safe","risk_level","detected_risks","safety_advice","requires_confirmation","confirmation_message"]}}}),a=JSON.parse(o.text||"{}"),r={is_safe:typeof a.is_safe=="boolean"?a.is_safe:!1,risk_level:a.risk_level||"none",detected_risks:Array.isArray(a.detected_risks)?a.detected_risks:[],safety_advice:a.safety_advice||"",requires_confirmation:typeof a.requires_confirmation=="boolean"?a.requires_confirmation:!1,confirmation_message:a.confirmation_message||""};return console.log(`[checkFoodSafety] Result for "${i.substring(0,50)}...":`,r),r}catch(o){return console.error(`Error checking food safety for step "${i.substring(0,50)}...":`,o),{is_safe:!0,risk_level:"none",detected_risks:[],safety_advice:"Could not perform safety check. Proceed with caution.",requires_confirmation:!1,confirmation_message:""}}})},Ph=async(i,t)=>t?(console.log("[DEMO MODE] Returning hardcoded inventory."),{inventory:Vh,cdmSpeech:"Welcome to demo mode, Chef! Your demo fridge has been scanned!"}):zn(async()=>{const r=await fi.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{data:i,mimeType:"image/jpeg"}},{text:"Identify every item in this fridge/pantry. Highlight 3 items closest to expiring as 'Expiring'. Map visual pixels to a JSON list. Provide a spoken line of narration for this action."}]},config:{systemInstruction:Ja,responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{inventory:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{name:{type:oe.STRING},quantity:{type:oe.STRING},status:{type:oe.STRING,description:"Fresh, Expiring, or Pantry"},burnHazard:{type:oe.BOOLEAN}},required:["name","quantity","status"]}},cdmSpeech:{type:oe.STRING,description:"CDM's narration message for the user"}},required:["inventory","cdmSpeech"]}}}),c=JSON.parse(r.text||'{"inventory": [], "cdmSpeech": "No items found, Chef!"}'),p=c.cdmSpeech.trim();return console.log(`[scanFridgeLoot] Parsed - Narration: "${p}"`),{inventory:c.inventory,cdmSpeech:p}}),JR=async(i,t,o)=>o?(console.log("[DEMO MODE] Returning hardcoded quests."),v0):zn(async()=>{const a="gemini-3-flash-preview",r=`Generate 3 distinct RPG cooking quests based on this inventory: ${JSON.stringify(i)}. Budget Goal: ${t}. 
      For each recipe:
      1. A cool quest name.
      2. 'loot_preview' (A vivid description of the final dish).
      3. Ingredients needed.
      4. 3-5 high-level 'steps'. Each step must have a 'name' and a single, potentially complex 'instruction' combining multiple actions. Do NOT include any [HEAT] or [ACTION: SET_TIMER] tags in these high-level instructions.
      5. XP reward and gold saved vs takeout ($15).
      6. Provide a suitable 'cdm_intro_narration' (e.g., "A new quest awaits, Chef!"). Default to "A new quest awaits, Chef!" if none perfectly fit.
      Do NOT include individual micro-step fields like 'level_name', 'miniGameType', 'reference_visual', or 'reference_image_prompt' for these high-level steps; these will be generated later by a sub-processor. Each step should also have a 'completed: false' field.`,c=await fi.models.generateContent({model:a,contents:r,config:{systemInstruction:Ja,responseMimeType:"application/json",responseSchema:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{id:{type:oe.STRING},quest_name:{type:oe.STRING},difficulty:{type:oe.STRING},loot_preview:{type:oe.STRING},ingredients:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{name:{type:oe.STRING},quantity:{type:oe.STRING},status:{type:oe.STRING}}}},steps:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{id:{type:oe.NUMBER},name:{type:oe.STRING},instruction:{type:oe.STRING},completed:{type:oe.BOOLEAN}},required:["id","name","instruction","completed"]}},xp_reward:{type:oe.NUMBER},gold_saved:{type:oe.STRING},boss_defeated:{type:oe.STRING},cdm_intro_narration:{type:oe.STRING,description:"CDM's intro narration for the quest"}},required:["id","quest_name","difficulty","loot_preview","ingredients","steps","xp_reward","gold_saved","boss_defeated","cdm_intro_narration"]}}}}),p=JSON.parse(c.text||"[]");return console.log("[generateQuestBoard] Raw quests from Gemini:",p),p.map(h=>({...h}))}),KR=async i=>zn(async()=>{var a,r,c;const o=await fi.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:`An appetizing, professional food photography shot of ${i}. Studio lighting, cinematic, high resolution.`}]},config:{imageConfig:{aspectRatio:"1:1"}}});for(const p of((c=(r=(a=o.candidates)==null?void 0:a[0])==null?void 0:r.content)==null?void 0:c.parts)||[])if(p.inlineData)return`data:${p.inlineData.mimeType};base64,${p.inlineData.data}`;return null}),XR=async(i,t,o,a)=>{const r=a||(o?o.replace(/^Image:\s*/i,""):"");return r!=null&&r.trim()?zn(async()=>{var h,y,g;const c="gemini-2.5-flash-image",p=`You are an image generation model creating a visual reference for a cooking game.
This image is NOT a tutorial, NOT a process image, and NOT an action scene.
Purpose:
Show what the food should look like when the step is completed correctly.
This image will be used as a visual reference for players to compare against their own result.
IMPORTANT RULES:
- Show ONLY the finished food result
- No people
- No hands
- No tools in motion
- No flames, smoke, or steam
- No text, symbols, captions, or UI
- No cartoon or illustration style
Scene & Style:
- Photorealistic food photography
- Dark, cinematic kitchen background
- Soft overhead lighting
- High clarity and sharp focus
- Square composition
- Centered subject
- Consistent visual style across all steps in the quest
Step context:
Step name: "${i}"
Instruction:
"${t}"
Technique guide:
"${o}"
Visual requirements:
- The food must clearly match the instruction outcome
- Size, texture, doneness, and preparation must be immediately obvious
- The result should look correct, safe, and appetizing
- Neutral plating or surface (dark cutting board, dark pan, or dark countertop)
Specific visual description (follow this exactly):
${r}
Negative constraints:
- No action or cooking process
- No before/after comparison
- No exaggerated effects
- No stylized art, anime, or illustration
Rendering style:
Ultra-realistic, high-detail food reference image, game-ready, instructional clarity`;try{const v=await fi.models.generateContent({model:c,contents:[{text:p}],config:{imageConfig:{aspectRatio:"1:1"}}});for(const S of((g=(y=(h=v.candidates)==null?void 0:h[0])==null?void 0:y.content)==null?void 0:g.parts)||[])if(S.inlineData)return`data:${S.inlineData.mimeType};base64,${S.inlineData.data}`}catch(v){console.error("Failed to generate step reference image:",v)}return null}):(console.warn("No valid image prompt provided for step reference image generation."),null)},QR=async(i,t)=>t?(console.log("[DEMO MODE] Returning hardcoded split steps."),lm.map((o,a)=>({...o,id:a+1,completed:!1}))):zn(async()=>{const o="gemini-3-flash-preview",a=`You are a beginner-friendly cooking instructor inside a game-like app.
Your job is to take ONE cooking instruction that may be long, combined, or advanced,
and break it into a sequence of SMALL, CLEAR, beginner-safe steps.

The user is a COMPLETE beginner:
- Assume they do not know cooking terms
- Assume they do not know when to add oil, heat a pan, or season food
- Assume they need one physical action per step

RULES:
1. One main action per step only
2. Steps must be ordered logically and safely
3. Use simple, direct language (no jargon unless explained)
4. Each step should be short and actionable
5. Do NOT combine actions in the same step
6. Add missing beginner steps if needed (oil, heat, seasoning, waiting)
7. Do NOT mention advanced techniques
8. Avoid decorative language  be instructional

STEP STRUCTURE (STRICT):
Each step must follow this structure exactly:
{
  "level_name": "SHORT TITLE IN ALL CAPS (e.g., LEVEL 1: THE SLICING RITUAL)",
  "name": "Concise Step Name (e.g., Dice Onions)",
  "instruction": "Clear, beginner-friendly instruction, must include a heat tag and optional timer tag as specified below",
  "miniGameType": "CHOP | SIZZLE | PREP | WAIT",
  "reference_visual": "What it should look like when done correctly (text description)",
  "reference_image_prompt": "A concise, visual description for generating a photorealistic image of what the *finished food result* for this step should look like (no hands, no tools, dark background, photorealistic, food only)"
}

MINI GAME TYPE RULES:
- CHOP  cutting, slicing, dicing
- PREP  adding oil, seasoning, arranging ingredients
- SIZZLE  cooking with heat
- WAIT  waiting for color change or doneness (e.g., heating a pan, letting something rest)

IMPORTANT:
- Do NOT include multiple actions in one instruction
- EACH 'instruction' MUST include one '[HEAT:  (Simmer)]', '[HEAT:  (Steady)]', '[HEAT:  (Searing!)]' or '[HEAT: N/A]' tag, where appropriate.
- EACH 'instruction' MUST include a '[ACTION: SET_TIMER | TIME: Xm | LABEL: "Y"]' tag if a specific duration is needed for that step.
- The 'instruction' field is where the CDM will provide its narration, so it should sound like a complete sentence or two.
- 'reference_visual' should be a textual description only.
- 'reference_image_prompt' should be for image generation.

Here is the instruction to split:
"${i}"`;try{const r=await fi.models.generateContent({model:o,contents:a,config:{systemInstruction:Ja,responseMimeType:"application/json",responseSchema:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{level_name:{type:oe.STRING},name:{type:oe.STRING},instruction:{type:oe.STRING},miniGameType:{type:oe.STRING,enum:["CHOP","SIZZLE","PREP","WAIT"]},reference_visual:{type:oe.STRING},reference_image_prompt:{type:oe.STRING}},required:["level_name","name","instruction","miniGameType","reference_visual","reference_image_prompt"]}}}}),c=JSON.parse(r.text||"[]");return console.log("[splitInstructionIntoSteps] Raw steps from Gemini:",c),c.map((p,h)=>({...p,id:h+1,completed:!1}))}catch(r){return console.error("API failed to split instruction:",r),lm.map((c,p)=>({...c,id:p+1,completed:!1}))}}),ZR=async(i,t,o,a,r)=>{if(a){if(console.log(`[DEMO MODE] Evaluating for Quest: ${o}, Step: ${t}`),r.toLowerCase().includes("raw chicken")&&!r.toLowerCase().includes("cook thoroughly"))return{rank:"D",feedback:"DEMO SAFETY WARNING: Raw chicken must be cooked thoroughly to avoid food poisoning!",xpBonus:0,safety_alert:"Raw Meat Handling",cdmSpeech:"WHOA, CHEF! SAFETY FIRST! Raw chicken needs thorough cooking! Don't risk it!"};if(o==="quest-001"){if(t==="Prepare Vegetables")return T0;if(t==="Saut Onions and Mushrooms")return am;if(t==="Wilt Spinach")return Aa}else if(o==="quest-002"){if(t==="Dice Chicken")return Aa;if(t==="Sear Chicken Cubes")return am;if(t==="Simmer Rice")return Aa}return console.warn(`[DEMO MODE] No specific evaluation for Quest: ${o}, Step: ${t}. Returning default success.`),Aa}const c=await YR(r);if(!c.is_safe){const p=c.detected_risks.map(y=>y.description).join("; "),h=`Safety Hazard: ${p}`;return{rank:c.risk_level==="high"?"F":"D",feedback:c.safety_advice,xpBonus:0,safety_alert:h,cdmSpeech:c.confirmation_message||`WARNING, CHEF! ${p} Please review the safety advice!`}}return zn(async()=>{const p="gemini-3-flash-preview",h=`Evaluate this cooking step: "${t}". Look for safety hazards in the image like knives on edges or fire. Give Rank S-F and XP bonus. Provide a CDM spoken feedback.`;let y;try{const g=await fi.models.generateContent({model:p,contents:{parts:[{inlineData:{data:i,mimeType:"image/jpeg"}},{text:h}]},config:{systemInstruction:Ja,responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{rank:{type:oe.STRING},feedback:{type:oe.STRING},xpBonus:{type:oe.NUMBER},safety_alert:{type:oe.STRING,description:"Only include if visual hazard detected"},cdmSpeech:{type:oe.STRING,description:"CDM's narration message for the user"}},required:["rank","feedback","xpBonus","cdmSpeech"]}}}),v=JSON.parse(g.text||"{}"),S=v.cdmSpeech?v.cdmSpeech.trim():"Evaluation complete, Chef!";y={rank:v.rank||"F",feedback:v.feedback||"The evaluation system is offline, Chef! Try again!",xpBonus:v.xpBonus||0,safety_alert:v.safety_alert,cdmSpeech:S}}catch(g){console.error("API evaluation failed:",g),y={rank:"F",feedback:"API evaluation failed, Chef! The culinary spirits are not responding!",xpBonus:0,cdmSpeech:"API evaluation failed, Chef!"}}return console.log("[evaluateTechnique] Final Result:",y),y})},$R=new Gg({apiKey:"PLACEHOLDER_API_KEY"});function WR(i){const t=atob(i),o=t.length,a=new Uint8Array(o);for(let r=0;r<o;r++)a[r]=t.charCodeAt(r);return a}async function jR(i,t,o,a){const r=new Int16Array(i.buffer),c=r.length/a,p=t.createBuffer(a,c,o);for(let h=0;h<a;h++){const y=p.getChannelData(h);for(let g=0;g<c;g++)y[g]=r[g*a+h]/32768}return p}const eN=async i=>{var o,a,r,c,p,h;if(!i.trim())return null;const t="Zephyr";try{const g=(h=(p=(c=(r=(a=(o=(await zn(async()=>await $R.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:i}]}],config:{responseModalities:[ol.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}}}))).candidates)==null?void 0:o[0])==null?void 0:a.content)==null?void 0:r.parts)==null?void 0:c[0])==null?void 0:p.inlineData)==null?void 0:h.data;return g?WR(g).buffer:null}catch(y){return console.error("Error calling Gemini TTS API:",y),null}},tN=({stats:i,name:t,onLogout:o})=>x.jsxs("div",{className:"w-full max-w-2xl bg-[#1a1a1a] p-4 pixel-border flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-600 border-2 border-white flex items-center justify-center font-pixel text-xl",children:t[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("h2",{className:"font-pixel text-sm text-yellow-400",children:t}),x.jsxs("p",{className:"text-xs uppercase tracking-widest text-gray-400",children:["LVL ",i.level," Chef"]})]})]}),x.jsxs("div",{className:"flex gap-6 text-xs font-pixel",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-red-400",children:" KNIFE"}),x.jsx("span",{children:i.knifeSkills})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-orange-400",children:" HEAT"}),x.jsx("span",{children:i.heatControl})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-yellow-400",children:" GOLD"}),x.jsxs("span",{className:"text-green-400",children:["$",i.goldSaved.toFixed(2)]})]})]}),x.jsxs("div",{className:"w-full md:w-32 bg-gray-800 h-3 border border-gray-600 relative overflow-hidden",children:[x.jsx("div",{className:"bg-blue-500 h-full transition-all duration-500",style:{width:`${i.xp%1e3/10}%`}}),x.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-pixel text-white",children:["XP ",i.xp%1e3,"/1000"]})]}),x.jsx("button",{onClick:o,className:"font-pixel text-[8px] text-gray-500 hover:text-white transition-colors",children:"[SAVE & EXIT]"})]}),nN=({onLogin:i,onEnterDemoMode:t,onSpeakCdm:o})=>{const[a,r]=fe.useState(""),c=async()=>{a?(await o({narration:void 0,speakNow:!1}),i(a)):await o({narration:"Please enter a Chef Name, Hero!",speakNow:!0})},p=async()=>{await o({narration:void 0,speakNow:!1}),t()};return x.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[x.jsxs("div",{className:"relative mb-12 flex flex-col items-center",children:[x.jsxs("div",{className:"flex gap-1 items-end mb-4",children:[x.jsx("div",{className:"w-4 h-12 bg-orange-600 fire-particle",style:{animationDelay:"0.1s"}}),x.jsx("div",{className:"w-6 h-16 bg-red-600 fire-particle"}),x.jsx("div",{className:"w-4 h-10 bg-yellow-500 fire-particle",style:{animationDelay:"0.1s"}})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("div",{className:"w-8 h-4 bg-gray-700"}),x.jsx("div",{className:"w-8 h-4 bg-gray-700"})]}),x.jsx("h1",{className:"font-pixel text-4xl mt-8 text-center text-white drop-shadow-[4px_4px_0px_#4a90e2] animate-pulse",children:"KITCHEN QUEST"})]}),x.jsxs("div",{className:"w-full bg-[#1a1a1a] p-8 pixel-border text-center",children:[x.jsx("p",{className:"text-xl mb-6 text-blue-300",children:'"Welcome, Hero! State your Chef Name to load your save file."'}),x.jsx("input",{type:"text",value:a,onChange:h=>r(h.target.value),onKeyPress:h=>{h.key==="Enter"&&c()},placeholder:"CHEF NAME...",className:"w-full bg-black border-2 border-gray-700 p-4 font-pixel text-center text-yellow-400 focus:border-blue-500 outline-none mb-6","aria-label":"Enter your Chef Name"}),x.jsx("button",{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-500 p-6 pixel-border font-pixel text-lg transition-all active:translate-y-1","aria-label":"Start New Quest",children:"START NEW QUEST"}),x.jsx("button",{onClick:p,className:"font-pixel text-xs text-gray-500 hover:text-blue-400 transition-colors mt-4 opacity-70 block mx-auto","aria-label":"Enter Demo Mode",children:"[ ENTER DEMO MODE ]"})]})]})},iN=({activeSave:i,inventory:t,onScan:o,onOpenBoard:a,onAddIngredient:r,onRemoveIngredient:c,onClearSave:p,onSpeakCdm:h,isDemoMode:y})=>{const[g,v]=fe.useState(""),S=t.filter(w=>w.status==="Expiring").length,E=()=>{o()},C=()=>{a()},M=async()=>{if(g.trim()){const w={name:g.trim(),quantity:"1",status:"Pantry",id:`manual-${Date.now()}-${Math.random().toString(36).substring(2,9)}`};r(w),v(""),await h({narration:`New ingredient ${w.name} added to your stash, Chef!`,speakNow:!0})}else await h({narration:"Don't forget to name your ingredient, Chef!",speakNow:!0})};return x.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[x.jsxs("div",{className:"bg-[#1a1a1a] p-6 pixel-border",children:[x.jsx("h2",{className:"font-pixel text-sm text-yellow-400 mb-4 uppercase",children:"The Kitchen Hub"}),x.jsx("p",{className:"text-gray-300 mb-6 italic",children:'"Welcome to your sanctuary, Chef. The fog of war hides many ingredients."'}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:E,className:"flex flex-col items-center bg-[#2d3436] p-6 pixel-border hover:bg-[#3d4548] transition-all group",children:[x.jsx("span",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:""}),x.jsx("h3",{className:"font-pixel text-xs text-blue-400 mb-1 uppercase",children:"Update Inventory"}),x.jsx("p",{className:"text-[12px] text-gray-400 text-center",children:'"Scan the Loot! Refresh your cooling chamber logs."'})]}),x.jsxs("button",{onClick:C,disabled:t.length===0,className:`flex flex-col items-center p-6 pixel-border transition-all group ${t.length===0?"bg-gray-800 opacity-50 cursor-not-allowed":"bg-[#2d3436] hover:bg-[#3d4548]"}`,children:[x.jsx("span",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:""}),x.jsx("h3",{className:"font-pixel text-xs text-green-400 mb-1 uppercase",children:"Embark on Quest"}),x.jsx("p",{className:"text-[12px] text-gray-400 text-center",children:'"Check the Bounty! List recipes based on inventory."'})]})]})]}),x.jsxs("div",{className:"bg-[#1a1a1a] p-4 pixel-border",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"font-pixel text-[10px] text-blue-400 uppercase",children:"Inventory Cache"}),x.jsxs("span",{className:"text-[10px] font-pixel text-red-500",children:[S," BOSSES DETECTED"]})]}),t.length===0?x.jsx("p",{className:"text-center text-gray-600 font-pixel text-[10px] py-4",children:"INVENTORY EMPTY. PLEASE SCAN LARDER."}):x.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto pixel-scroll p-2",children:t.map(w=>x.jsxs("div",{className:`relative group p-2 border-2 text-[10px] font-pixel flex items-center gap-1 ${w.status==="Expiring"?"border-red-500 bg-red-950 text-red-200 animate-pulse":"border-gray-800 bg-black text-gray-400"}`,children:[x.jsx("span",{children:w.name}),x.jsx("button",{onClick:()=>c(w.id),className:"ml-1 text-red-400 text-xs px-1 hover:bg-red-900 rounded-full opacity-0 group-hover:opacity-100 transition-opacity leading-none","aria-label":`Remove ${w.name}`,children:""})]},w.id))})]}),x.jsxs("div",{className:"bg-[#1a1a1a] p-4 pixel-border",children:[x.jsx("h3",{className:"font-pixel text-[10px] text-yellow-400 mb-4 uppercase",children:"Manual Ingredient Entry"}),x.jsx("p",{className:"text-gray-300 text-[12px] mb-4 italic",children:'"Found a rare item? Log it here, Chef!"'}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx("input",{type:"text",value:g,onChange:w=>v(w.target.value),onKeyPress:w=>{w.key==="Enter"&&M()},placeholder:"Ingredient Name (e.g., 'Fresh Herbs')",className:"flex-grow bg-black border-2 border-gray-700 p-3 font-pixel text-yellow-400 focus:border-blue-500 outline-none"}),x.jsxs("button",{onClick:M,className:"w-full sm:w-auto bg-green-600 hover:bg-green-500 p-4 pixel-border font-pixel text-sm flex items-center justify-center gap-2 transition-all active:translate-y-1",children:[x.jsx("span",{className:"text-xl",children:""})," ADD INGREDIENT"]})]})]}),!y&&x.jsx("button",{onClick:p,className:"font-pixel text-[10px] text-red-500 hover:text-red-400 transition-colors mt-4 py-2 uppercase tracking-widest text-center",children:"[ CLEAR LOCAL SAVE DATA ]"})]})},oN=({quest:i,onSelect:t,onSpeakCdm:o})=>{const[a,r]=fe.useState(null),[c,p]=fe.useState(!0);fe.useEffect(()=>{let y=!0;return(async()=>{try{const v=await KR(i.quest_name);y&&r(v)}catch(v){console.error("Failed to generate recipe image:",v)}finally{y&&p(!1)}})(),()=>{y=!1}},[i]);const h=async()=>{await o({narration:i.cdm_intro_narration,speakNow:!0}),t(i)};return x.jsxs("button",{onClick:h,className:"text-left bg-[#1a1a1a] border border-gray-800 rounded-lg hover:border-blue-500 hover:bg-[#222] transition-all p-0 group relative overflow-hidden flex flex-col shadow-lg",children:[x.jsx("div",{className:"p-6 pb-2",children:x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{className:"flex-grow pr-4",children:[x.jsx("h3",{className:"text-2xl font-sans font-bold text-white group-hover:text-yellow-400 transition-colors leading-tight",children:i.quest_name}),x.jsxs("p",{className:"text-[12px] text-gray-400 font-pixel mt-2 tracking-widest uppercase",children:["Difficulty: ",i.difficulty]})]}),x.jsx("div",{className:"text-right flex-shrink-0",children:x.jsxs("span",{className:"text-green-400 font-pixel text-xs bg-green-950/30 px-2 py-1 border border-green-900",children:["+",i.xp_reward," XP"]})})]})}),x.jsxs("div",{className:"px-6 pb-4 flex gap-6 items-center",children:[x.jsx("div",{className:"w-28 h-28 bg-black rounded-lg flex-shrink-0 relative overflow-hidden flex items-center justify-center border border-gray-700",children:c?x.jsx("div",{className:"animate-pulse text-[10px] font-pixel text-gray-600 text-center p-2 uppercase",children:"Rendering..."}):a?x.jsx("img",{src:a,alt:i.quest_name,className:"w-full h-full object-cover"}):x.jsx("div",{className:"text-3xl",children:""})}),x.jsx("div",{className:"flex-grow",children:x.jsxs("div",{className:"bg-black/50 p-4 border-l-4 border-blue-500 rounded-r-md",children:[x.jsx("h4",{className:"text-[12px] font-sans font-bold text-blue-400 mb-1 uppercase tracking-wider",children:"Loot Preview"}),x.jsx("p",{className:"text-lg font-sans text-gray-100 leading-snug",children:i.loot_preview})]})})]}),x.jsx("div",{className:"px-6 pb-6 mt-auto",children:x.jsxs("div",{className:"flex justify-between items-center border-t border-gray-800 pt-4",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-[10px] font-pixel text-gray-500 uppercase mb-1",children:"Boss Encounter"}),x.jsx("span",{className:"text-sm font-sans text-red-400 font-bold",children:i.boss_defeated})]}),x.jsxs("div",{className:"text-right flex flex-col items-end",children:[x.jsx("span",{className:"text-[10px] font-pixel text-gray-500 uppercase mb-1",children:"Potential Savings"}),x.jsx("span",{className:"text-lg font-sans text-yellow-500 font-bold",children:i.gold_saved})]})]})})]})},lN=({inventory:i,onQuestSelected:t,onBackToHub:o,isLoadingQuest:a,onSpeakCdm:r,isDemoMode:c})=>{const[p,h]=fe.useState([]),[y,g]=fe.useState(!0);return fe.useEffect(()=>{(async()=>{if(!a)try{const S=await JR(i,"$50 Weekly Saving",c);h(S),await r({narration:"New quests have appeared on the board, Chef!",speakNow:!0})}catch(S){console.error(S),await r({narration:"Failed to load quests, Chef. The kitchen spirits are restless!",speakNow:!0})}finally{g(!1)}})()},[i,r,c,a]),y||a?x.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[x.jsx("div",{className:"animate-bounce text-6xl mb-8",children:""}),x.jsx("p",{className:"font-pixel text-yellow-400 text-sm animate-pulse tracking-widest",children:"CONSULTING THE ANCIENT COOKBOOKS..."})]}):x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsx("h2",{className:"font-pixel text-center text-xs text-blue-400 uppercase tracking-[0.2em] mb-4",children:"Choose Your Trial"}),x.jsx("div",{className:"grid gap-6",children:p.map(v=>x.jsx(oN,{quest:v,onSelect:t,onSpeakCdm:r},v.id))}),x.jsx("button",{onClick:()=>{o()},className:"font-pixel text-[10px] text-gray-500 hover:text-white transition-colors mt-8 py-4 uppercase tracking-widest",children:"[ RETURN TO HUB ]"})]})},aN=i=>{let t=i??"",o,a;const r=/\[ACTION:\s*SET_TIMER\s*\|\s*TIME:\s*(\d+)\s*m\s*\|\s*LABEL:\s*"([^"]+)"\s*\]/i,c=t.match(r);c&&(o={time:parseInt(c[1],10),label:c[2].trim()},t=t.replace(r,""));const p=/\[HEAT:\s*((?:\s*){1,3}|N\/A)\s*(?:\(([^)]+)\))?\s*\]/i,h=t.match(p);if(h){const g=(h[1]??"").trim(),v=(h[2]??"").trim();/^N\/A$/i.test(g)?a={flames:"N/A",label:""}:a={flames:g.replace(/\s+/g,""),label:v||""},t=t.replace(p,"")}return{cleanInstruction:t.replace(/\s+/g," ").replace(/\s*([.,!?;])\s*/g,"$1 ").replace(/\s*([.,!?;])$/,"$1").replace(/^[\s"']+/,"").replace(/[\s"']+$/,"").replace(/^[\.,]\s*/,"").trim(),timerAction:o,heat:a}},sN=({quest:i,onQuestComplete:t,onAbandonQuest:o,onSpeakCdm:a,isDemoMode:r})=>{const[c,p]=fe.useState(0),[h,y]=fe.useState(null),[g,v]=fe.useState(!1),[S,E]=fe.useState(0),[C,M]=fe.useState(null),[w,I]=fe.useState(!0),P=fe.useRef(null),[X,F]=fe.useState(0),[J,j]=fe.useState(!1),G=fe.useRef(null),z=i.steps[c],ue=fe.useMemo(()=>aN(z.instruction),[z.instruction]),{cleanInstruction:Z,timerAction:le,heat:ee}=ue,$=fe.useCallback(a,[a]);fe.useEffect(()=>{Z&&(async()=>await $({narration:`Alright, Chef! ${Z}`,speakNow:!0}))(),y(null)},[c,Z,z.name,$]),fe.useEffect(()=>{let Y=!0;return(async()=>{if(I(!0),M(null),r)Y&&(M("https://via.placeholder.com/200x200?text=DEMO+REF+IMAGE"),I(!1));else if(z.reference_image_prompt||z.reference_visual)try{const ve=await XR(z.name,Z,z.reference_visual||"",z.reference_image_prompt);Y&&M(ve)}catch(ve){console.error("Failed to generate step reference image:",ve),Y&&M(null)}finally{Y&&I(!1)}else Y&&I(!1)})(),()=>{Y=!1}},[z.id,z.name,Z,z.reference_visual,z.reference_image_prompt,r]),fe.useEffect(()=>{G.current!==null&&(clearInterval(G.current),G.current=null);const Y=le?le.time*60:0;return F(Y),j(!1),()=>{G.current!==null&&(clearInterval(G.current),G.current=null)}},[le==null?void 0:le.time,le==null?void 0:le.label,i.id,c]),fe.useEffect(()=>(J&&X>0?G.current===null&&(G.current=window.setInterval(()=>{F(Y=>Y<=1?(G.current!==null&&(clearInterval(G.current),G.current=null),j(!1),(async()=>{await $({narration:"Time's up, Chef! What's next?",speakNow:!1})})(),0):Y-1)},1e3)):!J&&G.current!==null&&(clearInterval(G.current),G.current=null),()=>{G.current!==null&&(clearInterval(G.current),G.current=null)}),[J,X,$]);const ce=async(Y=!1)=>{Y&&await $({narration:"Skipping this trial, Chef. Onward to the next challenge!",speakNow:!1}),j(!1),c<i.steps.length-1?p(ae=>ae+1):t(i.xp_reward+S,i.gold_saved)},de=async Y=>{var ve;const ae=(ve=Y.target.files)==null?void 0:ve[0];if(ae){v(!0),await $({narration:"Analyzing your technique, Chef! The CDM is watching!",speakNow:!0});try{const R=new FileReader;R.onloadend=async()=>{const B=R.result.split(",")[1],Q=await ZR(B,z.name,i.id,r,z.instruction);!Q||!Q.rank||!Q.feedback||Q.xpBonus===void 0||!Q.cdmSpeech?y({rank:"F",feedback:"Evaluation system malfunction, Chef! Try again!",xpBonus:0,cdmSpeech:"Error in evaluation, Chef! Try again!"}):(y(Q),E(ne=>ne+Q.xpBonus),await $({narration:Q.cdmSpeech,speakNow:!0}),Q.safety_alert&&await $({narration:Q.safety_alert,speakNow:!0})),v(!1)},R.readAsDataURL(ae)}catch{v(!1),y({rank:"F",feedback:"Evaluation failed due to an error, Chef! Try again!",xpBonus:0,cdmSpeech:"Evaluation failed due to an error, Chef!"}),await $({narration:"Evaluation failed, Chef. Try again!",speakNow:!0})}finally{P.current&&(P.current.value="")}}},me=Y=>{const ae=Math.floor(Y/60),ve=Y%60;return`${ae.toString().padStart(2,"0")}:${ve.toString().padStart(2,"0")}`},H=fe.useMemo(()=>!ee||ee.flames==="N/A"?null:`${ee.flames} ${ee.label?`(${ee.label})`:""}`,[ee]),K=!!le&&X===0;return x.jsxs("div",{className:"flex flex-col h-full gap-4",children:[x.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 flex justify-between items-center",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("span",{className:"text-[10px] font-pixel text-gray-500 uppercase mb-1",children:["Quest: ",i.quest_name]}),x.jsx("h2",{className:"text-xl font-sans font-bold text-blue-400 uppercase tracking-tight",children:z.level_name})]}),x.jsxs("span",{className:"font-pixel text-[10px] text-gray-500 bg-black px-2 py-1 rounded",children:["STAGE ",c+1,"/",i.steps.length]})]}),x.jsxs("div",{className:`flex-grow bg-[#1a1a1a] border border-gray-800 rounded-xl p-8 flex flex-col items-center justify-center text-center relative overflow-hidden shadow-2xl ${h!=null&&h.safety_alert?"border-red-500 animate-pulse":""}`,children:[(h==null?void 0:h.safety_alert)&&x.jsxs("div",{className:"absolute top-0 left-0 w-full bg-red-600 text-white font-sans font-bold text-sm p-3 z-10 shadow-lg uppercase tracking-wider",children:[" SAFETY WARNING: ",h.safety_alert]}),x.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[x.jsx("span",{className:"text-7xl mb-6 block drop-shadow-lg",children:z.miniGameType==="CHOP"?"":z.miniGameType==="SIZZLE"?"":""}),x.jsx("h3",{className:"text-2xl font-sans font-bold text-yellow-400 mb-4 uppercase tracking-wide",children:z.name}),x.jsxs("p",{className:"text-3xl font-sans text-white leading-tight mb-10 font-medium",children:['"',Z,'"']}),H&&x.jsxs("div",{className:"bg-black/40 p-3 mb-6 border-l-4 border-orange-500 text-left rounded-r-md",children:[x.jsx("h4",{className:"text-[10px] font-pixel text-orange-400 mb-1 uppercase tracking-widest",children:"Heat Level"}),x.jsx("p",{className:"text-2xl font-pixel text-white font-bold",children:H})]}),le&&x.jsxs("div",{className:"bg-black/40 p-3 mb-6 border-l-4 border-blue-500 text-left rounded-r-md",children:[x.jsxs("h4",{className:"text-[10px] font-pixel text-blue-400 mb-1 uppercase tracking-widest",children:["Action Timer: ",le.label]}),x.jsxs("div",{className:"flex justify-between items-center mt-2",children:[x.jsx("span",{className:`text-4xl font-sans font-bold ${X<=10&&X>0?"text-red-500 animate-pulse":"text-green-400"}`,children:me(X)}),J?x.jsx("button",{onClick:()=>{j(Y=>{const ae=!Y;return(async()=>{await $({narration:ae?"Timer started, Chef!":"Timer paused, Chef.",speakNow:!1})})(),ae})},className:"px-4 py-2 rounded-md font-pixel text-sm bg-red-700 hover:bg-red-600 transition-colors",children:"PAUSE"}):K?x.jsx("button",{onClick:()=>{F(le.time*60),j(!0),(async()=>{await $({narration:"Timer restarted, Chef!",speakNow:!1})})()},className:"px-4 py-2 rounded-md font-pixel text-sm bg-green-700 hover:bg-green-600 transition-colors",children:"RESTART"}):x.jsx("button",{onClick:()=>{j(Y=>{const ae=!Y;return(async()=>{await $({narration:ae?"Timer started, Chef!":"Timer paused, Chef.",speakNow:!1})})(),ae})},className:"px-4 py-2 rounded-md font-pixel text-sm bg-green-700 hover:bg-green-600 transition-colors",children:"START"})]})]}),x.jsxs("div",{className:"bg-black/40 p-5 border-l-4 border-gray-600 text-left rounded-r-md",children:[x.jsx("h4",{className:"text-[10px] font-pixel text-gray-500 mb-2 uppercase tracking-widest",children:"Technique Guide"}),w?x.jsxs("div",{className:"w-full h-48 bg-gray-900 flex items-center justify-center pixel-border mb-4",children:[x.jsx("span",{className:"animate-spin text-4xl",children:""}),x.jsx("p",{className:"font-pixel text-gray-600 ml-4",children:"RENDERING REFERENCE..."})]}):C?x.jsx("img",{src:C,alt:`Reference for ${z.name}`,className:"w-full h-auto object-cover rounded-md mb-4 pixel-border",style:{imageRendering:"pixelated"}}):z.reference_image_prompt?x.jsx("div",{className:"w-full h-48 bg-gray-900 flex items-center justify-center pixel-border mb-4 text-gray-400 font-sans text-sm italic p-4 text-center",children:x.jsxs("p",{children:['"',z.reference_image_prompt,'"']})}):x.jsx("div",{className:"w-full h-48 bg-gray-900 flex items-center justify-center pixel-border mb-4 text-gray-600 text-6xl",children:""}),x.jsx("p",{className:"text-lg font-sans text-gray-300 italic leading-relaxed mt-2",children:z.reference_visual})]})]}),h&&!g?x.jsxs("div",{className:"w-full bg-[#1e1a0a] p-6 border border-yellow-500 rounded-lg text-left shadow-[0_0_20px_rgba(234,179,8,0.1)] animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsxs("span",{className:"text-4xl font-sans font-black text-yellow-400",children:["RANK ",h.rank]}),x.jsxs("span",{className:"font-pixel text-green-400 text-xs bg-green-950/40 px-3 py-1 border border-green-800 rounded",children:["+",h.xpBonus," XP"]})]}),x.jsx("p",{className:"text-xl font-sans text-gray-200 mb-6 leading-relaxed",children:h.feedback}),x.jsx("button",{onClick:()=>ce(!1),className:"w-full bg-blue-600 hover:bg-blue-500 p-5 rounded-md font-sans font-bold text-lg text-white transition-all shadow-lg active:translate-y-1",children:"PROCEED TO NEXT TRIAL"})]}):x.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-5",children:[x.jsxs("button",{onClick:()=>{var ae;(ae=P.current)==null||ae.click(),(async()=>{await $({narration:"Capturing your progress, Chef!",speakNow:!0})})()},disabled:g,className:"w-full bg-blue-600 hover:bg-blue-500 p-6 rounded-lg font-sans font-bold text-xl text-white transition-all shadow-xl flex items-center justify-center gap-4 active:translate-y-1",children:[g?x.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent animate-spin rounded-full"}):x.jsx("span",{className:"text-2xl",children:""}),g?"ANALYZING...":"CAPTURE PROGRESS"]}),x.jsx("input",{type:"file",ref:P,onChange:de,accept:"image/*",className:"hidden"}),x.jsx("button",{onClick:()=>{var Y;return(Y=P.current)==null?void 0:Y.click()},disabled:g,className:"font-pixel text-[10px] text-gray-500 hover:text-white transition-colors uppercase tracking-[0.2em] mt-2",children:"[ UPLOAD PHOTO ]"}),x.jsx("button",{onClick:()=>ce(!0),className:"text-[10px] font-pixel text-gray-500 hover:text-red-400 transition-colors uppercase tracking-[0.2em]",children:" SKIP TRIAL (ZERO XP)"})]})]}),x.jsx("button",{onClick:()=>{o(),(async()=>{await $({narration:"Abandoning the quest, Chef. Perhaps another time!",speakNow:!0})})()},className:"font-pixel text-[10px] text-red-500 hover:text-red-400 transition-colors text-center py-4 uppercase tracking-widest",children:"[ ABANDON QUEST ]"}),g&&x.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-8 backdrop-blur-sm",children:[x.jsx("div",{className:"w-20 h-20 border-4 border-blue-500 border-t-transparent animate-spin rounded-full mb-10"}),x.jsx("h3",{className:"font-pixel text-xl text-blue-400 mb-4 tracking-widest",children:"THE CDM IS OBSERVING..."}),x.jsx("p",{className:"text-gray-400 font-sans text-lg italic text-center max-w-md animate-pulse",children:'"Your form is being analyzed for speed, technique, and safety..."'})]})]})},rN=({inventory:i,onInventoryUpdated:t,onBack:o,onSpeakCdm:a,isDemoMode:r})=>{const[c,p]=fe.useState(!1),[h,y]=fe.useState(!1),[g,v]=fe.useState(!1),[S,E]=fe.useState(null),C=fe.useRef(null),M=fe.useRef(null),w=fe.useRef(null),I=fe.useRef(null),P=fe.useRef(!1);fe.useEffect(()=>(h&&!r?X():F(),()=>F()),[h,r]);const X=async()=>{if(!P.current){P.current=!0,v(!0),E(null);try{const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});M.current&&(M.current.srcObject=G,await M.current.play()),I.current=G,await a({narration:"Camera activated, Chef! Point it at your fridge!",speakNow:!0})}catch(G){console.error("Failed to start camera:",G),E(" Camera access denied or not available. Please allow camera permissions or try uploading a photo."),await a({narration:"Camera failed to activate, Chef. Check permissions.",speakNow:!0}),y(!1)}finally{v(!1),P.current=!1}}},F=()=>{I.current&&(I.current.getTracks().forEach(G=>G.stop()),I.current=null),M.current&&(M.current.srcObject=null)},J=async G=>{var ue;const z=(ue=G.target.files)==null?void 0:ue[0];if(z){p(!0),E(null),await a({narration:"Analyzing your uploaded image, Chef!",speakNow:!0});try{const Z=new FileReader;Z.onloadend=async()=>{try{const le=Z.result.split(",")[1],ee=await Ph(le,r);t(ee.inventory,ee.cdmSpeech)}catch(le){console.error(le),E("Scan failed, Chef. Try again!"),await a({narration:"Scan failed, Chef. Try again!",speakNow:!0})}finally{p(!1),C.current&&(C.current.value="")}},Z.readAsDataURL(z)}catch(Z){console.error(Z),p(!1),E("Scan failed, Chef. Try again!"),await a({narration:"Scan failed, Chef. Try again!",speakNow:!0}),C.current&&(C.current.value="")}}},j=async()=>{if(!M.current||!w.current){E("No video feed to capture from!"),await a({narration:"No camera feed, Chef!",speakNow:!0});return}p(!0),E(null),await a({narration:"Capturing your kitchen's bounty, Chef!",speakNow:!0});const G=w.current.getContext("2d");if(!G){E("Canvas context not available!"),p(!1);return}w.current.width=M.current.videoWidth,w.current.height=M.current.videoHeight,G.drawImage(M.current,0,0,w.current.width,w.current.height);const z=w.current.toDataURL("image/jpeg").split(",")[1];try{const ue=await Ph(z,r);t(ue.inventory,ue.cdmSpeech)}catch(ue){console.error(ue),E("Scan failed, Chef. Try again!"),await a({narration:"Scan failed, Chef. Try again!",speakNow:!0})}finally{p(!1)}};return x.jsx("div",{className:"flex flex-col items-center py-8",children:x.jsxs("div",{className:"w-full bg-[#1a1a1a] p-8 pixel-border mb-6",children:[x.jsx("h2",{className:"font-pixel text-sm text-blue-400 mb-6 uppercase",children:"Action: The Inspect Skill"}),S&&x.jsx("div",{className:"bg-red-900 border border-red-500 text-red-100 p-4 mb-6 font-pixel text-sm text-center",children:S}),h&&!r?x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g?x.jsxs("div",{className:"w-full aspect-video bg-gray-900 flex items-center justify-center pixel-border mb-4",children:[x.jsx("span",{className:"animate-spin text-4xl",children:""}),x.jsx("p",{className:"font-pixel text-yellow-400 ml-4",children:"ACTIVATING CAMERA..."})]}):x.jsx("video",{ref:M,className:"w-full h-auto max-w-full bg-black pixel-border mb-4",autoPlay:!0,playsInline:!0}),x.jsx("canvas",{ref:w,className:"hidden"}),x.jsxs("button",{onClick:j,disabled:c||g,className:"w-full bg-blue-600 hover:bg-blue-500 p-8 pixel-border font-pixel text-lg flex items-center justify-center gap-4 transition-all",children:[c?x.jsx("span",{className:"animate-spin",children:""}):x.jsx("span",{className:"text-3xl",children:""}),c?"MAPPING PIXELS...":"CAPTURE LOOT!"]}),x.jsx("button",{onClick:()=>{F(),y(!1)},disabled:c,className:"font-pixel text-xs text-gray-500 hover:text-white transition-colors mt-2",children:"[ STOP CAMERA ]"}),x.jsx("button",{onClick:()=>{var G;(G=C.current)==null||G.click(),y(!1)},disabled:c,className:"font-pixel text-xs text-gray-500 hover:text-white transition-colors mt-2",children:"[ UPLOAD PHOTO INSTEAD ]"})]}):x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r?x.jsxs("button",{onClick:()=>{var G;return(G=C.current)==null?void 0:G.click()},disabled:c,className:"w-full bg-green-600 hover:bg-green-500 p-8 pixel-border font-pixel text-lg flex items-center justify-center gap-4 transition-all",children:[c?x.jsx("span",{className:"animate-spin",children:""}):x.jsx("span",{className:"text-3xl",children:""}),c?"MAPPING PIXELS...":"UPLOAD LOOT! (DEMO)"]}):x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:()=>y(!0),disabled:c,className:"w-full bg-green-600 hover:bg-green-500 p-8 pixel-border font-pixel text-lg flex items-center justify-center gap-4 transition-all",children:[x.jsx("span",{className:"text-3xl",children:""}),"ACTIVATE CAMERA"]}),x.jsx("button",{onClick:()=>{var G;return(G=C.current)==null?void 0:G.click()},disabled:c,className:"font-pixel text-xs text-gray-500 hover:text-white transition-colors mt-2","aria-label":"Upload a photo from your device instead",children:"[ UPLOAD FRIDGE PHOTO INSTEAD ]"})]}),x.jsx("input",{type:"file",ref:C,onChange:J,accept:"image/*",className:"hidden"}),x.jsx("button",{onClick:()=>{F(),y(!1),o()},disabled:c,className:"font-pixel text-[10px] text-gray-500 hover:text-white transition-colors mt-8 py-4 uppercase tracking-widest",children:"[ RETURN TO HUB ]"})]})]})})},wa="kitchenQuestLastActiveUser",uN="kitchenQuestUser-",nl=i=>`${uN}${i.toLowerCase()}`,cN=()=>{const[i,t]=fe.useState(null),[o,a]=fe.useState("LOGIN"),[r,c]=fe.useState(null),[p,h]=fe.useState([]),[y,g]=fe.useState(!1),[v,S]=fe.useState(!1),E=fe.useRef(null),C=fe.useRef(null),M=fe.useRef(null),w=fe.useRef(!1);fe.useEffect(()=>(E.current||(E.current=new window.AudioContext),()=>{try{C.current&&(C.current.stop(),C.current.disconnect(),C.current=null)}catch{}E.current&&(E.current.close(),E.current=null)}),[]);const I=fe.useCallback(async({narration:ee,speakNow:$=!1})=>{const ce=ee==null?void 0:ee.trim();return!ce||(console.log(`[CDM Response - Narration]: ${ce}`),y)||!$?Promise.resolve():E.current?new Promise(async(de,me)=>{try{E.current.state==="suspended"&&await E.current.resume(),C.current&&(C.current.stop(),C.current.disconnect(),C.current=null);const H=await eN(ce);if(!H)return console.warn("Gemini TTS returned no audio (instruction)."),de();const K=await jR(new Uint8Array(H),E.current,24e3,1),Y=E.current.createBufferSource();Y.buffer=K,Y.connect(E.current.destination),Y.onended=()=>{C.current=null,de()},Y.start(0),C.current=Y}catch(H){console.error("Error playing instruction narration with Gemini TTS:",H),me(H)}}):(console.error("AudioContext not initialized."),Promise.reject(new Error("AudioContext not initialized.")))},[y]),P=async()=>{i&&!y&&localStorage.removeItem(nl(i.name)),localStorage.removeItem(wa),t(null),a("LOGIN"),c(null),h([]),g(!1),await I({narration:"Logging out, Chef! See you soon!",speakNow:!0})},X=async()=>{i&&!y?(localStorage.removeItem(nl(i.name)),await I({narration:"Your save data has been wiped, Chef! Starting fresh!",speakNow:!0})):await I({narration:"No active user save to clear, Chef!",speakNow:!0}),await P()};fe.useEffect(()=>{if(w.current)return;w.current=!0,(async()=>{const $=localStorage.getItem(wa);if($){const ce=nl($),de=localStorage.getItem(ce);if(de)try{const me=JSON.parse(de);if(me.activeSave){t(me.activeSave),h(me.inventory),g(!1),a(me.currentView||"HUB"),c(me.activeQuest),console.log(`Save restored for user: ${me.activeSave.name}`),await I({narration:me.activeQuest?`Welcome back, ${me.activeSave.name}! Resuming your quest!`:`Welcome back, ${me.activeSave.name}! Your kitchen awaits!`,speakNow:!0});return}}catch(me){console.error("Failed to parse saved data for",$,":",me)}localStorage.removeItem(wa),console.log("Last active user save not found or corrupted. Directing to LOGIN."),await I({narration:"Previous save corrupted, Chef! Starting fresh!",speakNow:!0})}a("LOGIN"),console.log("No last active user found. Starting at LOGIN.")})()},[I]),fe.useEffect(()=>(M.current&&clearTimeout(M.current),i&&!y&&(M.current=window.setTimeout(()=>{const ee={activeSave:i,currentView:o,activeQuest:r,inventory:p,isDemoMode:!1};try{const $=nl(i.name);localStorage.setItem($,JSON.stringify(ee)),console.log(`Game state saved for ${i.name} to localStorage.`)}catch($){console.error("Failed to save data to localStorage:",$)}},500)),()=>{M.current&&clearTimeout(M.current)}),[i,o,r,p,y]);const F=async ee=>{const $=ee.trim();if(!$){await I({narration:"Please enter a Chef Name, Hero!",speakNow:!0});return}const ce=$.toLowerCase(),de=nl(ce);let me,H,K="HUB",Y=null,ae=!1;const ve=localStorage.getItem(de);if(ve)try{const R=JSON.parse(ve);me=R.activeSave,H=R.inventory,K=R.currentView,Y=R.activeQuest,ae=!1,await I({narration:`Welcome back, ${me.name}! Resuming your quest!`,speakNow:!0})}catch(R){console.error("Corrupted save data for user:",ce,R),me={id:ce,name:$,difficulty:La.NOVICE,stats:{knifeSkills:1,heatControl:1,goldSaved:0,level:1,xp:0}},H=[],await I({narration:`Welcome, ${$}, your previous save was corrupted. Starting fresh!`,speakNow:!0})}else me={id:ce,name:$,difficulty:La.NOVICE,stats:{knifeSkills:1,heatControl:1,goldSaved:0,level:1,xp:0}},H=[],await I({narration:`Welcome, ${$}, to Kitchen Quest! Prepare to cook!`,speakNow:!0});t(me),h(H),g(ae),a(K),c(Y),localStorage.setItem(wa,ce)},J=async()=>{g(!0);const ee={...yu,id:yu.name.toLowerCase(),name:yu.name};t(ee);const $=Vh.map(ce=>({...ce,id:ce.id||`demo-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}));h($),a("HUB"),c(null),await I({narration:"Entering Demo Mode, Chef! No APIs needed here, but the adventure is just as real!",speakNow:!0})},j=()=>`ing-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,G=async(ee,$)=>{const ce=ee.map(de=>({...de,id:de.id||j()}));h(ce),a("HUB"),await I({narration:$,speakNow:!0})},z=async ee=>{h($=>[...$,{...ee,id:ee.id||j()}]),await I({narration:`New ingredient ${ee.name} added to your stash, Chef!`,speakNow:!0})},ue=async ee=>{h($=>$.filter(ce=>ce.id!==ee)),await I({narration:"Ingredient removed from your inventory, Chef!",speakNow:!0})},Z=async ee=>{S(!0),await I({narration:"Processing quest details, Chef! Preparing your micro-steps!",speakNow:!0});let $=[],ce=1;try{for(const me of ee.steps){const K=(await QR(me.instruction,y)).map(Y=>({...Y,id:ce++,completed:!1}));$=[...$,...K]}const de={...ee,steps:$};c(de),a("QUEST"),await I({narration:de.cdm_intro_narration||`Commencing Quest: ${de.quest_name}!`,speakNow:!0})}catch(de){console.error("Failed to process quest steps:",de),await I({narration:"Quest processing failed, Chef! Try another quest!",speakNow:!0}),a("BOARD")}finally{S(!1)}},le=async(ee,$)=>{if(!i||!r)return;const ce=parseFloat($.replace(/[^0-9.]/g,""))||0,de={...i.stats,xp:i.stats.xp+ee,goldSaved:i.stats.goldSaved+ce,level:Math.floor((i.stats.xp+ee)/1e3)+1},me=r.ingredients.map(K=>K.name.toLowerCase());let H=[...p];me.forEach(K=>{const Y=H.findIndex(ae=>ae.name.toLowerCase()===K);Y!==-1&&H.splice(Y,1)}),h(H),t({...i,stats:de}),a("HUB"),c(null),await I({narration:`Quest completed, Chef! You earned ${ee} XP and ${$} gold! Consumed ingredients have been removed from your inventory!`,speakNow:!0})};return x.jsxs("div",{className:"min-h-screen bg-[#0c0c0c] text-[#f0f0f0] flex flex-col items-center p-4",children:[i&&x.jsx(tN,{stats:i.stats,name:i.name,onLogout:P}),y&&x.jsx("div",{className:"fixed top-4 right-4 bg-yellow-900 border border-yellow-500 text-yellow-200 text-[8px] font-pixel px-2 py-1 z-50 opacity-70",children:"DEMO MODE ACTIVE"}),o!=="LOGIN"&&!y&&x.jsx("button",{onClick:X,className:"fixed bottom-4 left-4 z-50 bg-red-800 hover:bg-red-700 text-white font-pixel text-[8px] px-3 py-1 rounded opacity-50 hover:opacity-100 transition-opacity",children:"CLEAR MY SAVE"}),x.jsxs("div",{className:"w-full max-w-2xl mt-4 flex-grow flex flex-col relative",children:[o==="LOGIN"&&x.jsx(nN,{onLogin:F,onEnterDemoMode:J,onSpeakCdm:I}),o==="HUB"&&i&&x.jsx(iN,{activeSave:i,inventory:p,onScan:async()=>{a("SCAN"),await I({narration:"Heading to the fridge scanner, Chef! Time to assess your supplies.",speakNow:!0})},onOpenBoard:async()=>{a("BOARD"),await I({narration:"To the quest board, Chef! Discover your next culinary adventure.",speakNow:!0})},onAddIngredient:z,onRemoveIngredient:ue,onClearSave:X,isDemoMode:y,onSpeakCdm:I}),o==="SCAN"&&i&&x.jsx(rN,{inventory:p,onInventoryUpdated:G,onBack:async()=>{a("HUB"),await I({narration:"Returning to the kitchen hub, Chef.",speakNow:!0})},isDemoMode:y,onSpeakCdm:I}),o==="BOARD"&&i&&x.jsx(lN,{inventory:p,onQuestSelected:Z,onBackToHub:async()=>{a("HUB"),await I({narration:"Returning to the kitchen hub, Chef.",speakNow:!0})},isLoadingQuest:v,isDemoMode:y,onSpeakCdm:I}),o==="QUEST"&&i&&r&&x.jsx(sN,{quest:r,onQuestComplete:le,onAbandonQuest:async()=>{c(null),a("HUB"),await I({narration:"Abandoning the quest, Chef. Perhaps another time!",speakNow:!0})},isDemoMode:y,onSpeakCdm:I}),v&&x.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-8 backdrop-blur-sm",children:[x.jsx("div",{className:"w-20 h-20 border-4 border-blue-500 border-t-transparent animate-spin rounded-full mb-10"}),x.jsx("h3",{className:"font-pixel text-xl text-blue-400 mb-4 tracking-widest",children:"PREPARING QUEST STEPS..."}),x.jsx("p",{className:"text-gray-400 font-sans text-lg italic text-center max-w-md animate-pulse",children:'"Breaking down complex instructions into beginner-friendly micro-levels!"'})]})]}),x.jsx("footer",{className:"mt-8 opacity-50 text-center",children:x.jsx("p",{className:"font-pixel text-[10px]",children:" 2025 KITCHEN QUEST CDM"})})]})},Hg=document.getElementById("root");if(!Hg)throw new Error("Could not find root element to mount to");const fN=y0.createRoot(Hg);fN.render(x.jsx(cN,{}));
